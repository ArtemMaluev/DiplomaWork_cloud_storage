2023-01-31 18:13:31,690 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:13:31 MSK 2023
2023-01-31 18:13:32,288 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6340 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:13:32,289 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:13:32,290 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:13:32,292 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:13:33,278 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:13:33,279 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:13:33,311 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:13:33,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:13:33,314 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:13:33,321 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:13:33,321 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:13:33,352 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 18:13:33,967 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:13:33,976 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:13:33,977 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:13:33,977 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:13:34,114 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:13:34,114 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1780 ms
2023-01-31 18:13:34,180 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:13:34,370 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:13:35,448 ERROR [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/java.net.PlainSocketImpl.waitForConnect(Native Method)
	at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:107)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 34 common frames omitted
2023-01-31 18:13:35,451 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2023-01-31 18:13:35,454 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 18:13:35,466 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 18:13:35,490 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 20 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/java.net.PlainSocketImpl.waitForConnect(Native Method)
	at java.base/java.net.PlainSocketImpl.socketConnect(PlainSocketImpl.java:107)
	at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)
	at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)
	at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63)
	... 34 common frames omitted
2023-01-31 18:13:49,356 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:13:49 MSK 2023
2023-01-31 18:13:49,972 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:13:49,972 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10892 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:13:49,973 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:13:49,974 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:13:50,855 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:13:50,856 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:13:50,898 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:13:50,901 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:13:50,903 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:13:50,911 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:13:50,911 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:13:50,954 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-01-31 18:13:51,593 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:13:51,603 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:13:51,603 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:13:51,604 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:13:51,713 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:13:51,713 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1700 ms
2023-01-31 18:13:51,790 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:13:51,990 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:13:53,112 ERROR [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:133)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)
	... 37 common frames omitted
2023-01-31 18:13:53,115 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2023-01-31 18:13:53,118 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 18:13:53,130 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 18:13:53,151 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 20 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:133)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)
	... 37 common frames omitted
2023-01-31 18:14:31,062 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:14:31 MSK 2023
2023-01-31 18:14:31,741 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7884 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:14:31,742 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:14:31,743 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:14:31,767 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:14:32,656 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:14:32,657 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:14:32,696 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:14:32,698 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:14:32,700 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:14:32,708 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:14:32,708 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:14:32,745 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-01-31 18:14:33,392 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:14:33,402 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:14:33,402 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:14:33,403 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:14:33,510 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:14:33,511 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1721 ms
2023-01-31 18:14:33,571 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:14:33,753 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:14:34,131 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:14:34,556 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:14:34,617 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:14:34,873 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:14:34,884 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:14:34,917 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:14:34,932 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:14:35,108 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 18:14:35,113 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 21ms
2023-01-31 18:14:35,136 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 18:14:35,138 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-01-31 18:14:35,171 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 18:14:35,173 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 27ms
2023-01-31 18:14:35,184 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:14:35,253 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:14:35,302 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:14:35,480 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:14:35,601 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:14:36,159 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:14:36,168 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:14:36,604 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b37f9439-b3f2-44a6-af89-4a553206ebca

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:14:36,750 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:14:37,001 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15e748b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27ada0e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@768f2398, org.springframework.security.web.header.HeaderWriterFilter@76c2d002, org.springframework.web.filter.CorsFilter@62fa4a88, maluevartem.cloud_storage_backend.security.JWTFilter@546394ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e65c4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b888692, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b6942a0, org.springframework.security.web.session.SessionManagementFilter@23a9400c, org.springframework.security.web.access.ExceptionTranslationFilter@2af1bf5a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f239a76]
2023-01-31 18:14:37,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:14:37,327 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:14:37,337 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.157 seconds (JVM running for 7.434)
2023-01-31 18:14:44,284 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:14:44,285 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:14:44,287 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-01-31 18:14:44,506 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:14:44,511 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:14:45,199 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:14:45,200 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3ODA4NSwibmJmIjoxNjc1MTc4MDg1LCJleHAiOjE2NzUxNzk4ODV9.rrVh6xxgALhEDkM7ElrNov81_p38gRZfffRyQkq4Sgw
2023-01-31 18:15:18,770 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:15:18,772 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:15:18,794 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:15:25,062 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:15:25 MSK 2023
2023-01-31 18:15:25,511 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11896 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:15:25,511 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:15:25,512 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:15:25,514 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:15:26,277 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:15:26,277 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:15:26,304 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:15:26,306 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:15:26,307 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:15:26,315 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:15:26,316 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:15:26,346 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-01-31 18:15:26,881 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:15:26,888 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:15:26,889 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:15:26,889 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:15:26,992 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:15:26,992 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1438 ms
2023-01-31 18:15:27,047 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:15:27,231 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:15:27,492 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:15:27,806 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:15:27,855 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:15:27,989 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:15:27,993 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:15:28,127 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:15:28,218 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:15:28,273 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:15:28,309 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:15:28,430 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:15:28,510 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:15:29,026 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:15:29,035 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:15:29,431 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: d0d9fae7-e9b0-4766-9e3e-ad51f9b773a5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:15:29,528 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:15:29,736 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55159007, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@edf4973, org.springframework.security.web.context.SecurityContextPersistenceFilter@3dfaa1e4, org.springframework.security.web.header.HeaderWriterFilter@237b54bc, org.springframework.web.filter.CorsFilter@2a49753, maluevartem.cloud_storage_backend.security.JWTFilter@5e230fc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44cab872, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@452a32f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e68ccc9, org.springframework.security.web.session.SessionManagementFilter@7d28efd5, org.springframework.security.web.access.ExceptionTranslationFilter@21b3d356, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79169472]
2023-01-31 18:15:30,018 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:15:30,037 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:15:30,047 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.896 seconds (JVM running for 5.921)
2023-01-31 18:15:49,133 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:15:49,134 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:15:49,135 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 18:15:49,196 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:40)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:15:49,199 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:40)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:15:49,200 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:40)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:17:13,626 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:17:13,629 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:17:13,718 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:19:20,168 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:19:20 MSK 2023
2023-01-31 18:19:20,857 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 312 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:19:20,858 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:19:20,859 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:19:20,859 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:19:21,817 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:19:21,818 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:19:21,845 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:19:21,846 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:19:21,848 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:19:21,855 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:19:21,855 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:19:21,884 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-01-31 18:19:22,445 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:19:22,453 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:19:22,454 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:19:22,454 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:19:22,559 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:19:22,560 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1661 ms
2023-01-31 18:19:22,618 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:19:22,788 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:19:23,068 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:19:23,413 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:19:23,464 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:19:23,594 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:19:23,598 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:19:23,714 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:19:23,814 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:19:23,879 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:19:23,916 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:19:24,037 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:19:24,118 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:19:24,651 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:19:24,659 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:19:25,049 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: a9c58b58-45ff-4ad2-835b-942cb4f85b63

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:19:25,144 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:19:25,356 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40304938, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d160161, org.springframework.security.web.context.SecurityContextPersistenceFilter@4767be27, org.springframework.security.web.header.HeaderWriterFilter@44ba9f25, org.springframework.web.filter.CorsFilter@6c9e7af2, maluevartem.cloud_storage_backend.security.JWTFilter@7d528cf7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46baac0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@493489dd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48cbb4c5, org.springframework.security.web.session.SessionManagementFilter@6e5df971, org.springframework.security.web.access.ExceptionTranslationFilter@e75bae7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3bf306d3]
2023-01-31 18:19:25,657 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:19:25,678 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:19:25,688 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.425 seconds (JVM running for 6.911)
2023-01-31 18:19:36,395 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:19:36,395 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:19:36,398 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-01-31 18:19:36,470 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:19:36,473 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:19:36,474 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:19:55,096 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:19:55,099 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:19:55,126 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:20:03,910 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:20:03 MSK 2023
2023-01-31 18:20:04,347 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 5496 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:20:04,348 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:20:04,349 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:20:04,353 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:20:05,093 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:20:05,094 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:20:05,132 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:20:05,134 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:20:05,136 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:20:05,144 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:20:05,144 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:20:05,174 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 18:20:05,701 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:20:05,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:20:05,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:20:05,710 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:20:05,827 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:20:05,828 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1441 ms
2023-01-31 18:20:05,880 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:20:06,031 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:20:06,309 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:20:06,649 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:20:06,698 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:20:06,815 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:20:06,817 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:20:06,934 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:20:07,050 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:20:07,112 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:20:07,154 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:20:07,267 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:20:07,344 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:20:07,812 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:20:07,820 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:20:08,204 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 9ebd1d89-3bbf-404e-a32b-30df97dbf0f3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:20:08,298 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:20:08,505 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35a81281, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58829c2c, org.springframework.security.web.context.SecurityContextPersistenceFilter@77a1df4d, org.springframework.security.web.header.HeaderWriterFilter@3c130cb2, org.springframework.web.filter.CorsFilter@64f1b2fb, maluevartem.cloud_storage_backend.security.JWTFilter@5e230fc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@244c0fbe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68aa1164, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c6553c6, org.springframework.security.web.session.SessionManagementFilter@471d6571, org.springframework.security.web.access.ExceptionTranslationFilter@64dfa1a3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@219ec4b6]
2023-01-31 18:20:08,781 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:20:08,802 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:20:08,812 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.811 seconds (JVM running for 5.939)
2023-01-31 18:20:13,320 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:20:13,321 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:20:13,323 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 18:20:13,511 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:20:13,516 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:20:14,189 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:20:14,190 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3ODQxNCwibmJmIjoxNjc1MTc4NDE0LCJleHAiOjE2NzUxODAyMTR9.aKuhJau_mdEZtU30svco0NcVsLeoj47KHaQoqIgdj3k
2023-01-31 18:20:14,289 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3ODQxNCwibmJmIjoxNjc1MTc4NDE0LCJleHAiOjE2NzUxODAyMTR9.aKuhJau_mdEZtU30svco0NcVsLeoj47KHaQoqIgdj3k
2023-01-31 18:20:14,326 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3ODQxNCwibmJmIjoxNjc1MTc4NDE0LCJleHAiOjE2NzUxODAyMTR9.aKuhJau_mdEZtU30svco0NcVsLeoj47KHaQoqIgdj3k
2023-01-31 18:20:14,335 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 18:20:14,342 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 18:20:14,481 WARN [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 18:20:14,482 ERROR [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 18:20:14,505 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$93c98596.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:20:14,514 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3ODQxNCwibmJmIjoxNjc1MTc4NDE0LCJleHAiOjE2NzUxODAyMTR9.aKuhJau_mdEZtU30svco0NcVsLeoj47KHaQoqIgdj3k
2023-01-31 18:36:37,366 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:36:37,384 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:36:37,426 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:36:52,155 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:36:52 MSK 2023
2023-01-31 18:36:52,935 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13704 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:36:52,936 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:36:52,937 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:36:52,959 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:36:54,355 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:36:54,357 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:36:54,391 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:36:54,393 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:36:54,394 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:36:54,404 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:36:54,405 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:36:54,445 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2023-01-31 18:36:55,210 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:36:55,222 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:36:55,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:36:55,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:36:55,804 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:36:55,805 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2781 ms
2023-01-31 18:36:56,357 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:36:56,995 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:36:57,471 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:36:57,882 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:36:57,945 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:36:58,112 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:36:58,132 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:36:58,261 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:36:58,401 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:36:58,469 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:36:58,527 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:36:58,690 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:36:58,805 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:36:59,476 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:36:59,487 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:36:59,999 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 4dfd9336-e95f-4af4-a37b-4a5485f6f12f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:37:00,127 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:37:00,395 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15e748b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27ada0e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@768f2398, org.springframework.security.web.header.HeaderWriterFilter@76c2d002, org.springframework.web.filter.CorsFilter@62fa4a88, maluevartem.cloud_storage_backend.security.JWTFilter@fd09e43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e65c4d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b888692, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b6942a0, org.springframework.security.web.session.SessionManagementFilter@23a9400c, org.springframework.security.web.access.ExceptionTranslationFilter@2af1bf5a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4f239a76]
2023-01-31 18:37:00,744 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:37:00,766 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:37:00,780 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 8.519 seconds (JVM running for 10.798)
2023-01-31 18:37:09,924 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:37:09,924 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:37:09,925 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 0 ms
2023-01-31 18:38:47,884 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m50s312ms867µs200ns).
2023-01-31 18:39:15,529 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:39:15,538 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:39:16,127 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:39:16,127 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:39:16,227 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:39:38,782 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s897ms948µs200ns).
2023-01-31 18:39:38,783 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:39:47,224 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 18:39:47,231 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 18:39:47,278 WARN [http-nio-8888-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 18:39:47,278 ERROR [http-nio-8888-exec-1] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 18:39:47,295 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$a816a509.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:39:47,299 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:39:52,410 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:39:52,412 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:39:52,441 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:39:59,983 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:39:59 MSK 2023
2023-01-31 18:40:00,453 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14864 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:40:00,454 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:40:00,455 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:40:00,455 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:40:01,160 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:40:01,161 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:40:01,188 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:40:01,190 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:40:01,191 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:40:01,199 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:40:01,200 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:40:01,230 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 18:40:01,771 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:40:01,779 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:40:01,780 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:40:01,780 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:40:01,880 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:40:01,881 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1388 ms
2023-01-31 18:40:01,934 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:40:02,086 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:40:02,341 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:40:02,689 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:40:02,745 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:40:02,862 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:40:02,865 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:40:02,979 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:40:03,081 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:40:03,137 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:40:03,173 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:40:03,309 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:40:03,391 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:40:03,900 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:40:03,908 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:40:04,343 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: f48885d5-6123-4b9c-b767-fafb26663b3d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:40:04,474 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:40:04,701 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79aa675b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fe59f84, org.springframework.security.web.context.SecurityContextPersistenceFilter@7bf2e475, org.springframework.security.web.header.HeaderWriterFilter@d8a2b1b, org.springframework.web.filter.CorsFilter@38eafdab, maluevartem.cloud_storage_backend.security.JWTFilter@3cc30dee, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3531509c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23169374, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@373c8f35, org.springframework.security.web.session.SessionManagementFilter@3328db4f, org.springframework.security.web.access.ExceptionTranslationFilter@189f3ccd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1e86b2d1]
2023-01-31 18:40:04,973 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:40:04,993 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:40:05,002 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.924 seconds (JVM running for 6.068)
2023-01-31 18:40:16,168 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:40:16,169 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:40:16,172 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 3 ms
2023-01-31 18:40:16,257 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:40:16,275 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTU1NiwibmJmIjoxNjc1MTc5NTU2LCJleHAiOjE2NzUxODEzNTZ9.YiDde2qUc5FE4p-QDar_GeS-GQ6bc1bXqkAXK73HL_0
2023-01-31 18:40:16,432 ERROR [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 18:40:34,945 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:40:34,948 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:40:34,992 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:40:40,355 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:40:40 MSK 2023
2023-01-31 18:40:40,820 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14992 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:40:40,822 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:40:40,822 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:40:40,823 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:40:41,531 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:40:41,532 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:40:41,562 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:40:41,564 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:40:41,565 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:40:41,573 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:40:41,574 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:40:41,604 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-01-31 18:40:42,133 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:40:42,140 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:40:42,141 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:40:42,141 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:40:42,238 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:40:42,238 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1374 ms
2023-01-31 18:40:42,291 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:40:42,452 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:40:42,719 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:40:43,044 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:40:43,092 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:40:43,210 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:40:43,213 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:40:43,323 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:40:43,422 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:40:43,488 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:40:43,537 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:40:43,654 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:40:43,737 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:40:44,242 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:40:44,250 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:40:44,638 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: c77fe41f-0603-4ece-a2b9-10aa3ea80498

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:40:44,740 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:40:44,957 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b33f7a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71b6edfb, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fb42efa, org.springframework.security.web.header.HeaderWriterFilter@5d10e2b6, org.springframework.web.filter.CorsFilter@2f541f60, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51ac72f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15324f25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dcc0bb8, org.springframework.security.web.session.SessionManagementFilter@46878216, org.springframework.security.web.access.ExceptionTranslationFilter@e353e1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@455cb6d9]
2023-01-31 18:40:45,233 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:40:45,253 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:40:45,263 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.82 seconds (JVM running for 5.795)
2023-01-31 18:40:50,694 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:40:50,694 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:40:50,696 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-01-31 18:40:50,816 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:40:50,821 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:40:51,434 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:40:51,435 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTY1MSwibmJmIjoxNjc1MTc5NjUxLCJleHAiOjE2NzUxODE0NTF9.GH-78cisqArMwlnIpenR8FACKDyt0s1se1WOCEkmUNw
2023-01-31 18:40:51,507 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTY1MSwibmJmIjoxNjc1MTc5NjUxLCJleHAiOjE2NzUxODE0NTF9.GH-78cisqArMwlnIpenR8FACKDyt0s1se1WOCEkmUNw
2023-01-31 18:40:51,556 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTY1MSwibmJmIjoxNjc1MTc5NjUxLCJleHAiOjE2NzUxODE0NTF9.GH-78cisqArMwlnIpenR8FACKDyt0s1se1WOCEkmUNw
2023-01-31 18:40:51,564 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 18:40:51,571 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 18:40:51,684 WARN [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 18:40:51,684 ERROR [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 18:40:51,705 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$d6d58a0d.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:40:51,709 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE3OTY1MSwibmJmIjoxNjc1MTc5NjUxLCJleHAiOjE2NzUxODE0NTF9.GH-78cisqArMwlnIpenR8FACKDyt0s1se1WOCEkmUNw
2023-01-31 18:49:55,212 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:49:55,219 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:49:55,246 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:50:15,319 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:50:15 MSK 2023
2023-01-31 18:50:15,812 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13500 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:50:15,812 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:50:15,813 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:50:15,814 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:50:16,579 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:50:16,580 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:50:16,608 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:50:16,610 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:50:16,611 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:50:16,619 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:50:16,619 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:50:16,662 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 2 JPA repository interfaces.
2023-01-31 18:50:17,309 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:50:17,319 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:50:17,320 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:50:17,320 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:50:17,444 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:50:17,444 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1586 ms
2023-01-31 18:50:17,513 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:50:17,689 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:50:18,062 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:50:18,445 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:50:18,501 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:50:18,652 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:50:18,657 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:50:18,768 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:50:18,875 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:50:18,954 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:50:19,006 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:50:19,146 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:50:19,243 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:50:19,793 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:50:19,800 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:50:20,235 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b6e74b27-84d8-498b-ab5f-246195f1176e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:50:20,356 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:50:20,601 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextPersistenceFilter@35599228, org.springframework.security.web.header.HeaderWriterFilter@267309f7, org.springframework.web.filter.CorsFilter@2b33f7a0, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15324f25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b9f7087, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@2b69ff13, org.springframework.security.web.access.ExceptionTranslationFilter@1a1c308b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1784fcab]
2023-01-31 18:50:20,901 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:50:20,921 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:50:20,932 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.519 seconds (JVM running for 6.524)
2023-01-31 18:50:26,765 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:50:26,765 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:50:26,766 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 18:50:26,918 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:50:26,924 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:50:27,664 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:50:27,664 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDIyNywibmJmIjoxNjc1MTgwMjI3LCJleHAiOjE2NzUxODIwMjd9.Lpsfb7wZwgNzuGpy9lu3DJSmYO8fQsftX1iVgLm3REw
2023-01-31 18:50:27,814 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDIyNywibmJmIjoxNjc1MTgwMjI3LCJleHAiOjE2NzUxODIwMjd9.Lpsfb7wZwgNzuGpy9lu3DJSmYO8fQsftX1iVgLm3REw
2023-01-31 18:50:27,821 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDIyNywibmJmIjoxNjc1MTgwMjI3LCJleHAiOjE2NzUxODIwMjd9.Lpsfb7wZwgNzuGpy9lu3DJSmYO8fQsftX1iVgLm3REw
2023-01-31 18:50:27,829 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 18:50:27,835 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 18:50:27,891 WARN [http-nio-8888-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 18:50:27,891 ERROR [http-nio-8888-exec-5] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 18:50:27,908 ERROR [http-nio-8888-exec-5] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$d6d58a0d.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:50:27,912 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDIyNywibmJmIjoxNjc1MTgwMjI3LCJleHAiOjE2NzUxODIwMjd9.Lpsfb7wZwgNzuGpy9lu3DJSmYO8fQsftX1iVgLm3REw
2023-01-31 18:54:11,578 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:54:11,580 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:54:11,615 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:54:45,265 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:54:45 MSK 2023
2023-01-31 18:54:45,778 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13324 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:54:45,779 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:54:45,780 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:54:45,792 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:54:46,594 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:54:46,595 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:54:46,624 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:54:46,626 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:54:46,627 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:54:46,635 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:54:46,635 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:54:46,666 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 18:54:47,169 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:54:47,177 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:54:47,178 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:54:47,178 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:54:47,280 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:54:47,281 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1458 ms
2023-01-31 18:54:47,345 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:54:47,500 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:54:47,822 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:54:48,169 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:54:48,222 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:54:48,344 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:54:48,347 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:54:48,461 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:54:48,550 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:54:48,613 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:54:48,654 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:54:48,771 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:54:48,857 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:54:49,327 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:54:49,335 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:54:49,742 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 29d7066d-744f-4698-b773-8a42b099ac4a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:54:49,836 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:54:50,040 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ed74d03, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ec729be, org.springframework.security.web.context.SecurityContextPersistenceFilter@25fc2b8f, org.springframework.security.web.header.HeaderWriterFilter@5de6c7d7, org.springframework.web.filter.CorsFilter@4f7da3a2, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19b4dd60, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40f77135, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24ea71d, org.springframework.security.web.session.SessionManagementFilter@2b370ca9, org.springframework.security.web.access.ExceptionTranslationFilter@4a0fc665, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b62ad1e]
2023-01-31 18:54:50,311 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:54:50,330 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:54:50,339 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.98 seconds (JVM running for 5.98)
2023-01-31 18:55:10,466 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:55:10,466 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:55:10,468 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 18:55:10,501 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:55:10,504 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:55:10,505 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:57:00,040 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:57:00,042 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:57:00,068 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:57:31,206 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:57:31 MSK 2023
2023-01-31 18:57:31,640 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8444 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:57:31,642 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:57:31,642 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:57:31,644 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:57:32,346 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:57:32,347 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:57:32,375 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:57:32,377 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:57:32,378 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:57:32,387 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:57:32,387 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:57:32,418 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 18:57:32,944 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:57:32,952 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:57:32,952 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:57:32,953 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:57:33,049 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:57:33,050 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1369 ms
2023-01-31 18:57:33,102 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:57:33,264 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:57:33,535 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:57:33,813 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:57:33,932 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:57:34,056 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:57:34,059 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:57:34,158 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:57:34,284 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:57:34,360 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:57:34,407 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:57:34,529 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:57:34,616 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:57:35,085 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:57:35,092 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:57:35,496 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 59c0f671-0cc4-45d9-8994-57d69c5d70b7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:57:35,597 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:57:35,807 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63d43a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@55159007, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a1c308b, org.springframework.security.web.header.HeaderWriterFilter@44cab872, org.springframework.web.filter.CorsFilter@edf4973, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7af2ee23, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d10e2b6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a49753, org.springframework.security.web.session.SessionManagementFilter@2db75e32, org.springframework.security.web.access.ExceptionTranslationFilter@95958d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@d5eca06]
2023-01-31 18:57:36,077 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:57:36,097 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:57:36,106 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.812 seconds (JVM running for 5.751)
2023-01-31 18:57:51,768 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:57:51,769 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:57:51,770 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 18:57:51,911 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:57:51,916 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:57:52,728 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:57:52,728 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDY3MiwibmJmIjoxNjc1MTgwNjcyLCJleHAiOjE2NzUxODI0NzJ9.Dv2EtW6neljaarKVe-WaCxfnuloI50IVjN4sUepGyTs
2023-01-31 18:58:45,239 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:58:45,242 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 18:58:45,279 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 18:58:57,003 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 18:58:57 MSK 2023
2023-01-31 18:58:57,451 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2860 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 18:58:57,452 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 18:58:57,453 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 18:58:57,451 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 18:58:58,150 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:58:58,150 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 18:58:58,179 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:58:58,181 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 18:58:58,182 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 18:58:58,190 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 18:58:58,191 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 18:58:58,220 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2023-01-31 18:58:58,727 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 18:58:58,734 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 18:58:58,735 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 18:58:58,735 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 18:58:58,831 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 18:58:58,831 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1337 ms
2023-01-31 18:58:58,965 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 18:58:59,109 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 18:58:59,390 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 18:58:59,712 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 18:58:59,762 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 18:58:59,876 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 18:58:59,880 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 18:58:59,992 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 18:59:00,096 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 18:59:00,163 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 18:59:00,220 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 18:59:00,333 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 18:59:00,416 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 18:59:00,887 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 18:59:00,894 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 18:59:01,286 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: a658bfdc-483e-49b4-be68-a232649c9baa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 18:59:01,382 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 18:59:01,583 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24ccc91b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d0538b3, org.springframework.security.web.context.SecurityContextPersistenceFilter@4fb42efa, org.springframework.security.web.header.HeaderWriterFilter@5d10e2b6, org.springframework.web.filter.CorsFilter@3b8c15de, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51ac72f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15324f25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26398f67, org.springframework.security.web.session.SessionManagementFilter@46878216, org.springframework.security.web.access.ExceptionTranslationFilter@e353e1d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f541f60]
2023-01-31 18:59:01,852 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 18:59:01,872 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 18:59:01,881 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.787 seconds (JVM running for 5.732)
2023-01-31 18:59:14,817 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 18:59:14,817 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 18:59:14,819 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-01-31 18:59:14,943 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 18:59:14,948 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 18:59:15,577 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 18:59:15,577 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDc1NSwibmJmIjoxNjc1MTgwNzU1LCJleHAiOjE2NzUxODI1NTV9.QigvRX7H_rGKRcT_AbCEu9SSVV0m-FOhIP0Qy5_C3jg
2023-01-31 18:59:15,679 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDc1NSwibmJmIjoxNjc1MTgwNzU1LCJleHAiOjE2NzUxODI1NTV9.QigvRX7H_rGKRcT_AbCEu9SSVV0m-FOhIP0Qy5_C3jg
2023-01-31 18:59:15,684 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDc1NSwibmJmIjoxNjc1MTgwNzU1LCJleHAiOjE2NzUxODI1NTV9.QigvRX7H_rGKRcT_AbCEu9SSVV0m-FOhIP0Qy5_C3jg
2023-01-31 18:59:15,690 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 18:59:15,696 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 18:59:15,738 WARN [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 18:59:15,738 ERROR [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 18:59:15,760 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$d6d58a0d.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 18:59:15,765 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MDc1NSwibmJmIjoxNjc1MTgwNzU1LCJleHAiOjE2NzUxODI1NTV9.QigvRX7H_rGKRcT_AbCEu9SSVV0m-FOhIP0Qy5_C3jg
2023-01-31 19:03:10,236 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:03:10,239 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:03:10,265 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:03:42,831 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:03:42 MSK 2023
2023-01-31 19:03:43,278 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8432 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:03:43,279 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:03:43,280 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:03:43,281 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:03:44,000 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:03:44,001 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:03:44,037 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:03:44,039 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:03:44,040 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:03:44,047 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:03:44,047 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:03:44,076 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2023-01-31 19:03:44,619 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:03:44,628 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:03:44,629 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:03:44,629 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:03:44,731 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:03:44,732 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1411 ms
2023-01-31 19:03:44,798 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:03:44,958 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:03:45,249 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:03:45,574 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:03:45,622 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:03:45,739 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:03:45,743 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:03:45,767 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:03:45,781 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:03:45,912 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 19:03:45,914 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 12ms
2023-01-31 19:03:45,929 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 19:03:45,931 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 10ms
2023-01-31 19:03:45,948 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 19:03:45,950 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 13ms
2023-01-31 19:03:45,959 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:03:46,021 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:03:46,074 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:03:46,189 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:03:46,276 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:03:46,742 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:03:46,749 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:03:47,144 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 549436b9-0654-4271-bcec-8b1be178acb8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:03:47,244 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:03:47,448 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@110f66e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77e64a46, org.springframework.security.web.context.SecurityContextPersistenceFilter@202ba60a, org.springframework.security.web.header.HeaderWriterFilter@6a9d572, org.springframework.web.filter.CorsFilter@51a73873, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30dd23e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@88fc9cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@342a5b57, org.springframework.security.web.session.SessionManagementFilter@5f1dadf4, org.springframework.security.web.access.ExceptionTranslationFilter@58fadccb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4a15d5f5]
2023-01-31 19:03:47,722 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:03:47,741 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:03:47,750 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.833 seconds (JVM running for 6.14)
2023-01-31 19:04:14,226 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 19:04:14,227 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 19:04:14,228 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 19:04:14,353 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:04:14,359 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:04:14,905 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:04:14,905 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTA1NCwibmJmIjoxNjc1MTgxMDU0LCJleHAiOjE2NzUxODI4NTR9.KXoBYpOnz4V1X5QTEySCqttg6uFAzSjTZ14nmuMSx8M
2023-01-31 19:04:15,009 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTA1NCwibmJmIjoxNjc1MTgxMDU0LCJleHAiOjE2NzUxODI4NTR9.KXoBYpOnz4V1X5QTEySCqttg6uFAzSjTZ14nmuMSx8M
2023-01-31 19:04:15,016 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTA1NCwibmJmIjoxNjc1MTgxMDU0LCJleHAiOjE2NzUxODI4NTR9.KXoBYpOnz4V1X5QTEySCqttg6uFAzSjTZ14nmuMSx8M
2023-01-31 19:04:15,022 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:04:15,030 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:04:15,057 WARN [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1146, SQLState: 42S02
2023-01-31 19:04:15,057 ERROR [http-nio-8888-exec-2] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Table 'mysqlDataBase.files_entity' doesn't exist
2023-01-31 19:04:15,078 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not extract ResultSet; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not extract ResultSet] with root cause
java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.files_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:972)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.extract(ResultSetReturnImpl.java:57)
	at org.hibernate.loader.Loader.getResultSet(Loader.java:2322)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2075)
	at org.hibernate.loader.Loader.executeQueryStatement(Loader.java:2037)
	at org.hibernate.loader.Loader.doQuery(Loader.java:956)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:357)
	at org.hibernate.loader.Loader.doList(Loader.java:2868)
	at org.hibernate.loader.Loader.doList(Loader.java:2850)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2682)
	at org.hibernate.loader.Loader.list(Loader.java:2677)
	at org.hibernate.loader.custom.CustomLoader.list(CustomLoader.java:338)
	at org.hibernate.internal.SessionImpl.listCustomQuery(SessionImpl.java:2186)
	at org.hibernate.internal.AbstractSharedSessionContract.list(AbstractSharedSessionContract.java:1204)
	at org.hibernate.query.internal.NativeQueryImpl.doList(NativeQueryImpl.java:177)
	at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1617)
	at org.hibernate.query.Query.getResultList(Query.java:165)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:156)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:144)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:160)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.findFilesByUserIdWithLimit(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.getAllFiles(FileService.java:143)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$d6d58a0d.getAllFiles(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.getAllFiles(FileController.java:66)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:670)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 19:04:15,085 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTA1NCwibmJmIjoxNjc1MTgxMDU0LCJleHAiOjE2NzUxODI4NTR9.KXoBYpOnz4V1X5QTEySCqttg6uFAzSjTZ14nmuMSx8M
2023-01-31 19:08:18,228 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:08:18,231 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:08:18,260 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:08:29,578 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:08:29 MSK 2023
2023-01-31 19:08:30,044 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:08:30,046 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12156 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:08:30,047 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:08:30,048 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:08:30,745 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:08:30,746 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:08:30,775 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:08:30,777 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:08:30,778 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:08:30,786 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:08:30,787 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:08:30,818 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 19:08:31,372 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:08:31,380 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:08:31,381 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:08:31,381 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:08:31,488 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:08:31,488 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1398 ms
2023-01-31 19:08:31,540 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:08:31,698 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:08:31,968 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:08:32,278 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:08:32,327 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:08:32,456 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:08:32,459 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:08:32,570 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:08:32,661 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:08:32,733 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:08:32,770 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:08:32,891 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:08:32,978 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:08:33,479 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:08:33,488 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:08:33,958 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 97c6ffbd-96bd-41dc-b289-0385f67d3079

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:08:34,054 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:08:34,255 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb28ed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@536f389, org.springframework.security.web.context.SecurityContextPersistenceFilter@35599228, org.springframework.security.web.header.HeaderWriterFilter@267309f7, org.springframework.web.filter.CorsFilter@2b33f7a0, maluevartem.cloud_storage_backend.security.JWTFilter@31f295b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15324f25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b9f7087, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71b6edfb, org.springframework.security.web.session.SessionManagementFilter@2b69ff13, org.springframework.security.web.access.ExceptionTranslationFilter@1a1c308b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1784fcab]
2023-01-31 19:08:34,559 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:08:34,578 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:08:34,587 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.919 seconds (JVM running for 5.886)
2023-01-31 19:08:43,480 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:08:43,485 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:08:43,525 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:08:51,499 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:08:51 MSK 2023
2023-01-31 19:08:52,165 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9448 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:08:52,165 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:08:52,166 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:08:52,171 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:08:52,972 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:08:52,973 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:08:53,012 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:08:53,014 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:08:53,015 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:08:53,023 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:08:53,023 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:08:53,052 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2023-01-31 19:08:53,582 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:08:53,590 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:08:53,591 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:08:53,591 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:08:53,720 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:08:53,721 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1500 ms
2023-01-31 19:08:53,785 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:08:53,957 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:08:54,280 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:08:54,674 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:08:54,729 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:08:54,853 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:08:54,856 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:08:54,956 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:08:55,059 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:08:55,140 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:08:55,182 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:08:55,287 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:08:55,368 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:08:55,881 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:08:55,890 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:08:56,291 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 71bd68a7-efbc-4b4f-8ee3-c4ea5a9caafa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:08:56,391 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:08:56,663 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3aac31b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57def953, org.springframework.security.web.context.SecurityContextPersistenceFilter@8bb5c2a, org.springframework.security.web.header.HeaderWriterFilter@456c53a, org.springframework.web.filter.CorsFilter@1bf4a79b, maluevartem.cloud_storage_backend.security.JWTFilter@91da29b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a5df98c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f1dadf4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a1be5cb, org.springframework.security.web.session.SessionManagementFilter@58fadccb, org.springframework.security.web.access.ExceptionTranslationFilter@735b1ad2, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@597eb9ac]
2023-01-31 19:08:57,066 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:08:57,409 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:08:57,435 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.84 seconds (JVM running for 7.061)
2023-01-31 19:09:04,673 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 19:09:04,673 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 19:09:04,675 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 19:09:04,794 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:09:04,801 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:09:05,466 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:09:05,467 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:09:05,604 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:09:05,610 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:09:05,620 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:09:05,626 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:09:05,659 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:09:33,873 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:09:33,884 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:09:33,947 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 19:09:33,954 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 19:09:33,976 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:09:33,979 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:09:33,980 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:09:33,985 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 19:09:33,985 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 19:09:34,062 WARN [http-nio-8888-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1264, SQLState: 22001
2023-01-31 19:09:34,062 ERROR [http-nio-8888-exec-4] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Data truncation: Out of range value for column 'file_data' at row 1
2023-01-31 19:09:34,083 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause
com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Out of range value for column 'file_data' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.save(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:68)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$fa9a9d05.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 19:09:34,088 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:24,435 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:24,453 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:24,492 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-01-31 19:17:24,514 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-01-31 19:17:24,544 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:17:24,546 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-01-31 19:17:24,547 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-01-31 19:17:24,551 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-01-31 19:17:24,552 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-01-31 19:17:24,572 WARN [http-nio-8888-exec-6] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1264, SQLState: 22001
2023-01-31 19:17:24,574 ERROR [http-nio-8888-exec-6] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Data truncation: Out of range value for column 'file_data' at row 1
2023-01-31 19:17:24,584 ERROR [http-nio-8888-exec-6] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause
com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Out of range value for column 'file_data' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.save(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:68)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$fa9a9d05.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 19:17:24,591 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:47,534 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:47,544 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:17:47,551 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки не выбран: true
2023-01-31 19:17:47,564 ERROR [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Файл не выбран, id: 0
2023-01-31 19:18:00,730 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:18:00,743 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:18:00,837 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: DiplomaWork_cloud_storage.rtf
2023-01-31 19:18:00,841 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла DiplomaWork_cloud_storage.rtf и идентификатору 1
2023-01-31 19:18:00,847 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:18:00,848 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7
2023-01-31 19:18:00,848 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7
2023-01-31 19:18:00,852 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7 не существует
2023-01-31 19:18:00,852 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: DiplomaWork_cloud_storage.rtf, хэш: 1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7, Id пользователя: 1
2023-01-31 19:18:00,861 WARN [http-nio-8888-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1264, SQLState: 22001
2023-01-31 19:18:00,862 ERROR [http-nio-8888-exec-3] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Data truncation: Out of range value for column 'file_data' at row 1
2023-01-31 19:18:00,868 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.DataException: could not execute statement] with root cause
com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Out of range value for column 'file_data' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:104)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.save(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:68)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$fa9a9d05.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:41)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 19:18:00,872 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MTM0NSwibmJmIjoxNjc1MTgxMzQ1LCJleHAiOjE2NzUxODMxNDV9.TqENPihSumsslTek2RSfOwx8ffUkc70ZqOtX0c60evk
2023-01-31 19:19:43,607 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:19:43,622 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:19:43,667 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:20:21,897 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:20:21 MSK 2023
2023-01-31 19:20:22,526 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12536 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:20:22,527 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:20:22,527 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:20:22,527 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:20:23,492 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:20:23,494 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:20:23,529 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:20:23,531 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:20:23,533 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:20:23,544 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:20:23,545 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:20:23,583 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-01-31 19:20:24,312 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:20:24,322 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:20:24,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:20:24,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:20:24,456 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:20:24,457 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1887 ms
2023-01-31 19:20:24,531 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:20:24,757 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:20:25,134 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:20:25,526 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:20:25,583 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:20:25,843 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:20:25,859 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:20:25,890 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:20:25,904 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:20:26,165 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 19:20:26,168 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 27ms
2023-01-31 19:20:26,198 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 19:20:26,203 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 17ms
2023-01-31 19:20:26,229 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 19:20:26,231 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 19ms
2023-01-31 19:20:26,248 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:20:26,314 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:20:26,420 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:20:26,621 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:20:26,797 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:20:27,953 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:20:27,963 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:20:28,409 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 89fcae8b-ad6a-46bd-ad1f-a17c31718d05

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:20:28,554 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:20:28,817 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64ff0eaa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@401b7226, org.springframework.security.web.context.SecurityContextPersistenceFilter@4a0fc665, org.springframework.security.web.header.HeaderWriterFilter@22e650e, org.springframework.web.filter.CorsFilter@1b62ad1e, maluevartem.cloud_storage_backend.security.JWTFilter@a7cf42f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1067bc4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69ee0861, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@714a4ba2, org.springframework.security.web.session.SessionManagementFilter@376bae20, org.springframework.security.web.access.ExceptionTranslationFilter@35599228, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@60493524]
2023-01-31 19:20:29,156 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:20:29,178 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:20:29,189 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.183 seconds (JVM running for 8.447)
2023-01-31 19:20:32,147 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 19:20:32,148 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 19:20:32,149 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 19:20:32,348 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:20:32,356 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:20:33,045 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:20:33,045 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:20:33,195 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:20:33,201 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:20:33,209 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:20:33,215 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:20:33,253 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:20:38,788 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:20:38,798 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:20:38,861 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 19:20:38,871 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 19:20:38,896 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:20:38,898 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:20:38,898 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:20:38,904 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 19:20:38,904 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 19:20:38,970 WARN [http-nio-8888-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1048, SQLState: 23000
2023-01-31 19:20:38,971 ERROR [http-nio-8888-exec-7] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Column 'user_id' cannot be null
2023-01-31 19:20:38,995 ERROR [http-nio-8888-exec-7] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Column 'user_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy116.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy126.save(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:68)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$1d25c0f7.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 19:20:39,002 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:24:25,868 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:24:25,882 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:24:25,903 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:27:35,281 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:27:35 MSK 2023
2023-01-31 19:27:35,756 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9060 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:27:35,757 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:27:35,758 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:27:35,758 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:27:36,906 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:27:36,911 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:27:37,033 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:27:37,036 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:27:37,038 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 118 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:27:37,053 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:27:37,055 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:27:37,117 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 53 ms. Found 2 JPA repository interfaces.
2023-01-31 19:27:37,967 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:27:37,979 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:27:37,980 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:27:37,980 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:27:38,120 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:27:38,120 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2327 ms
2023-01-31 19:27:38,202 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:27:38,623 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:27:39,106 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:27:39,725 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:27:39,795 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:27:39,955 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:27:39,959 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:27:39,998 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:27:40,014 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:27:40,217 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 19:27:40,219 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 18ms
2023-01-31 19:27:40,244 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 19:27:40,246 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-01-31 19:27:40,267 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 19:27:40,268 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 14ms
2023-01-31 19:27:40,280 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:27:40,369 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:27:40,448 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:27:40,651 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:27:40,774 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:27:41,475 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:27:41,490 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:27:42,020 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 63552895-dc7b-44c5-940a-72d58e894d03

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:27:42,179 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:27:42,441 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c5e123d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69542112, org.springframework.security.web.context.SecurityContextPersistenceFilter@363d29dd, org.springframework.security.web.header.HeaderWriterFilter@69f55ea, org.springframework.web.filter.CorsFilter@35a81281, maluevartem.cloud_storage_backend.security.JWTFilter@474179fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40f77135, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77a1df4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58829c2c, org.springframework.security.web.session.SessionManagementFilter@3203a4ae, org.springframework.security.web.access.ExceptionTranslationFilter@207f7baa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@37a0c3c6]
2023-01-31 19:27:42,905 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:27:42,924 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:27:42,936 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.541 seconds (JVM running for 8.611)
2023-01-31 19:28:00,162 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 19:28:00,162 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 19:28:00,164 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 19:28:00,266 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:28:00,282 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjAzMiwibmJmIjoxNjc1MTgyMDMyLCJleHAiOjE2NzUxODM4MzN9.Yk1RAz0HF74NKfQG1PEeFb-r5yW-v3DIQGU6b9wuOQ4
2023-01-31 19:28:00,431 ERROR [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 19:28:08,095 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:28:08,099 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:28:08,562 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:28:08,563 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:08,626 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:08,635 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:08,648 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:28:08,653 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:28:08,683 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:28:19,456 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:19,466 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:19,535 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 19:28:19,542 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 19:28:19,563 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:28:19,565 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:28:19,565 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:28:19,572 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 19:28:19,573 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 19:28:21,679 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:21,684 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:28:21,689 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:28:21,690 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:28:21,697 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:30:36,727 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:30:36,734 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:30:36,746 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-01-31 19:30:36,751 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-01-31 19:30:36,766 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:30:36,767 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-01-31 19:30:36,767 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-01-31 19:30:36,774 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-01-31 19:30:36,776 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-01-31 19:30:38,827 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:30:38,837 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:30:38,843 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:30:38,844 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:30:38,853 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:31:11,521 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:31:11,530 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:31:11,537 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:31:11,538 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:31:11,589 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:37:53,353 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:37:53,362 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MjQ4OCwibmJmIjoxNjc1MTgyNDg4LCJleHAiOjE2NzUxODQyODh9.5QHkYnatZbRnF8VtqEC7s9HQuCqccsexQN_9JWp8d40
2023-01-31 19:37:53,406 ERROR [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 19:38:00,638 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:38:00,640 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:38:01,061 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:38:01,062 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzA4MSwibmJmIjoxNjc1MTgzMDgxLCJleHAiOjE2NzUxODQ4ODF9.1osNJZSDDxDylJD0rB17dubE1KhV6aMpa_sUhjOmZis
2023-01-31 19:38:26,761 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:38:26,761 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:38:27,183 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:38:27,184 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzEwNywibmJmIjoxNjc1MTgzMTA3LCJleHAiOjE2NzUxODQ5MDd9.Tkj7hyqKaoaD0pGQo8fx3rN1ohdglYUbaATCAnXdx9s
2023-01-31 19:39:19,031 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:39:19,039 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:39:19,071 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 19:39:41,700 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 19:39:41 MSK 2023
2023-01-31 19:39:42,183 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 19:39:42,183 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14128 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 19:39:42,184 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 19:39:42,185 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 19:39:42,934 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:39:42,935 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 19:39:42,964 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:39:42,966 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 19:39:42,967 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-01-31 19:39:42,976 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 19:39:42,976 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 19:39:43,012 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-01-31 19:39:43,613 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 19:39:43,623 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 19:39:43,624 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 19:39:43,624 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 19:39:43,744 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 19:39:43,744 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1521 ms
2023-01-31 19:39:43,809 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 19:39:44,015 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 19:39:44,360 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 19:39:44,745 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 19:39:44,800 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 19:39:45,043 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 19:39:45,049 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 19:39:45,163 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 19:39:45,274 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 19:39:45,346 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 19:39:45,396 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 19:39:45,546 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 19:39:45,647 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 19:39:46,248 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 19:39:46,256 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:39:46,682 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b3501759-d220-45b4-a301-f98230c7e989

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 19:39:46,800 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 19:39:47,037 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f9404d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5481f204, org.springframework.security.web.context.SecurityContextPersistenceFilter@452a32f2, org.springframework.security.web.header.HeaderWriterFilter@95958d9, org.springframework.web.filter.CorsFilter@171b0d3, maluevartem.cloud_storage_backend.security.JWTFilter@474179fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f2d0ca2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e353e1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63d43a5, org.springframework.security.web.session.SessionManagementFilter@3dfaa1e4, org.springframework.security.web.access.ExceptionTranslationFilter@1ced1d14, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5825932c]
2023-01-31 19:39:47,338 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 19:39:47,359 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 19:39:47,371 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.572 seconds (JVM running for 6.776)
2023-01-31 19:39:51,832 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 19:39:51,832 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 19:39:51,833 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 19:39:51,964 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 19:39:51,969 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 19:39:52,691 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 19:39:52,691 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:39:52,820 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:39:52,826 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:39:52,836 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:39:52,842 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:39:52,883 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:41:51,927 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:41:51,937 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:41:51,995 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки не выбран: true
2023-01-31 19:41:52,002 ERROR [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Файл не выбран, id: 0
2023-01-31 19:42:03,124 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:03,134 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:03,153 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 19:42:03,169 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 19:42:03,195 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 19:42:03,197 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:42:03,197 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 19:42:03,203 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 19:42:03,203 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 19:42:05,313 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:05,328 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:05,337 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 19:42:05,337 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 19:42:05,345 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 19:42:28,579 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:28,587 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4MzE5MiwibmJmIjoxNjc1MTgzMTkyLCJleHAiOjE2NzUxODQ5OTJ9.QxPMw6tJfC6-sBcS1aksf2o1mnQphEm5bW0Msu_Rf-M
2023-01-31 19:42:28,612 ERROR [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 19:44:43,933 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 19:44:44,026 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 19:44:44,179 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:13:12,980 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:13:12 MSK 2023
2023-01-31 20:13:13,727 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:13:13,731 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10048 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:13:13,732 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:13:13,733 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:13:14,691 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:13:14,692 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:13:14,724 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:13:14,726 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:13:14,727 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:13:14,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:13:14,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:13:14,769 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-01-31 20:13:15,314 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:13:15,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:13:15,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:13:15,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:13:15,445 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:13:15,446 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1672 ms
2023-01-31 20:13:15,504 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:13:15,695 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:13:16,038 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:13:16,504 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:13:16,558 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:13:16,798 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:13:16,831 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:13:16,859 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:13:16,875 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:13:17,006 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 20:13:17,009 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-01-31 20:13:17,037 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 20:13:17,039 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-01-31 20:13:17,063 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 20:13:17,066 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 17ms
2023-01-31 20:13:17,079 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:13:17,135 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:13:17,183 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:13:17,341 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:13:17,440 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:13:18,026 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:13:18,033 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:13:18,445 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 449d5abc-f843-4dca-91d8-1122017149a7

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:13:18,550 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:13:18,759 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67748053, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7da59f6e, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c51fc9a, org.springframework.security.web.header.HeaderWriterFilter@85fd4b, org.springframework.web.filter.CorsFilter@7fb8d720, maluevartem.cloud_storage_backend.security.JWTFilter@3b2e5c0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28705150, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b44121e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21b792c2, org.springframework.security.web.session.SessionManagementFilter@1eb207c3, org.springframework.security.web.access.ExceptionTranslationFilter@28d728f1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b4ade78]
2023-01-31 20:13:19,045 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:13:19,066 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:13:19,077 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.977 seconds (JVM running for 7.18)
2023-01-31 20:14:30,030 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 20:14:30,031 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 20:14:30,032 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 20:14:30,198 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 20:14:30,203 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 20:14:30,776 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 20:14:30,776 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:30,980 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:30,986 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:31,000 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:14:31,012 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:14:31,048 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:14:49,668 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:49,683 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:49,807 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 20:14:49,819 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 20:14:49,844 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 20:14:49,846 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 20:14:49,846 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 20:14:49,852 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 20:14:49,854 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 20:14:51,989 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:51,996 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:14:52,001 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:14:52,001 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:14:52,007 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:15:24,710 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:15:24,714 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:15:24,742 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:27:05,863 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:27:05 MSK 2023
2023-01-31 20:27:06,380 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8772 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:27:06,380 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:27:06,381 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:27:06,382 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:27:07,185 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:07,186 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:27:07,219 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:07,220 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:07,222 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:27:07,231 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:07,231 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:27:07,265 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-01-31 20:27:07,823 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:27:07,832 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:27:07,833 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:27:07,833 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:27:07,947 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:27:07,948 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1524 ms
2023-01-31 20:27:08,008 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:27:08,212 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:27:08,559 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:27:08,929 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:27:08,986 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:27:09,226 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:27:09,231 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:27:09,259 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:27:09,273 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:27:09,398 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:27:09,402 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
2023-01-31 20:27:09,403 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:27:09,428 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:27:09,431 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 20:27:09,444 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 20:27:09,505 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to open the referenced table 'users'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-01-31 20:27:25,338 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:27:25 MSK 2023
2023-01-31 20:27:25,811 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3516 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:27:25,812 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:27:25,813 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:27:25,813 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:27:26,546 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:26,546 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:27:26,576 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:26,578 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:26,580 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:27:26,588 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:26,589 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:27:26,619 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 20:27:27,141 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:27:27,149 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:27:27,149 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:27:27,149 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:27:27,250 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:27:27,250 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1395 ms
2023-01-31 20:27:27,306 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:27:27,476 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:27:27,737 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:27:28,115 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:27:28,165 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:27:28,300 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:27:28,312 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:27:28,428 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:27:28,569 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:27:28,574 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
2023-01-31 20:27:28,575 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:27:28,601 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:27:28,605 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 20:27:28,615 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 20:27:28,637 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to open the referenced table 'users' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT user_file_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.users(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to open the referenced table 'users'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-01-31 20:27:47,914 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:27:47 MSK 2023
2023-01-31 20:27:48,354 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1240 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:27:48,355 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:27:48,356 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:27:48,357 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:27:49,051 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:49,052 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:27:49,080 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:49,082 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:27:49,083 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:27:49,090 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:27:49,091 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:27:49,123 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-01-31 20:27:49,663 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:27:49,672 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:27:49,672 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:27:49,673 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:27:49,768 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:27:49,768 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1372 ms
2023-01-31 20:27:49,820 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:27:49,978 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:27:50,246 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:27:50,601 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:27:50,651 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:27:50,780 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:27:50,783 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:27:50,904 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:27:51,026 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 20:27:51,028 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-01-31 20:27:51,048 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 20:27:51,050 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-01-31 20:27:51,069 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 20:27:51,072 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 15ms
2023-01-31 20:27:51,083 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:27:51,158 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:27:51,222 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:27:51,350 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:27:51,451 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:27:51,954 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:27:51,972 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:27:52,366 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: a4f73c6a-8bb3-405d-a69f-78c189d24541

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:27:52,484 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:27:52,707 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67201002, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ddc9001, org.springframework.security.web.context.SecurityContextPersistenceFilter@1dc28c66, org.springframework.security.web.header.HeaderWriterFilter@3f2feab7, org.springframework.web.filter.CorsFilter@1f39b3ba, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a25f8ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e161cea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b579d2, org.springframework.security.web.session.SessionManagementFilter@2738a1fc, org.springframework.security.web.access.ExceptionTranslationFilter@31ecd003, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3f7d73e3]
2023-01-31 20:27:53,004 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:27:53,025 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:27:53,034 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.031 seconds (JVM running for 5.946)
2023-01-31 20:29:27,699 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:29:27,701 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:29:27,721 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:29:46,677 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:29:46 MSK 2023
2023-01-31 20:29:47,120 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14808 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:29:47,121 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:29:47,122 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:29:47,122 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:29:47,828 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:29:47,829 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:29:47,858 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:29:47,860 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:29:47,861 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:29:47,869 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:29:47,869 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:29:47,900 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 20:29:48,395 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:29:48,403 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:29:48,404 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:29:48,404 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:29:48,505 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:29:48,505 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1345 ms
2023-01-31 20:29:48,558 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:29:48,715 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:29:48,990 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:29:49,366 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:29:49,418 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:29:49,539 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:29:49,542 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:29:49,649 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:29:49,743 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:29:49,747 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

2023-01-31 20:29:49,748 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:29:49,770 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:29:49,774 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 20:29:49,785 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 20:29:49,818 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-01-31 20:31:21,527 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:31:21 MSK 2023
2023-01-31 20:31:21,985 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12224 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:31:21,986 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:31:21,986 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:31:21,989 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:31:22,694 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:31:22,695 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:31:22,724 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:31:22,726 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:31:22,727 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:31:22,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:31:22,736 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:31:22,767 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 20:31:23,284 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:31:23,292 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:31:23,292 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:31:23,292 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:31:23,394 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:31:23,394 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1370 ms
2023-01-31 20:31:23,447 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:31:23,613 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:31:23,896 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:31:24,179 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:31:24,233 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:31:24,348 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:31:24,351 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:31:24,462 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:31:24,550 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:31:24,555 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

2023-01-31 20:31:24,556 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:31:24,577 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:31:24,580 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 20:31:24,603 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 20:31:24,634 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem was: 8:461bd2963de6074e29cd1319b079ba84 but is now: 8:d62e9aef4450efd1a9de929453a4a27e

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-01-31 20:31:37,561 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:31:37 MSK 2023
2023-01-31 20:31:37,999 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7808 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:31:37,999 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:31:38,000 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:31:38,001 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:31:38,700 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:31:38,701 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:31:38,730 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:31:38,732 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:31:38,733 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:31:38,742 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:31:38,742 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:31:38,774 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-01-31 20:31:39,303 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:31:39,310 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:31:39,311 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:31:39,311 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:31:39,408 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:31:39,409 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1369 ms
2023-01-31 20:31:39,462 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:31:39,652 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:31:39,922 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:31:40,253 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:31:40,303 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:31:40,441 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:31:40,445 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:31:40,557 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:31:40,664 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:31:40,718 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:31:40,757 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:31:40,875 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:31:40,956 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:31:41,481 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:31:41,489 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:31:41,908 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: a8c0144f-923a-44d2-8927-7fdff040e60b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:31:42,003 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:31:42,220 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@505a48a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15096b0e, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cf97875, org.springframework.security.web.header.HeaderWriterFilter@6b44121e, org.springframework.web.filter.CorsFilter@67748053, maluevartem.cloud_storage_backend.security.JWTFilter@7ccfdaef, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72fa021, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c3400df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da59f6e, org.springframework.security.web.session.SessionManagementFilter@718e700c, org.springframework.security.web.access.ExceptionTranslationFilter@6b8a9e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32f8a37b]
2023-01-31 20:31:42,505 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:31:42,526 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:31:42,535 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.887 seconds (JVM running for 5.813)
2023-01-31 20:32:17,850 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:32:17,852 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:32:17,875 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:32:22,597 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:32:22 MSK 2023
2023-01-31 20:32:23,087 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13420 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:32:23,088 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:32:23,089 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:32:23,090 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:32:23,800 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:32:23,801 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:32:23,829 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:32:23,831 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:32:23,832 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:32:23,841 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:32:23,842 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:32:23,876 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-01-31 20:32:24,387 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:32:24,395 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:32:24,395 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:32:24,396 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:32:24,495 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:32:24,496 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1369 ms
2023-01-31 20:32:24,548 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:32:24,705 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:32:24,984 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:32:25,316 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:32:25,364 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:32:25,480 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:32:25,483 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:32:25,593 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:32:25,686 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:32:25,746 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:32:25,798 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:32:25,915 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:32:25,997 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:32:26,513 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:32:26,521 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:32:26,904 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7e8f3e76-5058-499a-8ade-12c400bf5b44

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:32:26,999 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:32:27,212 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bca2a09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af8ef61, org.springframework.security.web.context.SecurityContextPersistenceFilter@15251cc2, org.springframework.security.web.header.HeaderWriterFilter@4446a191, org.springframework.web.filter.CorsFilter@5620470a, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53813f01, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@514c6ca0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29682244, org.springframework.security.web.session.SessionManagementFilter@5e0602ff, org.springframework.security.web.access.ExceptionTranslationFilter@3c7f8c25, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1483c738]
2023-01-31 20:32:27,492 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:32:27,511 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:32:27,520 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.833 seconds (JVM running for 5.74)
2023-01-31 20:33:03,333 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 20:33:03,335 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 20:33:03,338 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 3 ms
2023-01-31 20:33:03,454 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:33:03,467 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NTI3MCwibmJmIjoxNjc1MTg1MjcwLCJleHAiOjE2NzUxODcwNzB9.-eAm-KlcuIdz_ZsocHkNshitu9INIwulka5SruKksh0
2023-01-31 20:33:03,633 ERROR [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 20:33:12,152 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 20:33:12,157 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 20:33:12,588 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 20:33:12,588 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:12,652 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:12,660 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:12,672 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:33:12,682 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:33:12,713 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:33:25,703 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:25,717 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:25,766 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 20:33:25,777 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 20:33:25,800 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 20:33:25,802 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 20:33:25,802 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 20:33:25,810 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 20:33:25,811 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 20:33:27,914 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:27,921 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjM5MiwibmJmIjoxNjc1MTg2MzkyLCJleHAiOjE2NzUxODgxOTJ9.k3krm3JRkQ6ZKJnVysU3uAEG7mYvAsZ8RysBg1gqS6w
2023-01-31 20:33:27,928 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:33:27,929 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:33:27,935 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:33:38,949 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:33:38,952 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:33:38,974 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:33:52,451 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:33:52 MSK 2023
2023-01-31 20:33:52,910 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15312 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:33:52,910 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:33:52,911 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:33:52,917 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:33:53,605 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:33:53,606 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:33:53,632 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:33:53,634 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:33:53,635 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:33:53,642 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:33:53,643 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:33:53,673 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-01-31 20:33:54,215 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:33:54,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:33:54,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:33:54,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:33:54,336 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:33:54,337 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1382 ms
2023-01-31 20:33:54,394 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:33:54,545 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:33:54,825 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:33:55,140 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:33:55,189 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:33:55,307 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:33:55,310 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:33:55,412 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:33:55,542 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:33:55,593 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:33:55,633 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:33:55,751 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:33:55,833 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:33:56,347 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:33:56,354 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:33:56,747 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b6dd270e-8dad-4401-84a4-884ff15c4712

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:33:56,843 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:33:57,098 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@12f933c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@156d7556, org.springframework.security.web.context.SecurityContextPersistenceFilter@ae85aad, org.springframework.security.web.header.HeaderWriterFilter@452d6fd, org.springframework.web.filter.CorsFilter@531bfe4b, maluevartem.cloud_storage_backend.security.JWTFilter@664212ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a05cdc8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f3fafca, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c8f7d6a, org.springframework.security.web.session.SessionManagementFilter@ccea4be, org.springframework.security.web.access.ExceptionTranslationFilter@72fa021, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7fd3197b]
2023-01-31 20:33:57,369 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:33:57,390 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:33:57,399 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.861 seconds (JVM running for 5.862)
2023-01-31 20:34:17,713 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 20:34:17,714 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 20:34:17,715 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-01-31 20:34:17,822 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 20:34:17,827 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 20:34:18,346 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 20:34:18,346 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:18,451 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:18,456 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:18,464 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:34:18,469 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:34:18,497 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:34:26,791 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:26,798 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:26,845 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: DiplomaWork_cloud_storage.rtf
2023-01-31 20:34:26,856 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла DiplomaWork_cloud_storage.rtf и идентификатору 1
2023-01-31 20:34:26,872 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 20:34:26,873 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7
2023-01-31 20:34:26,873 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7
2023-01-31 20:34:26,878 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7 не существует
2023-01-31 20:34:26,878 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: DiplomaWork_cloud_storage.rtf, хэш: 1c92b64897076970333c1a3f5a1de04fe6166a04f58b0c59c7ff7ec5c1bfa4a7, Id пользователя: 1
2023-01-31 20:34:28,956 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:28,960 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:34:28,965 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 20:34:28,965 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 20:34:28,974 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 20:34:37,663 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:34:37,666 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 20:34:37,692 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 20:59:21,575 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 20:59:21 MSK 2023
2023-01-31 20:59:22,249 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12416 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 20:59:22,249 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 20:59:22,250 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 20:59:22,250 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 20:59:23,232 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:59:23,233 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 20:59:23,264 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:59:23,266 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 20:59:23,267 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-01-31 20:59:23,275 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 20:59:23,275 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 20:59:23,308 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-01-31 20:59:24,441 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 20:59:24,457 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 20:59:24,458 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 20:59:24,458 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 20:59:24,610 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 20:59:24,610 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2318 ms
2023-01-31 20:59:24,697 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 20:59:25,674 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 20:59:26,278 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 20:59:27,057 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 20:59:27,148 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 20:59:27,350 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 20:59:27,397 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 20:59:27,528 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 20:59:27,690 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 20:59:27,792 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 20:59:27,861 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 20:59:28,027 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 20:59:28,133 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 20:59:28,912 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 20:59:28,920 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 20:59:29,524 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: d9de9014-638d-46d5-be19-d816e3b7def5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 20:59:29,740 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 20:59:30,021 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f7853af, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c56e044, org.springframework.security.web.context.SecurityContextPersistenceFilter@5d3d5242, org.springframework.security.web.header.HeaderWriterFilter@356cb230, org.springframework.web.filter.CorsFilter@d970881, maluevartem.cloud_storage_backend.security.JWTFilter@f25f48a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6894436e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f2feab7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@153cf928, org.springframework.security.web.session.SessionManagementFilter@1e284d90, org.springframework.security.web.access.ExceptionTranslationFilter@41ae9f11, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@259ae1a9]
2023-01-31 20:59:30,378 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 20:59:30,404 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 20:59:30,415 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 8.725 seconds (JVM running for 9.926)
2023-01-31 20:59:39,116 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-01-31 20:59:39,116 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-01-31 20:59:39,120 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 4 ms
2023-01-31 20:59:39,246 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:59:39,259 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 20:59:39,318 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 20:59:39,375 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:34)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$de69be0f.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 20:59:39,384 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:07,614 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:07,620 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:07,636 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Аптечка.txt
2023-01-31 21:00:07,664 ERROR [http-nio-8888-exec-5] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:34)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$de69be0f.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-01-31 21:00:07,667 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:43,166 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:43,173 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4NjQ1OCwibmJmIjoxNjc1MTg2NDU4LCJleHAiOjE2NzUxODgyNTh9.arGkuDhZnuh8wB7Wy4gz6Zqi7soZ2t6aB8Eva1wnojs
2023-01-31 21:00:43,296 ERROR [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-01-31 21:00:51,013 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-01-31 21:00:51,022 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-01-31 21:00:51,455 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-01-31 21:00:51,455 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:51,529 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:51,532 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:51,540 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 21:00:51,541 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 21:00:51,573 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 21:00:57,707 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:57,721 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:57,736 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: 111.png
2023-01-31 21:00:57,740 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла 111.png и идентификатору 1
2023-01-31 21:00:57,769 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-01-31 21:00:57,770 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 21:00:57,771 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d
2023-01-31 21:00:57,780 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d не существует
2023-01-31 21:00:57,780 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: 111.png, хэш: af5914adcb64c3d82a9965c333a68f371dd3bb577a772f2d0e0b60d0b7fdf74d, Id пользователя: 1
2023-01-31 21:00:59,901 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:59,910 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTE4ODA1MSwibmJmIjoxNjc1MTg4MDUxLCJleHAiOjE2NzUxODk4NTF9.C1QY7ihBZ2Pst7HV1YqwhH_FiSSPkOwHXzVpCyS8WyE
2023-01-31 21:00:59,914 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-01-31 21:00:59,915 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-01-31 21:00:59,924 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-01-31 21:31:50,922 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 21:31:51,318 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 21:31:51,355 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 21:32:07,672 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 21:32:07 MSK 2023
2023-01-31 21:32:08,317 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12844 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 21:32:08,318 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 21:32:08,318 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 21:32:08,326 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 21:32:09,277 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:32:09,278 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 21:32:09,309 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:32:09,311 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:32:09,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-01-31 21:32:09,321 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:32:09,321 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 21:32:09,356 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-01-31 21:32:10,125 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 21:32:10,137 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 21:32:10,137 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 21:32:10,137 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 21:32:10,268 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 21:32:10,269 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1907 ms
2023-01-31 21:32:10,399 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 21:32:10,746 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 21:32:11,159 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 21:32:11,644 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 21:32:11,706 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 21:32:12,026 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 21:32:12,031 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 21:32:12,063 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-01-31 21:32:12,078 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 21:32:12,269 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-01-31 21:32:12,272 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 20ms
2023-01-31 21:32:12,294 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-01-31 21:32:12,296 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-01-31 21:32:12,321 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-01-31 21:32:12,324 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-01-31 21:32:12,340 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 21:32:12,407 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 21:32:12,465 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 21:32:12,629 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 21:32:12,736 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 21:32:13,030 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
2023-01-31 21:32:13,032 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
2023-01-31 21:32:13,032 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 21:32:13,049 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 21:32:13,051 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 21:32:13,062 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 21:32:13,083 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:895)
	at org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:913)
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:935)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:637)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:267)
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:314)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-01-31 21:33:11,893 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 21:33:11 MSK 2023
2023-01-31 21:33:12,400 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3860 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 21:33:12,400 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 21:33:12,401 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 21:33:12,409 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 21:33:13,106 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:33:13,107 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 21:33:13,136 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:33:13,138 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:33:13,139 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 21:33:13,147 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:33:13,147 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 21:33:13,179 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 21:33:13,745 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 21:33:13,755 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 21:33:13,755 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 21:33:13,755 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 21:33:13,905 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 21:33:13,906 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1462 ms
2023-01-31 21:33:13,982 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 21:33:14,137 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 21:33:14,491 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 21:33:14,824 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 21:33:14,879 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 21:33:15,029 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 21:33:15,034 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 21:33:15,144 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 21:33:15,270 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 21:33:15,333 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 21:33:15,383 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 21:33:15,524 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 21:33:15,622 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 21:33:15,899 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
2023-01-31 21:33:15,900 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
2023-01-31 21:33:15,901 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 21:33:15,928 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-01-31 21:33:15,930 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-01-31 21:33:15,942 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-01-31 21:33:15,971 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.MappingException: Repeated column in mapping for entity: maluevartem.cloud_storage_backend.entity.FileEntity column: id (should be mapped with insert="false" update="false")
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:895)
	at org.hibernate.mapping.PersistentClass.checkPropertyColumnDuplication(PersistentClass.java:913)
	at org.hibernate.mapping.PersistentClass.checkColumnDuplication(PersistentClass.java:935)
	at org.hibernate.mapping.PersistentClass.validate(PersistentClass.java:637)
	at org.hibernate.mapping.RootClass.validate(RootClass.java:267)
	at org.hibernate.boot.internal.MetadataImpl.validate(MetadataImpl.java:359)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:314)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-01-31 21:33:49,072 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Jan 31 21:33:49 MSK 2023
2023-01-31 21:33:49,497 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6696 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-01-31 21:33:49,497 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-01-31 21:33:49,498 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-01-31 21:33:49,498 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-01-31 21:33:50,212 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:33:50,213 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-01-31 21:33:50,240 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:33:50,243 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-01-31 21:33:50,244 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-01-31 21:33:50,252 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-01-31 21:33:50,252 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-01-31 21:33:50,283 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-01-31 21:33:50,827 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-01-31 21:33:50,835 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-01-31 21:33:50,836 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-01-31 21:33:50,836 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-01-31 21:33:50,936 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-01-31 21:33:50,936 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1402 ms
2023-01-31 21:33:50,992 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-01-31 21:33:51,235 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-01-31 21:33:51,517 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-01-31 21:33:51,874 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-01-31 21:33:51,924 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-01-31 21:33:52,060 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-01-31 21:33:52,071 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-01-31 21:33:52,186 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-01-31 21:33:52,316 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-01-31 21:33:52,373 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-01-31 21:33:52,420 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-01-31 21:33:52,541 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-01-31 21:33:52,622 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-01-31 21:33:53,204 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-01-31 21:33:53,212 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 21:33:53,656 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: fe892cf3-e325-480e-b99e-44c211e75c7c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-01-31 21:33:53,766 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-01-31 21:33:54,053 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bca2a09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af8ef61, org.springframework.security.web.context.SecurityContextPersistenceFilter@31428f76, org.springframework.security.web.header.HeaderWriterFilter@6eff05e7, org.springframework.web.filter.CorsFilter@5620470a, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ef812b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e0602ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29682244, org.springframework.security.web.session.SessionManagementFilter@62eb918, org.springframework.security.web.access.ExceptionTranslationFilter@3ce4eb42, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1483c738]
2023-01-31 21:33:54,359 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-01-31 21:33:54,380 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-01-31 21:33:54,391 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.23 seconds (JVM running for 6.267)
2023-01-31 21:40:46,287 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-01-31 21:40:46,291 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-01-31 21:40:46,322 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
