2023-02-07 00:00:24,750 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 00:00:24,877 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 00:00:24,912 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 34 ms
2023-02-07 00:00:25,147 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.RegistrationController: Новый пользователь приступил к регистрации: UserDto(login=Admin, password=admin)
2023-02-07 00:00:25,157 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.RegistrationService: Проверка свободности логина: UserEntity(id=null, login=Admin, password=admin, roles=null, fileList=null)
2023-02-07 00:00:25,845 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.RegistrationService: Новый пользователь зарегистрирован: UserEntity(id=null, login=Admin, password=$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2, roles=ROLE_USER, fileList=null)
2023-02-07 00:01:53,583 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:01:53,591 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 00:01:53,634 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 00:03:01,434 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 00:03:01 MSK 2023
2023-02-07 00:03:01,913 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10784 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 00:03:01,914 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 00:03:01,915 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 00:03:01,915 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 00:03:02,684 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:03:02,685 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 00:03:02,716 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:03:02,718 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:03:02,719 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 00:03:02,728 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:03:02,729 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 00:03:02,762 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 00:03:03,301 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 00:03:03,310 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 00:03:03,311 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 00:03:03,311 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 00:03:03,428 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 00:03:03,429 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1477 ms
2023-02-07 00:03:03,483 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 00:03:03,644 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 00:03:03,977 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 00:03:04,318 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 00:03:04,518 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 00:03:04,534 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 00:03:04,690 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 00:03:04,692 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-02-07 00:03:04,717 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 00:03:04,719 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 00:03:04,740 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 00:03:04,743 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-02-07 00:03:04,760 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 00:03:04,850 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 00:03:04,900 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 00:03:05,046 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 00:03:05,131 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 00:03:05,688 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 00:03:05,696 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:03:06,066 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 4ee37ba6-3992-4caf-ad9e-4830d715a591

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 00:03:06,287 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 00:03:06,517 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f9287a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4924ad09, org.springframework.security.web.context.SecurityContextPersistenceFilter@5fa3df, org.springframework.security.web.header.HeaderWriterFilter@12a7515b, org.springframework.web.filter.CorsFilter@7e9d171c, maluevartem.cloud_storage_backend.security.JWTFilter@31f295b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b1a3125, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4199761d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a1540be, org.springframework.security.web.session.SessionManagementFilter@2ded31cc, org.springframework.security.web.access.ExceptionTranslationFilter@33b4c775, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@702ab027]
2023-02-07 00:03:06,782 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 00:03:06,803 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 00:03:06,813 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.283 seconds (JVM running for 6.358)
2023-02-07 00:04:11,333 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:04:11,335 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 00:04:11,364 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 00:25:42,542 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 00:25:42 MSK 2023
2023-02-07 00:25:43,552 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 00:25:43,553 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 5672 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 00:25:43,555 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 00:25:43,555 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 00:25:44,418 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:25:44,419 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 00:25:44,448 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:25:44,450 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:25:44,451 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 00:25:44,459 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:25:44,459 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 00:25:44,491 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 00:25:45,047 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 00:25:45,057 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 00:25:45,057 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 00:25:45,058 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 00:25:45,169 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 00:25:45,169 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1572 ms
2023-02-07 00:25:45,223 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 00:25:45,410 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 00:25:45,751 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 00:25:46,121 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 00:25:46,457 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 00:25:46,572 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 00:25:46,634 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 00:25:46,693 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 00:25:46,830 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 00:25:46,956 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 00:25:47,601 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 00:25:47,608 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:25:48,096 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 771ce220-5551-4e1f-aaa8-77763ee5c1a3

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 00:25:48,208 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 00:25:48,476 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ddc9001, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f39b3ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@31428f76, org.springframework.security.web.header.HeaderWriterFilter@6eff05e7, org.springframework.web.filter.CorsFilter@53b579d2, maluevartem.cloud_storage_backend.security.JWTFilter@28e0e464, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40e7aea9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63ff861e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34f2d3a6, org.springframework.security.web.session.SessionManagementFilter@62eb918, org.springframework.security.web.access.ExceptionTranslationFilter@3ce4eb42, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4ed492df]
2023-02-07 00:25:49,370 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 00:25:49,458 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 00:25:49,473 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.404 seconds (JVM running for 8.273)
2023-02-07 00:25:56,454 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 00:25:56,454 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 00:25:56,457 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 00:25:56,666 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 00:25:56,671 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 00:25:57,253 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODc1NywibmJmIjoxNjc1NzE4NzU3LCJleHAiOjE2NzU3MjA1NTd9.sFdQ0pt_j6nmmLQSvd1Erw-WXGLFnJ1hQP_SX-hPAMU добавлен в список активных токеннов
2023-02-07 00:25:57,253 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODc1NywibmJmIjoxNjc1NzE4NzU3LCJleHAiOjE2NzU3MjA1NTd9.sFdQ0pt_j6nmmLQSvd1Erw-WXGLFnJ1hQP_SX-hPAMU
2023-02-07 00:25:57,444 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODc1NywibmJmIjoxNjc1NzE4NzU3LCJleHAiOjE2NzU3MjA1NTd9.sFdQ0pt_j6nmmLQSvd1Erw-WXGLFnJ1hQP_SX-hPAMU
2023-02-07 00:25:57,453 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 00:25:57,461 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODc1NywibmJmIjoxNjc1NzE4NzU3LCJleHAiOjE2NzU3MjA1NTd9.sFdQ0pt_j6nmmLQSvd1Erw-WXGLFnJ1hQP_SX-hPAMU
2023-02-07 00:25:57,465 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 00:25:57,466 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 00:26:58,111 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:26:58,114 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 00:26:58,256 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 00:27:12,354 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 00:27:12 MSK 2023
2023-02-07 00:27:12,799 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7140 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 00:27:12,800 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 00:27:12,801 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 00:27:12,802 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 00:27:13,731 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:27:13,734 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 00:27:13,768 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:27:13,770 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:27:13,771 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 00:27:13,779 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:27:13,780 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 00:27:13,811 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 00:27:15,431 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 00:27:15,441 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 00:27:15,442 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 00:27:15,442 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 00:27:15,570 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 00:27:15,570 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2719 ms
2023-02-07 00:27:15,632 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 00:27:15,819 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 00:27:16,248 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 00:27:16,626 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 00:27:16,967 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 00:27:17,071 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 00:27:17,162 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 00:27:17,215 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 00:27:17,342 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 00:27:17,458 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 00:27:18,019 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 00:27:18,026 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:27:18,453 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: f5435288-8afe-4a64-8b52-a7a549189d59

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 00:27:18,594 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 00:27:18,803 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cd1ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@122a6078, org.springframework.security.web.context.SecurityContextPersistenceFilter@3a5c6009, org.springframework.security.web.header.HeaderWriterFilter@108d59b6, org.springframework.web.filter.CorsFilter@6980fa39, maluevartem.cloud_storage_backend.security.JWTFilter@553da911, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2703785e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a7f382, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a000fff, org.springframework.security.web.session.SessionManagementFilter@a4388f1, org.springframework.security.web.access.ExceptionTranslationFilter@615b1baf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7e9d171c]
2023-02-07 00:27:19,129 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 00:27:19,155 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 00:27:19,168 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.731 seconds (JVM running for 7.92)
2023-02-07 00:28:30,018 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:28:30,024 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 00:28:30,060 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 00:28:37,851 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 00:28:37 MSK 2023
2023-02-07 00:28:38,502 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14916 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 00:28:38,503 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 00:28:38,504 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 00:28:38,505 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 00:28:39,453 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:28:39,454 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 00:28:39,487 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:28:39,489 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 00:28:39,490 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 00:28:39,498 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 00:28:39,499 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 00:28:39,537 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-07 00:28:40,312 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 00:28:40,322 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 00:28:40,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 00:28:40,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 00:28:40,443 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 00:28:40,444 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1892 ms
2023-02-07 00:28:40,538 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 00:28:40,732 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 00:28:41,155 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 00:28:41,552 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 00:28:42,144 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 00:28:42,317 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 00:28:42,390 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 00:28:42,474 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 00:28:42,716 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 00:28:43,132 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 00:28:44,366 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 00:28:44,376 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 00:28:45,143 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: c31386d4-a4d4-4966-8a8e-df9c29001db2

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 00:28:45,279 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 00:28:45,541 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3941bdd7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69c7eafd, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b312863, org.springframework.security.web.header.HeaderWriterFilter@6c3627c, org.springframework.web.filter.CorsFilter@6e6ec71f, maluevartem.cloud_storage_backend.security.JWTFilter@5974b7e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b6fc231, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b7ebac1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e387974, org.springframework.security.web.session.SessionManagementFilter@4010f232, org.springframework.security.web.access.ExceptionTranslationFilter@2f51b100, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1b6e32ee]
2023-02-07 00:28:45,883 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 00:28:45,917 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 00:28:45,933 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.97 seconds (JVM running for 10.35)
2023-02-07 00:28:50,059 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 00:28:50,059 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 00:28:50,060 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 00:28:50,199 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 00:28:50,205 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 00:28:50,820 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODkzMCwibmJmIjoxNjc1NzE4OTMwLCJleHAiOjE2NzU3MjA3MzB9.LYLFdSSpU7RIjsjndVCeePskQ0B0UW9lHDgZQ66yMcA добавлен в список активных токеннов
2023-02-07 00:28:50,821 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODkzMCwibmJmIjoxNjc1NzE4OTMwLCJleHAiOjE2NzU3MjA3MzB9.LYLFdSSpU7RIjsjndVCeePskQ0B0UW9lHDgZQ66yMcA
2023-02-07 00:28:51,045 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODkzMCwibmJmIjoxNjc1NzE4OTMwLCJleHAiOjE2NzU3MjA3MzB9.LYLFdSSpU7RIjsjndVCeePskQ0B0UW9lHDgZQ66yMcA
2023-02-07 00:29:40,252 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s995ms571µs600ns).
2023-02-07 00:29:40,258 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 00:29:40,602 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcxODkzMCwibmJmIjoxNjc1NzE4OTMwLCJleHAiOjE2NzU3MjA3MzB9.LYLFdSSpU7RIjsjndVCeePskQ0B0UW9lHDgZQ66yMcA
2023-02-07 00:31:45,160 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m4s908ms288µs900ns).
2023-02-07 00:31:45,159 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 00:31:45,163 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:09:56,771 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:09:56,875 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:09:57,100 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:14:20,953 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:14:20 MSK 2023
2023-02-07 01:14:21,682 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:14:21,682 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1980 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:14:21,683 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:14:21,684 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:14:22,760 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:14:22,762 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:14:22,797 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:14:22,798 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:14:22,800 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:14:22,807 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:14:22,807 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:14:22,848 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2023-02-07 01:14:23,553 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:14:23,564 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:14:23,564 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:14:23,565 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:14:23,706 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:14:23,707 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1970 ms
2023-02-07 01:14:23,806 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:14:24,108 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:14:24,556 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:14:24,947 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:14:25,357 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:14:25,374 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:14:25,529 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 01:14:25,530 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 01:14:25,551 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 01:14:25,553 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 13ms
2023-02-07 01:14:25,584 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:14:25,591 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 01:14:25,593 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:14:25,624 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:14:25,629 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 01:14:25,645 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 01:14:25,675 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'roles' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 01:14:52,453 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:14:52 MSK 2023
2023-02-07 01:14:52,935 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8236 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:14:52,936 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:14:52,937 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:14:52,973 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:14:53,792 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:14:53,793 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:14:53,821 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:14:53,823 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:14:53,825 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:14:53,832 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:14:53,833 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:14:53,863 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 01:14:54,445 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:14:54,457 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:14:54,458 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:14:54,460 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:14:54,595 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:14:54,595 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1599 ms
2023-02-07 01:14:54,659 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:14:54,828 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:14:55,133 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:14:55,522 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:14:55,811 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:14:55,981 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:14:55,986 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 01:14:55,986 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:14:56,010 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:14:56,014 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 01:14:56,028 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 01:14:56,064 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'roles' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 01:16:46,422 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:16:46 MSK 2023
2023-02-07 01:16:46,843 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:16:46,844 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 5668 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:16:46,845 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:16:46,846 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:16:47,604 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:16:47,605 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:16:47,640 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:16:47,642 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:16:47,644 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:16:47,656 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:16:47,656 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:16:47,690 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 01:16:48,276 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:16:48,285 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:16:48,285 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:16:48,286 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:16:48,403 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:16:48,404 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1521 ms
2023-02-07 01:16:48,468 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:16:48,698 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:16:49,050 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:16:49,414 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:16:49,699 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:16:49,847 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:16:49,853 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 01:16:49,853 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:16:49,876 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:16:49,879 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 01:16:49,890 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 01:16:49,933 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Unknown column 'roles' in 'field list' [Failed SQL: (1054) insert into user_entity (login, password, roles)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2', 'ROLE_ADMIN'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'roles' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 01:17:11,594 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:17:11 MSK 2023
2023-02-07 01:17:12,059 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7880 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:17:12,059 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:17:12,059 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:17:12,060 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:17:12,829 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:17:12,830 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:17:12,858 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:17:12,860 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:17:12,862 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:17:12,869 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:17:12,870 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:17:12,900 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 01:17:13,442 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:17:13,450 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:17:13,451 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:17:13,451 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:17:13,559 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:17:13,560 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1461 ms
2023-02-07 01:17:13,629 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:17:13,772 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:17:14,047 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:17:14,673 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:17:14,952 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:17:15,052 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 01:17:15,054 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 13ms
2023-02-07 01:17:15,065 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:17:15,136 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 01:17:15,215 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 01:17:15,352 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 01:17:15,460 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 01:17:16,017 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 01:17:16,025 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:17:16,482 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 37288a0a-b49d-43f2-b5c2-547fc179f114

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 01:17:16,612 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 01:17:16,831 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f16c21f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2314f013, org.springframework.security.web.context.SecurityContextPersistenceFilter@65dafe50, org.springframework.security.web.header.HeaderWriterFilter@31c31fa6, org.springframework.web.filter.CorsFilter@72ae1007, maluevartem.cloud_storage_backend.security.JWTFilter@63f6bed1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@108d59b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38d9c9c4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4545cfc0, org.springframework.security.web.session.SessionManagementFilter@3d5e3f58, org.springframework.security.web.access.ExceptionTranslationFilter@1237aa73, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@247877f3]
2023-02-07 01:17:17,188 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 01:17:17,211 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 01:17:17,222 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.537 seconds (JVM running for 6.473)
2023-02-07 01:17:48,732 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:17:48,734 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:17:48,756 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:17:54,764 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:17:54 MSK 2023
2023-02-07 01:17:55,464 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12740 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:17:55,465 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:17:55,466 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:17:55,467 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:17:56,681 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:17:56,682 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:17:56,716 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:17:56,718 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:17:56,719 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:17:56,727 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:17:56,728 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:17:56,764 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-07 01:17:57,540 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:17:57,554 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:17:57,555 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:17:57,555 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:17:57,795 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:17:57,795 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1987 ms
2023-02-07 01:17:57,877 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:17:58,100 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:17:58,747 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:17:59,198 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:17:59,610 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:17:59,747 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:17:59,811 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 01:17:59,878 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 01:18:00,048 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 01:18:00,173 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 01:18:00,859 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 01:18:00,869 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:18:01,433 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: e7e62cf7-8097-4597-9acf-d723f1829b01

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 01:18:01,573 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 01:18:01,843 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73cfafd8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4b517357, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f5fb335, org.springframework.security.web.header.HeaderWriterFilter@396f3bf2, org.springframework.web.filter.CorsFilter@702ab027, maluevartem.cloud_storage_backend.security.JWTFilter@22dc59b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@299cddbf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31beb0d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62d5617, org.springframework.security.web.session.SessionManagementFilter@701bd6e8, org.springframework.security.web.access.ExceptionTranslationFilter@7164e54, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@321302bc]
2023-02-07 01:18:02,250 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 01:18:02,287 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 01:18:02,301 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.343 seconds (JVM running for 8.775)
2023-02-07 01:18:16,579 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 01:18:16,580 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 01:18:16,581 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 01:18:16,747 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 01:18:16,754 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 01:18:17,319 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMTg5NywibmJmIjoxNjc1NzIxODk3LCJleHAiOjE2NzU3MjM2OTd9.ooS8QMlWkWJxvXdWgS9bhT1JRnVjDoyExBnGGJzwT4I добавлен в список активных токеннов
2023-02-07 01:18:17,319 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMTg5NywibmJmIjoxNjc1NzIxODk3LCJleHAiOjE2NzU3MjM2OTd9.ooS8QMlWkWJxvXdWgS9bhT1JRnVjDoyExBnGGJzwT4I
2023-02-07 01:18:17,526 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMTg5NywibmJmIjoxNjc1NzIxODk3LCJleHAiOjE2NzU3MjM2OTd9.ooS8QMlWkWJxvXdWgS9bhT1JRnVjDoyExBnGGJzwT4I
2023-02-07 01:21:26,418 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m27s569ms133µs500ns).
2023-02-07 01:21:26,430 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:21:26,440 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMTg5NywibmJmIjoxNjc1NzIxODk3LCJleHAiOjE2NzU3MjM2OTd9.ooS8QMlWkWJxvXdWgS9bhT1JRnVjDoyExBnGGJzwT4I
2023-02-07 01:22:13,181 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:22:13,183 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:22:21,828 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:22:21,877 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:22:22,402 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:22:30,576 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:22:30 MSK 2023
2023-02-07 01:22:31,282 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:22:31,283 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 16124 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:22:31,285 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:22:31,286 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:22:32,250 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:22:32,252 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:22:32,285 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:22:32,287 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:22:32,288 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:22:32,297 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:22:32,297 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:22:32,336 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2023-02-07 01:22:33,384 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:22:33,396 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:22:33,396 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:22:33,397 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:22:33,535 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:22:33,535 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2197 ms
2023-02-07 01:22:33,625 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:22:33,857 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:22:34,280 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:22:34,678 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:22:35,134 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:22:35,280 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:22:35,377 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 01:22:35,445 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 01:22:35,611 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 01:22:35,729 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 01:22:36,418 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 01:22:36,428 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:22:37,006 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 63d5d16b-69da-4db7-9ff6-0ae50e402d65

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 01:22:37,131 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 01:22:37,375 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b949de4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2981064d, org.springframework.security.web.context.SecurityContextPersistenceFilter@31c31fa6, org.springframework.security.web.header.HeaderWriterFilter@78a0d664, org.springframework.web.filter.CorsFilter@1dc9e4d2, maluevartem.cloud_storage_backend.security.JWTFilter@33e434c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d5e3f58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@615b1baf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ef8899d, org.springframework.security.web.session.SessionManagementFilter@1dbb9a4a, org.springframework.security.web.access.ExceptionTranslationFilter@4131f6db, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@98a0842]
2023-02-07 01:22:37,754 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 01:22:37,781 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 01:22:37,792 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.074 seconds (JVM running for 8.528)
2023-02-07 01:22:52,000 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 01:22:52,000 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 01:22:52,001 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 01:22:52,139 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 01:22:52,146 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 01:22:52,719 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMjE3MiwibmJmIjoxNjc1NzIyMTcyLCJleHAiOjE2NzU3MjM5NzJ9.1FbRGAtw6eINS6bEvbpzGdLr4-piH58tkzexzYe9-wA добавлен в список активных токеннов
2023-02-07 01:22:52,719 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMjE3MiwibmJmIjoxNjc1NzIyMTcyLCJleHAiOjE2NzU3MjM5NzJ9.1FbRGAtw6eINS6bEvbpzGdLr4-piH58tkzexzYe9-wA
2023-02-07 01:22:52,845 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMjE3MiwibmJmIjoxNjc1NzIyMTcyLCJleHAiOjE2NzU3MjM5NzJ9.1FbRGAtw6eINS6bEvbpzGdLr4-piH58tkzexzYe9-wA
2023-02-07 01:23:17,006 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:23:17,012 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMjE3MiwibmJmIjoxNjc1NzIyMTcyLCJleHAiOjE2NzU3MjM5NzJ9.1FbRGAtw6eINS6bEvbpzGdLr4-piH58tkzexzYe9-wA
2023-02-07 01:25:27,470 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s693ms99µs200ns).
2023-02-07 01:25:27,475 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:25:27,478 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:25:43,267 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:25:43,291 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 01:25:43,369 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 01:52:58,534 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 01:52:58 MSK 2023
2023-02-07 01:52:59,474 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 01:52:59,480 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11192 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 01:52:59,482 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 01:52:59,483 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 01:53:01,372 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:53:01,373 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 01:53:01,412 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:53:01,417 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 01:53:01,418 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 39 ms. Found 0 JDBC repository interfaces.
2023-02-07 01:53:01,428 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 01:53:01,428 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 01:53:01,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2023-02-07 01:53:02,314 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 01:53:02,327 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 01:53:02,328 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 01:53:02,328 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 01:53:02,504 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 01:53:02,504 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2623 ms
2023-02-07 01:53:02,688 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 01:53:03,091 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 01:53:03,656 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 01:53:04,133 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 01:53:04,646 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 01:53:04,772 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 01:53:04,840 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 01:53:04,908 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 01:53:05,074 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 01:53:05,252 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 01:53:06,155 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 01:53:06,164 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 01:53:07,429 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 37f68752-617d-4337-bf2c-3893364e634c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 01:53:07,613 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 01:53:07,929 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31887330, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65528bcf, org.springframework.security.web.context.SecurityContextPersistenceFilter@62966c9f, org.springframework.security.web.header.HeaderWriterFilter@5c3e7128, org.springframework.web.filter.CorsFilter@7bb4f09d, maluevartem.cloud_storage_backend.security.JWTFilter@66383c29, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6915351c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ac0cb64, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ee7a538, org.springframework.security.web.session.SessionManagementFilter@10c67c1c, org.springframework.security.web.access.ExceptionTranslationFilter@118f39f3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f69e35a]
2023-02-07 01:53:08,274 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 01:53:08,312 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 01:53:08,324 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 9.619 seconds (JVM running for 11.287)
2023-02-07 01:53:13,621 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 01:53:13,621 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 01:53:13,623 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 01:53:13,792 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 01:53:13,798 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 01:53:14,374 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI добавлен в список активных токеннов
2023-02-07 01:53:14,374 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI
2023-02-07 01:53:14,607 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI
2023-02-07 01:55:27,583 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m23s822ms987µs400ns).
2023-02-07 01:58:58,347 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m30s766ms985µs400ns).
2023-02-07 01:59:35,911 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 01:59:35,956 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI
2023-02-07 02:01:04,003 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m28s170ms166µs700ns).
2023-02-07 02:01:21,974 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:01:21,979 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:01:25,348 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:01:25,410 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:01:25,625 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:13:02,126 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:13:02 MSK 2023
2023-02-07 02:13:02,736 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:13:02,741 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15800 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:13:02,743 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:13:02,744 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:13:03,910 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:13:03,911 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:13:03,950 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:13:03,952 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:13:03,954 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:13:03,962 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:13:03,963 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:13:04,003 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2023-02-07 02:13:04,734 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:13:04,743 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:13:04,744 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:13:04,744 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:13:04,879 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:13:04,879 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2082 ms
2023-02-07 02:13:04,973 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:13:05,300 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:13:05,729 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:13:06,169 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:13:06,620 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:13:06,634 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:13:06,784 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 02:13:06,786 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 02:13:06,809 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 02:13:06,812 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 02:13:06,838 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 02:13:06,840 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 20ms
2023-02-07 02:13:06,860 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:13:06,954 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:13:07,009 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:13:07,181 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:13:07,314 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:13:08,001 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:13:08,003 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:13:08,003 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:13:08,029 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:13:08,032 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:13:08,044 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:13:08,069 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 02:15:33,759 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:15:33 MSK 2023
2023-02-07 02:15:34,219 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15204 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:15:34,220 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:15:34,221 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:15:34,221 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:15:35,065 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:15:35,066 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:15:35,095 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:15:35,097 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:15:35,098 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:15:35,105 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:15:35,106 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:15:35,136 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 02:15:35,686 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:15:35,694 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:15:35,695 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:15:35,695 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:15:35,821 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:15:35,822 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1562 ms
2023-02-07 02:15:35,880 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:15:36,046 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:15:36,386 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:15:36,757 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:15:36,960 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:15:36,976 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:15:37,107 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 02:15:37,110 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-02-07 02:15:37,134 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 02:15:37,136 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 16ms
2023-02-07 02:15:37,156 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 02:15:37,158 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 15ms
2023-02-07 02:15:37,172 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:15:37,259 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:15:37,303 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:15:37,422 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:15:37,502 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:15:38,017 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:15:38,019 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:15:38,019 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:15:38,044 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:15:38,046 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:15:38,056 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:15:38,078 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 02:18:03,775 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:18:03 MSK 2023
2023-02-07 02:18:04,234 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14844 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:18:04,235 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:18:04,236 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:18:04,238 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:18:04,968 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:18:04,969 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:18:04,999 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:18:05,001 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:18:05,002 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:18:05,011 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:18:05,011 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:18:05,043 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 02:18:05,609 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:18:05,618 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:18:05,619 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:18:05,619 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:18:05,738 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:18:05,738 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1465 ms
2023-02-07 02:18:05,813 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:18:06,002 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:18:06,377 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:18:06,795 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:18:07,006 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:18:07,022 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:18:07,171 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 02:18:07,172 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-02-07 02:18:07,197 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 02:18:07,199 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-02-07 02:18:07,223 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 02:18:07,225 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 18ms
2023-02-07 02:18:07,242 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:18:07,382 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:18:07,440 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:18:07,582 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:18:07,690 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:18:08,281 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:18:08,282 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 02:18:08,282 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:18:08,308 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:18:08,310 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:18:08,321 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:18:08,347 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 02:20:47,652 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:20:47 MSK 2023
2023-02-07 02:20:48,276 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:20:48,279 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15944 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:20:48,280 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:20:48,281 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:20:49,067 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:20:49,068 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:20:49,102 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:20:49,104 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:20:49,105 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:20:49,113 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:20:49,113 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:20:49,148 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2023-02-07 02:20:49,731 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:20:49,739 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:20:49,740 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:20:49,740 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:20:49,853 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:20:49,853 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1524 ms
2023-02-07 02:20:49,911 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:20:50,095 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:20:50,449 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:20:50,828 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:20:51,150 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:20:51,259 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:20:51,313 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:20:51,368 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:20:51,513 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:20:51,627 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:20:52,187 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 02:20:52,194 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:20:52,646 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7feed824-6398-4d47-b195-70fa42496d5d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 02:20:52,769 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 02:20:52,973 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7da59f6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fb8d720, org.springframework.security.web.context.SecurityContextPersistenceFilter@206de1f, org.springframework.security.web.header.HeaderWriterFilter@570ede3b, org.springframework.web.filter.CorsFilter@21b792c2, maluevartem.cloud_storage_backend.security.JWTFilter@a6e4897, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50bc0bbd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6956081d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6202f8bf, org.springframework.security.web.session.SessionManagementFilter@25630ede, org.springframework.security.web.access.ExceptionTranslationFilter@6da86e98, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@bbf361a]
2023-02-07 02:20:53,265 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 02:20:53,285 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 02:20:53,295 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.534 seconds (JVM running for 6.554)
2023-02-07 02:21:18,138 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 02:21:18,138 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 02:21:18,140 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 02:21:18,343 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI
2023-02-07 02:21:18,355 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:21:18,362 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyMzk5NCwibmJmIjoxNjc1NzIzOTk0LCJleHAiOjE2NzU3MjU3OTR9.ulev9NgRaoj6QS5k7UB_d6jRFZxKe2KrM_TMcswsipI
2023-02-07 02:21:18,365 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:21:18,365 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:21:27,908 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:21:27,915 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:21:27,948 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:21:44,352 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:21:44 MSK 2023
2023-02-07 02:21:44,919 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12328 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:21:44,919 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:21:44,920 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:21:44,921 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:21:45,835 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:21:45,836 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:21:45,870 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:21:45,872 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:21:45,873 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:21:45,882 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:21:45,882 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:21:45,919 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-02-07 02:21:46,613 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:21:46,624 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:21:46,625 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:21:46,625 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:21:46,753 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:21:46,754 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1787 ms
2023-02-07 02:21:46,841 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:21:47,038 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:21:47,428 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:21:47,841 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:21:48,185 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:21:48,297 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:21:48,361 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:21:48,431 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:21:48,587 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:21:48,722 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:21:49,377 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 02:21:49,385 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:21:49,924 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 041e93bf-b745-4d78-9aec-39f82e357f02

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 02:21:50,048 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 02:21:50,305 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cfe72b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12f933c7, org.springframework.security.web.context.SecurityContextPersistenceFilter@1cdb290c, org.springframework.security.web.header.HeaderWriterFilter@7adde776, org.springframework.web.filter.CorsFilter@156d7556, maluevartem.cloud_storage_backend.security.JWTFilter@31f295b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4607cbe2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ff40324, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@531bfe4b, org.springframework.security.web.session.SessionManagementFilter@4ae435a3, org.springframework.security.web.access.ExceptionTranslationFilter@186e254, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d2ce035]
2023-02-07 02:21:50,740 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 02:21:50,765 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 02:21:50,776 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.304 seconds (JVM running for 7.626)
2023-02-07 02:22:03,718 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 02:22:03,720 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 02:22:03,721 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 02:22:03,854 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 02:22:03,860 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 02:22:04,435 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTcyNCwibmJmIjoxNjc1NzI1NzI0LCJleHAiOjE2NzU3Mjc1MjR9.8rVkah0LFC7RxeTa6nk7T0Rxtihy9Z6u8xsf0hL7JWU добавлен в список активных токеннов
2023-02-07 02:22:04,435 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTcyNCwibmJmIjoxNjc1NzI1NzI0LCJleHAiOjE2NzU3Mjc1MjR9.8rVkah0LFC7RxeTa6nk7T0Rxtihy9Z6u8xsf0hL7JWU
2023-02-07 02:22:04,575 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTcyNCwibmJmIjoxNjc1NzI1NzI0LCJleHAiOjE2NzU3Mjc1MjR9.8rVkah0LFC7RxeTa6nk7T0Rxtihy9Z6u8xsf0hL7JWU
2023-02-07 02:24:40,930 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m53s396ms882µs).
2023-02-07 02:25:14,203 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:25:14,230 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTcyNCwibmJmIjoxNjc1NzI1NzI0LCJleHAiOjE2NzU3Mjc1MjR9.8rVkah0LFC7RxeTa6nk7T0Rxtihy9Z6u8xsf0hL7JWU
2023-02-07 02:25:14,691 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:25:14,704 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:25:14,789 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:25:27,754 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:25:27 MSK 2023
2023-02-07 02:25:28,531 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15016 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:25:28,532 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:25:28,533 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:25:28,577 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:25:29,733 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:25:29,734 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:25:29,769 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:25:29,771 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:25:29,772 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:25:29,781 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:25:29,781 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:25:29,821 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-02-07 02:25:30,536 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:25:30,548 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:25:30,548 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:25:30,549 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:25:30,684 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:25:30,685 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1957 ms
2023-02-07 02:25:30,805 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:25:31,044 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:25:31,469 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:25:31,988 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:25:32,421 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:25:32,608 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:25:32,693 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 02:25:32,757 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 02:25:32,930 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 02:25:33,053 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 02:25:33,777 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 02:25:33,787 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:25:34,375 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 6b9ba83c-7687-488b-9671-8fbf77a96d50

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 02:25:34,507 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 02:25:34,760 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65528bcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bb4f09d, org.springframework.security.web.context.SecurityContextPersistenceFilter@2bb118ae, org.springframework.security.web.header.HeaderWriterFilter@4917992b, org.springframework.web.filter.CorsFilter@ee7a538, maluevartem.cloud_storage_backend.security.JWTFilter@91da29b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5afaae7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7364073b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c045627, org.springframework.security.web.session.SessionManagementFilter@1e9d6c78, org.springframework.security.web.access.ExceptionTranslationFilter@c040c8d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@209f0986]
2023-02-07 02:25:35,169 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 02:25:35,193 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 02:25:35,204 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.323 seconds (JVM running for 8.871)
2023-02-07 02:25:35,266 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 02:25:35,266 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 02:25:35,267 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 02:25:35,455 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 02:25:35,461 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 02:25:36,073 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTkzNiwibmJmIjoxNjc1NzI1OTM2LCJleHAiOjE2NzU3Mjc3MzZ9.sOFz89N-5BORvra2i4SRiomsNIGG26TJWvpjSXmaVtA добавлен в список активных токеннов
2023-02-07 02:25:36,074 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTkzNiwibmJmIjoxNjc1NzI1OTM2LCJleHAiOjE2NzU3Mjc3MzZ9.sOFz89N-5BORvra2i4SRiomsNIGG26TJWvpjSXmaVtA
2023-02-07 02:25:36,206 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTkzNiwibmJmIjoxNjc1NzI1OTM2LCJleHAiOjE2NzU3Mjc3MzZ9.sOFz89N-5BORvra2i4SRiomsNIGG26TJWvpjSXmaVtA
2023-02-07 02:26:09,292 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:26:09,297 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTcyNTkzNiwibmJmIjoxNjc1NzI1OTM2LCJleHAiOjE2NzU3Mjc3MzZ9.sOFz89N-5BORvra2i4SRiomsNIGG26TJWvpjSXmaVtA
2023-02-07 02:26:09,300 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:26:09,302 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 02:26:09,662 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 02:26:09,669 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:26:09,724 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:32:01,777 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:32:01 MSK 2023
2023-02-07 02:32:02,268 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2960 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:32:02,269 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:32:02,269 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:32:02,270 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:32:03,042 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:32:03,043 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:32:03,076 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:32:03,078 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:32:03,079 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:32:03,087 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:32:03,087 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:32:03,123 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2023-02-07 02:32:03,699 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:32:03,708 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:32:03,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:32:03,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:32:03,823 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:32:03,823 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1515 ms
2023-02-07 02:32:03,887 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:32:04,083 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:32:04,421 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:32:04,793 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:32:04,995 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:32:05,006 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:32:05,007 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:32:05,028 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:32:05,031 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:32:05,041 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:32:05,064 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-fill-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-fill-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:35:06,736 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:35:06 MSK 2023
2023-02-07 02:35:07,212 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 664 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:35:07,212 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:35:07,213 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:35:07,217 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:35:07,952 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:35:07,953 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:35:07,984 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:35:07,986 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:35:07,987 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:35:07,995 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:35:07,995 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:35:08,029 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 02:35:08,623 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:35:08,641 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:35:08,642 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:35:08,642 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:35:08,748 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:35:08,748 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1494 ms
2023-02-07 02:35:08,803 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:35:08,956 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:35:09,236 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:35:09,603 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:35:09,788 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:35:09,798 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:35:09,799 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:35:09,829 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:35:09,834 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:35:09,847 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:35:09,874 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-fill-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-fill-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:38:31,033 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:38:31 MSK 2023
2023-02-07 02:38:31,517 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13832 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:38:31,517 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:38:31,518 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:38:31,522 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:38:32,397 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:38:32,398 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:38:32,432 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:38:32,434 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:38:32,435 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:38:32,444 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:38:32,444 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:38:32,480 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 02:38:33,128 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:38:33,137 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:38:33,138 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:38:33,138 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:38:33,263 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:38:33,263 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1708 ms
2023-02-07 02:38:33,330 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:38:33,519 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:38:33,841 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:38:34,185 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:38:34,410 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:38:34,424 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:38:34,424 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:38:34,446 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:38:34,449 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:38:34,458 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:38:34,480 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-create-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-create-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:39:23,171 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:39:23 MSK 2023
2023-02-07 02:39:23,652 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12704 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:39:23,653 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:39:23,654 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:39:23,664 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:39:24,437 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:39:24,438 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:39:24,469 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:39:24,471 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:39:24,472 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:39:24,480 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:39:24,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:39:24,514 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 02:39:25,109 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:39:25,118 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:39:25,119 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:39:25,119 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:39:25,224 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:39:25,225 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1514 ms
2023-02-07 02:39:25,296 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:39:25,458 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:39:25,747 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:39:26,084 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:39:26,260 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:39:26,270 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:39:26,270 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:39:26,295 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:39:26,299 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:39:26,312 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:39:26,342 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-create-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-create-table-roles_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:43:24,172 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:43:24 MSK 2023
2023-02-07 02:43:24,644 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:43:24,645 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13004 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:43:24,646 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:43:24,647 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:43:25,381 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:43:25,381 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:43:25,411 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:43:25,413 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:43:25,414 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:43:25,423 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:43:25,423 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:43:25,454 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 02:43:26,049 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:43:26,058 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:43:26,059 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:43:26,059 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:43:26,177 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:43:26,177 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1488 ms
2023-02-07 02:43:26,413 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:43:26,934 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:43:27,253 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:43:28,109 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:43:28,400 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:43:28,413 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:43:28,413 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:43:28,494 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:43:28,497 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:43:28,513 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:43:28,543 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-create-table-roles.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-create-table-roles.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:43:35,778 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:43:35 MSK 2023
2023-02-07 02:43:36,227 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8756 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:43:36,228 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:43:36,229 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:43:36,230 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:43:36,957 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:43:36,958 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:43:36,986 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:43:36,988 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:43:36,990 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:43:36,997 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:43:36,998 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:43:37,031 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 02:43:37,545 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:43:37,553 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:43:37,553 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:43:37,553 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:43:37,652 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:43:37,653 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1385 ms
2023-02-07 02:43:37,708 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:43:37,872 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:43:38,154 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:43:38,475 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:43:38,756 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:43:38,767 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-07 02:43:38,768 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:43:38,795 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:43:38,798 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:43:38,809 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:43:38,830 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: The file /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: The file /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql was not found in
    - Spring resources
Specifying files by absolute path was removed in Liquibase 4.0. Please use a relative path or add '/' to the classpath parameter.
	at liquibase.parser.core.sql.SqlChangeLogParser.parse(SqlChangeLogParser.java:45)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-07 02:46:20,662 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:46:20 MSK 2023
2023-02-07 02:46:21,112 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15836 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:46:21,113 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:46:21,114 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:46:21,114 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:46:21,862 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:46:21,862 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:46:21,896 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:46:21,898 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:46:21,899 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:46:21,908 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:46:21,908 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:46:21,945 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-07 02:46:22,487 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:46:22,496 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:46:22,496 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:46:22,496 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:46:22,609 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:46:22,609 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1450 ms
2023-02-07 02:46:22,660 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:46:22,813 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:46:23,106 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:46:23,432 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:46:23,631 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:46:23,649 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:46:23,791 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 02:46:23,793 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 11ms
2023-02-07 02:46:23,829 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 02:46:23,835 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 33ms
2023-02-07 02:46:23,869 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:46:23,875 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (login) REFERENCES mysqlDataBase.user_entity(login))]
2023-02-07 02:46:23,876 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:46:23,913 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:46:23,918 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:46:23,932 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:46:23,957 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (login) REFERENCES mysqlDataBase.user_entity(login))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:50:01,855 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:50:01 MSK 2023
2023-02-07 02:50:02,314 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10528 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:50:02,315 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:50:02,317 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:50:02,323 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:50:03,076 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:50:03,077 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:50:03,106 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:50:03,108 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:50:03,109 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:50:03,117 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:50:03,117 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:50:03,150 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 02:50:03,769 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:50:03,779 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:50:03,780 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:50:03,780 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:50:03,947 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:50:03,947 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1590 ms
2023-02-07 02:50:04,039 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:50:04,208 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:50:04,573 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:50:04,937 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:50:05,255 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:50:05,407 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:50:05,412 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, user_login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_login) REFERENCES mysqlDataBase.user_entity(login))]
2023-02-07 02:50:05,412 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:50:05,436 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:50:05,439 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:50:05,494 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:50:05,564 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, user_login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_login) REFERENCES mysqlDataBase.user_entity(login))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, user_login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, user_login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity' [Failed SQL: (1822) CREATE TABLE mysqlDataBase.roles (id BIGINT AUTO_INCREMENT NOT NULL, user_login VARCHAR(128) NULL, roles VARCHAR(255) NOT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_login) REFERENCES mysqlDataBase.user_entity(login))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to add the foreign key constraint. Missing index for constraint 'user_roles_fk' in the referenced table 'user_entity'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:50:42,865 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:50:42 MSK 2023
2023-02-07 02:50:43,324 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11516 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:50:43,324 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:50:43,325 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:50:43,329 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:50:44,021 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:50:44,022 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:50:44,051 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:50:44,053 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:50:44,054 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:50:44,061 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:50:44,062 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:50:44,092 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 02:50:44,608 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:50:44,626 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:50:44,627 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:50:44,627 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:50:44,728 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:50:44,729 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1366 ms
2023-02-07 02:50:44,782 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:50:44,933 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:50:45,208 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:50:45,536 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:50:45,819 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:50:45,951 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 02:50:45,953 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 17ms
2023-02-07 02:50:46,007 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:50:46,012 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('User', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 02:50:46,013 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:50:46,051 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:50:46,054 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:50:46,067 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:50:46,094 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('User', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('User', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('User', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('User', 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_login, roles)
values ('Admin', 'ROLE_ADMIN'),
       ('U' at line 4
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:51:09,515 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:51:09 MSK 2023
2023-02-07 02:51:09,954 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12768 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:51:09,955 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:51:09,956 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:51:09,956 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:51:10,675 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:51:10,675 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:51:10,704 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:51:10,706 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:51:10,707 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:51:10,715 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:51:10,715 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:51:10,747 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 02:51:11,261 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:51:11,269 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:51:11,269 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:51:11,269 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:51:11,369 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:51:11,370 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1376 ms
2023-02-07 02:51:11,433 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:51:11,584 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:51:11,856 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:51:12,201 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:51:12,477 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:51:12,620 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:51:12,626 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 02:51:12,626 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:51:12,651 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:51:12,654 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:51:12,664 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:51:12,704 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_USER');

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 'ROLE_ADMIN'),
       (1, 'ROLE_US' at line 4
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:51:32,122 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:51:32 MSK 2023
2023-02-07 02:51:32,568 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3648 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:51:32,569 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:51:32,570 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:51:32,572 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:51:33,270 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:51:33,271 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:51:33,302 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:51:33,304 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:51:33,305 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:51:33,312 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:51:33,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:51:33,345 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 02:51:33,877 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:51:33,885 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:51:33,885 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:51:33,885 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:51:33,982 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:51:33,982 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1371 ms
2023-02-07 02:51:34,033 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:51:34,194 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:51:34,473 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:51:34,782 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:51:35,058 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:51:35,196 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:51:35,201 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 02:51:35,201 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:51:35,227 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:51:35,230 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:51:35,250 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:51:35,275 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4 [Failed SQL: (1064) insert into user_entity (login, password)
values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2'),
       ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles)
values (0, 0),
       (1, 1);

-- login = Adm' at line 4
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:58:28,422 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:58:28 MSK 2023
2023-02-07 02:58:28,950 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7152 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:58:28,951 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:58:28,952 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:58:28,953 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:58:30,123 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:58:30,125 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:58:30,160 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:58:30,162 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:58:30,163 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:58:30,172 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:58:30,173 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:58:30,208 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 02:58:30,787 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:58:30,796 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:58:30,796 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:58:30,797 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:58:30,913 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:58:30,913 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1918 ms
2023-02-07 02:58:30,988 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:58:31,235 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:58:31,580 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:58:31,949 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:58:32,354 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:58:32,481 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:58:32,485 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 02:58:32,485 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:58:32,506 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:58:32,509 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:58:32,519 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:58:32,557 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 02:58:48,282 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 02:58:48 MSK 2023
2023-02-07 02:58:48,720 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1196 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 02:58:48,720 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 02:58:48,721 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 02:58:48,740 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 02:58:49,463 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:58:49,464 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 02:58:49,494 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:58:49,496 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 02:58:49,497 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 02:58:49,505 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 02:58:49,506 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 02:58:49,537 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 02:58:50,086 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 02:58:50,094 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 02:58:50,094 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 02:58:50,094 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 02:58:50,198 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 02:58:50,199 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1422 ms
2023-02-07 02:58:50,255 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 02:58:50,412 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 02:58:50,699 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 02:58:51,074 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 02:58:51,271 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:58:51,288 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 02:58:51,427 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 02:58:51,428 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-02-07 02:58:51,452 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 02:58:51,454 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 02:58:51,473 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 02:58:51,475 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 14ms
2023-02-07 02:58:51,504 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 02:58:51,511 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 02:58:51,511 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 02:58:51,541 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 02:58:51,547 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 02:58:51,559 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 02:58:51,602 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

insert into user_entity (logi' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:01:42,308 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:01:42 MSK 2023
2023-02-07 03:01:42,754 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12504 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:01:42,755 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:01:42,756 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:01:42,758 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:01:43,505 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:01:43,506 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:01:43,537 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:01:43,539 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:01:43,540 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:01:43,548 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:01:43,549 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:01:43,582 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 03:01:44,094 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:01:44,101 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:01:44,102 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:01:44,102 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:01:44,204 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:01:44,204 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1394 ms
2023-02-07 03:01:44,260 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:01:44,423 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:01:44,700 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:01:45,075 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:01:45,276 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:01:45,291 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:01:45,418 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 03:01:45,420 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 11ms
2023-02-07 03:01:45,440 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 03:01:45,441 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 13ms
2023-02-07 03:01:45,459 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 03:01:45,460 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 13ms
2023-02-07 03:01:45,484 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:01:45,506 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:01:45,506 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:01:45,545 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:01:45,559 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:01:45,574 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:01:45,599 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 0);

-- insert into user_entity (l' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:02:46,936 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:02:46 MSK 2023
2023-02-07 03:02:47,378 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 4600 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:02:47,379 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:02:47,380 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:02:47,381 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:02:48,088 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:02:48,089 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:02:48,119 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:02:48,121 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:02:48,122 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:02:48,130 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:02:48,130 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:02:48,160 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 03:02:48,717 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:02:48,724 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:02:48,725 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:02:48,725 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:02:48,824 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:02:48,824 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1406 ms
2023-02-07 03:02:48,888 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:02:49,040 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:02:49,319 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:02:49,623 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:02:49,904 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:02:50,045 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:02:50,052 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:02:50,052 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:02:50,080 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:02:50,083 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:02:50,105 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:02:50,134 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, ROLE_ADMIN);

-- insert into user_' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:03:16,380 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:03:16 MSK 2023
2023-02-07 03:03:16,826 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6544 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:03:16,827 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:03:16,828 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:03:16,829 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:03:17,567 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:03:17,568 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:03:17,598 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:03:17,600 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:03:17,601 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:03:17,609 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:03:17,609 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:03:17,641 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 03:03:18,155 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:03:18,162 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:03:18,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:03:18,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:03:18,263 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:03:18,263 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1383 ms
2023-02-07 03:03:18,319 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:03:18,485 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:03:18,763 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:03:19,111 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:03:19,383 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:03:19,513 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:03:19,518 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:03:19,518 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:03:19,545 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:03:19,548 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:03:19,569 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:03:19,606 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:03:36,828 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:03:36 MSK 2023
2023-02-07 03:03:37,335 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12828 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:03:37,336 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:03:37,337 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:03:37,343 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:03:38,044 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:03:38,044 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:03:38,073 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:03:38,075 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:03:38,076 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:03:38,084 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:03:38,084 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:03:38,115 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 03:03:38,631 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:03:38,639 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:03:38,639 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:03:38,640 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:03:38,738 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:03:38,738 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1355 ms
2023-02-07 03:03:38,791 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:03:38,957 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:03:39,236 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:03:39,572 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:03:39,769 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:03:39,786 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:03:39,905 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 03:03:39,908 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 03:03:39,930 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 03:03:39,932 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 03:03:39,951 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 03:03:39,953 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 13ms
2023-02-07 03:03:39,977 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:03:39,982 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:03:39,983 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:03:40,010 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:03:40,017 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:03:40,032 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:03:40,107 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:06:14,813 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:06:14 MSK 2023
2023-02-07 03:06:15,295 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6188 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:06:15,296 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:06:15,296 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:06:15,299 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:06:16,016 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:06:16,017 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:06:16,048 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:06:16,051 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:06:16,052 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:06:16,060 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:06:16,061 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:06:16,093 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 03:06:16,699 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:06:16,708 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:06:16,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:06:16,709 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:06:16,807 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:06:16,808 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1473 ms
2023-02-07 03:06:16,861 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:06:17,030 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:06:17,314 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:06:17,653 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:06:17,951 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:06:18,085 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:06:18,090 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:06:18,091 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:06:18,115 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:06:18,118 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:06:18,129 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:06:18,153 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:07:55,196 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:07:55 MSK 2023
2023-02-07 03:07:55,675 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 4444 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:07:55,676 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:07:55,677 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:07:55,681 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:07:56,414 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:07:56,415 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:07:56,445 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:07:56,448 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:07:56,449 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:07:56,457 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:07:56,458 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:07:56,491 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 03:07:57,050 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:07:57,060 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:07:57,060 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:07:57,060 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:07:57,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:07:57,163 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1447 ms
2023-02-07 03:07:57,214 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:07:57,385 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:07:57,662 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:07:57,995 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:07:58,267 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:07:58,381 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:07:58,441 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 03:07:58,528 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 03:07:58,673 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 03:07:58,784 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 03:07:59,338 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 03:07:59,340 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 03:07:59,341 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:07:59,371 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:07:59,373 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:07:59,386 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:07:59,408 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 03:08:50,735 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:08:50 MSK 2023
2023-02-07 03:08:51,248 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:08:51,250 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13076 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:08:51,251 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:08:51,252 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:08:52,198 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:08:52,198 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:08:52,229 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:08:52,231 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:08:52,232 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:08:52,242 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:08:52,242 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:08:52,273 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 03:08:52,882 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:08:52,892 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:08:52,893 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:08:52,893 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:08:52,998 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:08:52,999 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1703 ms
2023-02-07 03:08:53,057 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:08:53,218 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:08:53,499 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:08:53,838 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:08:54,032 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:08:54,047 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:08:54,185 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 03:08:54,187 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 03:08:54,211 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 03:08:54,213 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 16ms
2023-02-07 03:08:54,245 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 03:08:54,247 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 14ms
2023-02-07 03:08:54,261 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:08:54,334 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 03:08:54,376 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 03:08:54,496 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 03:08:54,583 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 03:08:55,129 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 03:08:55,130 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 03:08:55,131 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:08:55,158 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:08:55,160 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:08:55,170 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:08:55,191 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 03:09:08,071 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:09:08 MSK 2023
2023-02-07 03:09:08,524 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14028 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:09:08,525 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:09:08,526 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:09:08,531 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:09:09,252 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:09:09,253 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:09:09,283 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:09:09,285 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:09:09,286 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:09:09,294 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:09:09,294 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:09:09,325 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 03:09:09,870 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:09:09,878 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:09:09,878 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:09:09,879 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:09:09,979 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:09:09,980 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1405 ms
2023-02-07 03:09:10,032 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:09:10,190 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:09:10,462 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:09:10,797 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:09:11,074 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:09:11,210 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:09:11,215 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:09:11,215 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:09:11,255 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:09:11,258 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:09:11,268 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:09:11,293 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:09:44,056 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:09:44 MSK 2023
2023-02-07 03:09:44,509 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7716 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:09:44,509 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:09:44,510 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:09:44,510 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:09:45,236 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:09:45,237 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:09:45,266 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:09:45,268 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:09:45,269 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:09:45,277 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:09:45,277 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:09:45,309 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 03:09:45,846 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:09:45,853 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:09:45,854 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:09:45,854 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:09:45,953 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:09:45,953 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1397 ms
2023-02-07 03:09:46,008 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:09:46,175 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:09:46,459 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:09:46,868 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:09:47,095 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:09:47,113 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:09:47,264 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 03:09:47,267 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-02-07 03:09:47,293 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 03:09:47,295 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-02-07 03:09:47,324 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 03:09:47,326 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 20ms
2023-02-07 03:09:47,363 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:09:47,371 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:09:47,372 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:09:47,396 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:09:47,399 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:09:47,409 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:09:47,431 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, 'ROLE_ADMIN');

-- insert into use' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 03:10:04,590 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 03:10:04 MSK 2023
2023-02-07 03:10:05,043 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15228 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 03:10:05,044 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 03:10:05,045 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 03:10:05,045 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 03:10:05,739 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:10:05,740 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 03:10:05,769 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:10:05,771 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 03:10:05,772 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 03:10:05,780 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 03:10:05,781 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 03:10:05,812 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 03:10:06,363 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 03:10:06,372 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 03:10:06,372 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 03:10:06,372 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 03:10:06,480 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 03:10:06,480 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1399 ms
2023-02-07 03:10:06,536 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 03:10:06,691 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 03:10:06,972 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 03:10:07,278 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 03:10:07,571 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 03:10:07,707 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 03:10:07,712 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 03:10:07,712 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 03:10:07,736 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 03:10:07,739 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 03:10:07,750 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 03:10:07,773 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (user_id, roles) values (1, '0');

-- insert into user_entity ' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 11:39:00,920 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 11:39:00 MSK 2023
2023-02-07 11:39:01,645 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 11:39:01,649 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13932 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 11:39:01,650 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 11:39:01,651 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 11:39:04,020 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 11:39:04,021 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 11:39:04,056 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 11:39:04,058 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 11:39:04,059 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 11:39:04,067 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 11:39:04,068 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 11:39:04,103 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 11:39:04,761 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 11:39:04,770 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 11:39:04,770 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 11:39:04,771 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 11:39:04,900 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 11:39:04,900 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3202 ms
2023-02-07 11:39:04,972 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 11:39:05,188 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 11:39:06,324 ERROR [main] com.zaxxer.hikari.pool.HikariPool: HikariPool-1 - Exception during pool initialization.
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:133)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)
	... 37 common frames omitted
2023-02-07 11:39:06,329 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2023-02-07 11:39:06,333 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 11:39:06,347 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 11:39:06,373 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.DatabaseException: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:271)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:448)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266)
	... 20 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:581)
	at com.mysql.cj.protocol.a.NativeProtocol.readServerCapabilities(NativeProtocol.java:536)
	at com.mysql.cj.protocol.a.NativeProtocol.beforeHandshake(NativeProtocol.java:423)
	at com.mysql.cj.protocol.a.NativeProtocol.connect(NativeProtocol.java:1431)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:133)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:948)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:818)
	... 31 common frames omitted
Caused by: java.io.EOFException: Can not read response from server. Expected to read 4 bytes, read 0 bytes before connection was unexpectedly lost.
	at com.mysql.cj.protocol.FullReadInputStream.readFully(FullReadInputStream.java:67)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeaderLocal(SimplePacketReader.java:81)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:63)
	at com.mysql.cj.protocol.a.SimplePacketReader.readHeader(SimplePacketReader.java:45)
	at com.mysql.cj.protocol.a.NativeProtocol.readMessage(NativeProtocol.java:575)
	... 37 common frames omitted
2023-02-07 11:39:28,236 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 11:39:28 MSK 2023
2023-02-07 11:39:28,942 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13032 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 11:39:28,942 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 11:39:28,944 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 11:39:28,949 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 11:39:29,825 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 11:39:29,826 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 11:39:29,859 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 11:39:29,861 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 11:39:29,862 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 11:39:29,870 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 11:39:29,870 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 11:39:29,902 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 11:39:30,495 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 11:39:30,506 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 11:39:30,506 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 11:39:30,507 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 11:39:30,625 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 11:39:30,625 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1640 ms
2023-02-07 11:39:30,683 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 11:39:30,877 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 11:39:31,202 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 11:39:31,630 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 11:39:32,068 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 11:39:32,083 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 11:39:32,242 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 11:39:32,245 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 11:39:32,270 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 11:39:32,274 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 19ms
2023-02-07 11:39:32,306 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 11:39:32,313 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 26ms
2023-02-07 11:39:32,361 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 11:39:32,367 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (roles) values ('0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 11:39:32,368 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 11:39:32,396 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 11:39:32,399 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 11:39:32,409 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 11:39:32,429 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (roles) values ('0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (roles) values ('0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (roles) values ('0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
insert into roles (roles) values ('0');

-- insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into roles (roles) values ('0');

-- insert into user_entity (login, pass' at line 2
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 12:04:49,486 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:04:49 MSK 2023
2023-02-07 12:04:50,190 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6320 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:04:50,191 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:04:50,192 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:04:50,191 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:04:51,256 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:04:51,258 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:04:51,287 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:04:51,288 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:04:51,289 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:04:51,296 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:04:51,296 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:04:51,326 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 12:04:51,887 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:04:51,895 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:04:51,895 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:04:51,896 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:04:52,011 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:04:52,011 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1778 ms
2023-02-07 12:04:52,065 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:04:52,253 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:04:52,594 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:04:52,959 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:04:53,209 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:04:53,225 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:04:53,379 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 12:04:53,381 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-02-07 12:04:53,406 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 12:04:53,408 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 12:04:53,433 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 12:04:53,435 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 19ms
2023-02-07 12:04:53,451 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:04:53,523 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 12:04:53,573 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 12:04:53,721 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 12:04:53,820 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 12:04:54,497 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 12:04:54,499 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 12:04:54,499 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:04:54,522 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:04:54,524 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 12:04:54,535 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 12:04:54,556 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 12:09:09,740 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:09:09 MSK 2023
2023-02-07 12:09:10,420 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15220 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:09:10,420 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:09:10,421 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:09:10,421 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:09:11,230 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:09:11,232 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:09:11,266 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:09:11,268 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:09:11,270 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:09:11,278 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:09:11,279 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:09:11,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 12:09:11,915 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:09:11,923 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:09:11,923 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:09:11,923 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:09:12,035 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:09:12,036 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1576 ms
2023-02-07 12:09:12,091 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:09:12,307 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:09:12,657 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:09:12,995 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:09:13,304 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:09:13,320 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:09:13,445 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 12:09:13,447 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-07 12:09:13,474 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 12:09:13,476 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 16ms
2023-02-07 12:09:13,489 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:09:13,631 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 12:09:13,686 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 12:09:13,818 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 12:09:13,929 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 12:09:14,503 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 12:09:14,510 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:09:14,935 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: a24c0844-a4a7-4145-85da-32038a2891fc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 12:09:15,070 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 12:09:15,346 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fd3197b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d2ce035, org.springframework.security.web.context.SecurityContextPersistenceFilter@6a827b0c, org.springframework.security.web.header.HeaderWriterFilter@5d94c50e, org.springframework.web.filter.CorsFilter@6a087c72, maluevartem.cloud_storage_backend.security.JWTFilter@a6e4897, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4cff38ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7adde776, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3894d1b1, org.springframework.security.web.session.SessionManagementFilter@230e163b, org.springframework.security.web.access.ExceptionTranslationFilter@206de1f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1df83569]
2023-02-07 12:09:15,644 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 12:09:15,663 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 12:09:15,672 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.709 seconds (JVM running for 6.854)
2023-02-07 12:12:41,984 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:12:42,003 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:12:42,035 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:12:48,336 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:12:48 MSK 2023
2023-02-07 12:12:49,038 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:12:49,041 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11480 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:12:49,043 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:12:49,043 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:12:50,364 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:12:50,366 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:12:50,403 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:12:50,405 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:12:50,407 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:12:50,415 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:12:50,415 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:12:50,461 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2023-02-07 12:12:51,738 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:12:51,749 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:12:51,750 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:12:51,750 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:12:51,887 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:12:51,888 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2793 ms
2023-02-07 12:12:52,075 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:12:52,288 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:12:52,725 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:12:53,211 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:12:53,674 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:12:53,782 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:12:53,847 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 12:12:53,926 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 12:12:54,086 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 12:12:54,239 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 12:12:54,908 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 12:12:54,916 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:12:55,478 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: eed867e1-e5e4-4254-917a-f11da0650b79

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 12:12:55,600 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 12:12:55,838 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e3d8e6c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fd3197b, org.springframework.security.web.context.SecurityContextPersistenceFilter@135f160e, org.springframework.security.web.header.HeaderWriterFilter@206de1f, org.springframework.web.filter.CorsFilter@1d2ce035, maluevartem.cloud_storage_backend.security.JWTFilter@17043b04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a41f4a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@186e254, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a087c72, org.springframework.security.web.session.SessionManagementFilter@50bc0bbd, org.springframework.security.web.access.ExceptionTranslationFilter@c22cf4d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3b44ed3c]
2023-02-07 12:12:56,186 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 12:12:56,254 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 12:12:56,273 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.689 seconds (JVM running for 9.927)
2023-02-07 12:13:15,641 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 12:13:15,643 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 12:13:15,645 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 12:13:15,951 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 12:13:15,960 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 12:13:16,225 ERROR [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-02-07 12:14:02,019 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.RegistrationController: Новый пользователь приступил к регистрации: UserDto(login=User, password=user1234)
2023-02-07 12:14:02,028 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.RegistrationService: Проверка свободности логина: UserEntity(id=null, login=User, password=user1234, roles=null, fileList=null)
2023-02-07 12:14:02,497 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.RegistrationService: Новый пользователь зарегистрирован: UserEntity(id=null, login=User, password=$2a$12$1Z6Okoo0qLyVUfePsLFB9.90Fxf7fSkBDe1GizfAGC06eT4fxAzCG, roles=[ROLE_USER], fileList=null)
2023-02-07 12:14:13,828 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 12:14:13,828 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 12:14:14,354 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2MTI1NCwibmJmIjoxNjc1NzYxMjU0LCJleHAiOjE2NzU3NjMwNTR9.GFcymlkBC_jzGwtt0ic1yns3VI94yjSpwlCVJ00pN5Q добавлен в список активных токеннов
2023-02-07 12:14:14,355 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2MTI1NCwibmJmIjoxNjc1NzYxMjU0LCJleHAiOjE2NzU3NjMwNTR9.GFcymlkBC_jzGwtt0ic1yns3VI94yjSpwlCVJ00pN5Q
2023-02-07 12:14:14,720 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2MTI1NCwibmJmIjoxNjc1NzYxMjU0LCJleHAiOjE2NzU3NjMwNTR9.GFcymlkBC_jzGwtt0ic1yns3VI94yjSpwlCVJ00pN5Q
2023-02-07 12:14:51,545 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=58s715ms250µs700ns).
2023-02-07 12:20:47,506 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5m55s961ms864µs300ns).
2023-02-07 12:20:47,558 ERROR [http-nio-8888-exec-9] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 12:20:47,587 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2MTI1NCwibmJmIjoxNjc1NzYxMjU0LCJleHAiOjE2NzU3NjMwNTR9.GFcymlkBC_jzGwtt0ic1yns3VI94yjSpwlCVJ00pN5Q
2023-02-07 12:20:47,593 ERROR [http-nio-8888-exec-9] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 12:20:48,070 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:20:48,145 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:20:48,214 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:22:13,038 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:22:13 MSK 2023
2023-02-07 12:22:13,628 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:22:13,630 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11004 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:22:13,631 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:22:13,632 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:22:14,536 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:22:14,537 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:22:14,568 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:22:14,569 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:22:14,570 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:22:14,579 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:22:14,579 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:22:14,613 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 12:22:15,196 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:22:15,207 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:22:15,208 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:22:15,208 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:22:15,350 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:22:15,351 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1679 ms
2023-02-07 12:22:15,459 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:22:15,655 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:22:16,003 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:22:16,410 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:22:16,634 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:22:16,648 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:22:16,763 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 12:22:16,765 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 12:22:16,787 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 12:22:16,789 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 12:22:16,812 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:22:16,817 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
-- insert into roles (user_id, roles) values (1, '0');

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
2023-02-07 12:22:16,817 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:22:16,847 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:22:16,851 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 12:22:16,869 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 12:22:16,912 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
-- insert into roles (user_id, roles) values (1, '0');

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
-- insert into roles (user_id, roles) values (1, '0');

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
-- insert into roles (user_id, roles) values (1, '0');

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4 [Failed SQL: (1064) insert into user_entity (login, password) values ('Admin', '$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2');
-- insert into roles (user_id, roles) values (1, '0');

insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq');
-- insert into roles (user_id, roles) values (2, 1);

-- login = Admin; password = admin; role = ROLE_ADMIN
-- login = User; password = user1234; role = ROLE_USER]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'insert into user_entity (login, password) values ('User', '$2a$12$L/60e15uj8ZFqT' at line 4
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 12:22:48,828 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:22:48 MSK 2023
2023-02-07 12:22:49,267 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6392 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:22:49,267 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:22:49,268 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:22:49,287 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:22:49,984 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:22:49,985 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:22:50,015 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:22:50,017 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:22:50,018 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:22:50,026 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:22:50,027 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:22:50,059 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 12:22:50,594 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:22:50,602 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:22:50,603 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:22:50,603 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:22:50,706 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:22:50,706 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1398 ms
2023-02-07 12:22:50,759 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:22:50,932 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:22:51,203 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:22:51,561 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:22:51,861 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:22:51,989 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 12:22:51,991 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 17ms
2023-02-07 12:22:52,006 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:22:52,072 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 12:22:52,134 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 12:22:52,263 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 12:22:52,389 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 12:22:52,947 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 12:22:52,955 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:22:53,388 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 22338743-5245-4d56-b7e5-3bc6bd6fe03c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 12:22:53,500 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 12:22:53,709 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cc878e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@247877f3, org.springframework.security.web.context.SecurityContextPersistenceFilter@247d44b4, org.springframework.security.web.header.HeaderWriterFilter@62966c9f, org.springframework.web.filter.CorsFilter@44bb6856, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48b744fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ef3efcc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@80081d7, org.springframework.security.web.session.SessionManagementFilter@6915351c, org.springframework.security.web.access.ExceptionTranslationFilter@5ce03a9d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4c682826]
2023-02-07 12:22:54,001 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 12:22:54,021 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 12:22:54,031 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.115 seconds (JVM running for 6.082)
2023-02-07 12:41:06,346 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 12:41:06,458 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:41:06,645 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:42:17,046 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 12:42:17 MSK 2023
2023-02-07 12:42:17,567 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 12:42:17,568 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7696 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 12:42:17,569 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 12:42:17,570 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 12:42:18,632 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:42:18,633 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 12:42:18,670 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:42:18,672 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 12:42:18,674 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-02-07 12:42:18,683 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 12:42:18,683 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 12:42:18,721 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-02-07 12:42:19,314 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 12:42:19,322 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 12:42:19,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 12:42:19,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 12:42:19,445 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 12:42:19,446 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1836 ms
2023-02-07 12:42:19,547 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 12:42:19,732 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 12:42:20,086 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 12:42:20,435 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 12:42:20,804 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:42:20,821 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 12:42:20,954 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 12:42:20,956 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-07 12:42:20,982 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 12:42:20,984 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 16ms
2023-02-07 12:42:21,005 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 12:42:21,007 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 15ms
2023-02-07 12:42:21,035 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 12:42:21,037 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 22ms
2023-02-07 12:42:21,057 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 12:42:21,062 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 14ms
2023-02-07 12:42:21,076 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 12:42:21,151 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 12:42:21,201 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 12:42:21,363 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 12:42:21,465 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 12:42:22,073 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 12:42:22,074 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 12:42:22,075 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 12:42:22,101 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 12:42:22,103 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 12:42:22,114 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 12:42:22,139 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:11:17,507 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:11:17 MSK 2023
2023-02-07 13:11:18,035 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10008 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:11:18,035 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:11:18,036 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:11:18,037 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:11:18,840 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:11:18,841 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:11:18,877 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:11:18,879 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:11:18,880 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:11:18,888 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:11:18,889 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:11:18,929 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-02-07 13:11:19,505 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:11:19,513 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:11:19,514 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:11:19,514 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:11:19,632 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:11:19,632 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1556 ms
2023-02-07 13:11:19,691 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:11:19,872 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:11:20,201 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:11:20,552 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:11:20,989 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:11:21,102 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:11:21,171 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:11:21,228 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:11:21,356 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:11:21,460 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:11:22,031 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:11:22,032 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:11:22,033 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:11:22,057 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:11:22,059 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:11:22,070 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:11:22,092 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:11:48,354 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:11:48 MSK 2023
2023-02-07 13:11:48,780 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10716 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:11:48,780 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:11:48,781 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:11:48,782 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:11:49,498 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:11:49,499 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:11:49,536 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:11:49,538 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:11:49,539 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:11:49,547 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:11:49,547 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:11:49,577 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 13:11:50,112 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:11:50,120 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:11:50,121 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:11:50,121 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:11:50,234 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:11:50,234 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1414 ms
2023-02-07 13:11:50,283 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:11:50,444 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:11:50,740 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:11:51,061 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:11:51,339 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:11:51,440 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:11:51,500 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:11:51,535 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:11:51,659 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:11:51,737 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:11:52,242 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:11:52,244 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:11:52,244 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:11:52,275 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:11:52,276 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:11:52,287 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:11:52,308 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:18:27,647 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:18:27 MSK 2023
2023-02-07 13:18:28,374 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12692 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:18:28,375 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:18:28,375 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:18:28,382 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:18:29,639 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:18:29,640 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:18:29,669 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:18:29,671 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:18:29,672 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:18:29,678 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:18:29,679 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:18:29,709 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 13:18:30,314 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:18:30,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:18:30,323 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:18:30,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:18:30,450 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:18:30,451 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1991 ms
2023-02-07 13:18:30,508 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:18:30,707 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:18:31,031 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:18:31,377 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:18:31,852 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:18:31,869 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:18:32,016 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:18:32,018 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-07 13:18:32,041 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:18:32,043 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 13:18:32,068 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 13:18:32,070 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 18ms
2023-02-07 13:18:32,111 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:18:32,120 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 37ms
2023-02-07 13:18:32,158 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:18:32,161 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 25ms
2023-02-07 13:18:32,174 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:18:32,229 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:18:32,280 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:18:32,450 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:18:32,573 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:18:33,162 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:18:33,165 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:18:33,165 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:18:33,187 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:18:33,188 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:18:33,199 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:18:33,220 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:20:22,280 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:20:22 MSK 2023
2023-02-07 13:20:22,832 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10152 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:20:22,833 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:20:22,833 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:20:22,834 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:20:23,659 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:20:23,660 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:20:23,692 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:20:23,694 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:20:23,695 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:20:23,704 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:20:23,704 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:20:23,738 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 13:20:24,349 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:20:24,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:20:24,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:20:24,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:20:24,477 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:20:24,478 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1603 ms
2023-02-07 13:20:24,553 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:20:24,745 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:20:25,087 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:20:25,434 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:20:25,744 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:20:25,878 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:20:25,951 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:20:26,036 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:20:26,169 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:20:26,277 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:20:26,853 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:20:26,855 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:20:26,855 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:20:26,879 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:20:26,882 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:20:26,892 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:20:26,930 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:21:20,782 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:21:20 MSK 2023
2023-02-07 13:21:21,266 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:21:21,268 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6048 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:21:21,270 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:21:21,271 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:21:22,006 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:21:22,007 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:21:22,038 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:21:22,040 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:21:22,042 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:21:22,050 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:21:22,050 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:21:22,083 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 13:21:22,613 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:21:22,621 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:21:22,621 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:21:22,621 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:21:22,718 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:21:22,719 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1405 ms
2023-02-07 13:21:22,777 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:21:22,986 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:21:23,259 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:21:23,583 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:21:23,858 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:21:23,967 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:21:24,032 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:21:24,090 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:21:24,210 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:21:24,294 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:21:24,823 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:21:24,825 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:21:24,826 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:21:24,853 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:21:24,856 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:21:24,867 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:21:24,889 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:26:45,256 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:26:45 MSK 2023
2023-02-07 13:26:45,855 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14200 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:26:45,855 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:26:45,856 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:26:45,856 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:26:47,001 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:26:47,002 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:26:47,032 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:26:47,034 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:26:47,035 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:26:47,043 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:26:47,043 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:26:47,075 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 13:26:47,628 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:26:47,636 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:26:47,636 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:26:47,637 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:26:47,755 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:26:47,756 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1861 ms
2023-02-07 13:26:47,810 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:26:47,995 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:26:48,330 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:26:48,692 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:26:49,043 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:26:49,059 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:26:49,190 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:26:49,193 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 13:26:49,218 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:26:49,220 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-02-07 13:26:49,239 INFO [main] liquibase.logging.core.JavaLogger: Table roles created
2023-02-07 13:26:49,241 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-roles.yaml::create-table-roles::Maluev Artem ran successfully in 13ms
2023-02-07 13:26:49,268 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:26:49,271 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 21ms
2023-02-07 13:26:49,289 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:26:49,367 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:26:49,433 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:26:49,582 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:26:49,677 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:26:50,279 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:26:50,280 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
2023-02-07 13:26:50,280 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:26:50,305 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:26:50,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:26:50,317 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:26:50,339 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:32:20,266 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:32:20 MSK 2023
2023-02-07 13:32:20,924 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6296 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:32:20,926 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:32:20,927 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:32:20,930 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:32:22,255 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:32:22,257 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:32:22,304 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:32:22,305 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:32:22,306 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:32:22,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:32:22,313 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:32:22,343 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 13:32:22,958 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:32:22,969 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:32:22,969 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:32:22,969 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:32:23,097 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:32:23,097 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2113 ms
2023-02-07 13:32:23,156 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:32:23,370 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:32:23,709 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:32:24,091 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:32:24,308 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:32:24,325 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:32:24,467 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:32:24,468 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-02-07 13:32:24,487 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:32:24,489 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 13ms
2023-02-07 13:32:24,505 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 13:32:24,507 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 11ms
2023-02-07 13:32:24,529 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:32:24,531 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 17ms
2023-02-07 13:32:24,555 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:32:24,560 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.roles' doesn't exist [Failed SQL: (1146) insert into roles (user_id, roles)
values (1, '0'),
       (2, '1');]
2023-02-07 13:32:24,560 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:32:24,589 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:32:24,592 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:32:24,606 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:32:24,634 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.roles' doesn't exist [Failed SQL: (1146) insert into roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.roles' doesn't exist [Failed SQL: (1146) insert into roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.roles' doesn't exist [Failed SQL: (1146) insert into roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table 'mysqlDataBase.roles' doesn't exist [Failed SQL: (1146) insert into roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.roles' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 13:33:00,956 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:33:00 MSK 2023
2023-02-07 13:33:01,438 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7720 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:33:01,439 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:33:01,440 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:33:01,440 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:33:02,188 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:33:02,188 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:33:02,217 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:33:02,219 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:33:02,220 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:33:02,229 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:33:02,229 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:33:02,260 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 13:33:02,878 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:33:02,886 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:33:02,886 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:33:02,886 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:33:02,988 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:33:02,988 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1503 ms
2023-02-07 13:33:03,043 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:33:03,212 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:33:03,486 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:33:03,819 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:33:04,118 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:33:04,249 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:33:04,251 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 15ms
2023-02-07 13:33:04,265 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:33:04,391 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:33:04,452 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:33:04,608 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:33:04,712 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:33:05,289 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [user_entity_id] in table [user_entity_roles]
2023-02-07 13:33:05,291 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [user_entity_id] in table [user_entity_roles]
2023-02-07 13:33:05,291 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:33:05,311 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:33:05,313 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:33:05,323 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:33:05,344 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [user_entity_id] in table [user_entity_roles]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [user_entity_id] in table [user_entity_roles]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [user_entity_id] in table [user_entity_roles]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:144)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:34:18,556 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:34:18 MSK 2023
2023-02-07 13:34:19,021 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1964 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:34:19,022 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:34:19,023 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:34:19,024 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:34:19,761 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:34:19,762 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:34:19,791 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:34:19,794 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:34:19,795 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:34:19,803 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:34:19,803 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:34:19,835 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 13:34:20,368 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:34:20,375 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:34:20,376 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:34:20,377 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:34:20,490 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:34:20,491 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1426 ms
2023-02-07 13:34:20,545 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:34:20,713 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:34:20,993 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:34:21,341 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:34:21,769 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:34:21,885 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:34:21,890 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:14d6cb7f511520da96742bb87958cbff but is now: 8:126a688bf7007c5347124770f08cecd2

2023-02-07 13:34:21,890 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:34:21,911 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:34:21,914 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:34:21,924 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:34:21,946 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:14d6cb7f511520da96742bb87958cbff but is now: 8:126a688bf7007c5347124770f08cecd2

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:14d6cb7f511520da96742bb87958cbff but is now: 8:126a688bf7007c5347124770f08cecd2

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-02-07 13:34:51,844 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:34:51 MSK 2023
2023-02-07 13:34:52,305 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 7952 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:34:52,306 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:34:52,307 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:34:52,307 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:34:53,036 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:34:53,037 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:34:53,067 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:34:53,070 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:34:53,071 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:34:53,080 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:34:53,081 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:34:53,114 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 13:34:53,703 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:34:53,710 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:34:53,711 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:34:53,711 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:34:53,810 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:34:53,810 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1464 ms
2023-02-07 13:34:53,865 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:34:54,048 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:34:54,333 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:34:54,679 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:34:54,889 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:34:54,904 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:34:55,025 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:34:55,027 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-02-07 13:34:55,049 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:34:55,050 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 13ms
2023-02-07 13:34:55,069 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 13:34:55,072 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 16ms
2023-02-07 13:34:55,092 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:34:55,094 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 14ms
2023-02-07 13:34:55,125 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:34:55,133 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'user_id' in 'field list' [Failed SQL: (1054) insert into user_entity_roles (user_id, roles)
values (1, '0'),
       (2, '1');]
2023-02-07 13:34:55,133 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:34:55,171 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:34:55,174 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:34:55,207 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:34:55,240 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'user_id' in 'field list' [Failed SQL: (1054) insert into user_entity_roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'user_id' in 'field list' [Failed SQL: (1054) insert into user_entity_roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll:
     Reason: liquibase.exception.DatabaseException: Unknown column 'user_id' in 'field list' [Failed SQL: (1054) insert into user_entity_roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Unknown column 'user_id' in 'field list' [Failed SQL: (1054) insert into user_entity_roles (user_id, roles)
values (1, '0'),
       (2, '1');]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Unknown column 'user_id' in 'field list'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 13:35:12,147 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:35:12 MSK 2023
2023-02-07 13:35:12,612 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8700 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:35:12,613 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:35:12,614 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:35:12,632 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:35:13,352 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:35:13,352 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:35:13,381 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:35:13,383 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:35:13,384 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:35:13,392 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:35:13,393 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:35:13,425 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 13:35:13,970 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:35:13,978 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:35:13,978 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:35:13,979 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:35:14,079 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:35:14,080 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1424 ms
2023-02-07 13:35:14,134 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:35:14,319 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:35:14,602 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:35:14,926 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:35:15,195 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:35:15,324 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:35:15,326 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 14ms
2023-02-07 13:35:15,340 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:35:15,391 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:35:15,444 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:35:15,563 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:35:15,655 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:35:16,213 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [varchar (Types#VARCHAR)], but expecting [integer (Types#INTEGER)]
2023-02-07 13:35:16,214 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [varchar (Types#VARCHAR)], but expecting [integer (Types#INTEGER)]
2023-02-07 13:35:16,214 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:35:16,243 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:35:16,245 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:35:16,257 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:35:16,280 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [varchar (Types#VARCHAR)], but expecting [integer (Types#INTEGER)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [varchar (Types#VARCHAR)], but expecting [integer (Types#INTEGER)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [varchar (Types#VARCHAR)], but expecting [integer (Types#INTEGER)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:167)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:151)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:36:48,352 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:36:48 MSK 2023
2023-02-07 13:36:48,817 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9904 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:36:48,818 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:36:48,819 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:36:48,819 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:36:49,553 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:36:49,554 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:36:49,583 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:36:49,584 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:36:49,586 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:36:49,594 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:36:49,594 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:36:49,625 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 13:36:50,155 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:36:50,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:36:50,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:36:50,163 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:36:50,267 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:36:50,267 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1408 ms
2023-02-07 13:36:50,320 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:36:50,499 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:36:50,797 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:36:51,134 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:36:51,336 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:36:51,353 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:36:51,492 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:36:51,493 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 13:36:51,516 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:36:51,518 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 13:36:51,538 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 13:36:51,539 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 14ms
2023-02-07 13:36:51,582 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:36:51,584 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 30ms
2023-02-07 13:36:51,605 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:36:51,607 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 11ms
2023-02-07 13:36:51,623 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:36:51,693 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:36:51,836 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:36:51,948 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:36:52,046 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:36:52,580 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [bigint (Types#BIGINT)], but expecting [integer (Types#INTEGER)]
2023-02-07 13:36:52,581 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [bigint (Types#BIGINT)], but expecting [integer (Types#INTEGER)]
2023-02-07 13:36:52,581 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:36:52,602 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:36:52,605 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:36:52,616 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:36:52,637 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [bigint (Types#BIGINT)], but expecting [integer (Types#INTEGER)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [bigint (Types#BIGINT)], but expecting [integer (Types#INTEGER)]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: wrong column type encountered in column [roles] in table [user_entity_roles]; found [bigint (Types#BIGINT)], but expecting [integer (Types#INTEGER)]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateColumnType(AbstractSchemaValidator.java:167)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:151)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 13:37:39,332 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:37:39 MSK 2023
2023-02-07 13:37:39,841 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14408 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:37:39,842 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:37:39,843 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:37:39,856 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:37:40,569 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:37:40,570 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:37:40,599 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:37:40,602 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:37:40,603 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:37:40,613 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:37:40,613 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:37:40,648 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2023-02-07 13:37:41,200 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:37:41,210 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:37:41,210 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:37:41,211 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:37:41,310 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:37:41,310 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1421 ms
2023-02-07 13:37:41,364 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:37:41,541 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:37:41,817 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:37:42,137 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:37:42,410 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:37:42,509 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:37:42,515 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:ae22320f0c165f6f87d120be12d2ec0a but is now: 8:e6146e5c37718adf0b9eb7bb715c54ae

2023-02-07 13:37:42,515 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:37:42,542 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:37:42,545 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:37:42,556 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:37:42,590 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:ae22320f0c165f6f87d120be12d2ec0a but is now: 8:e6146e5c37718adf0b9eb7bb715c54ae

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem was: 8:ae22320f0c165f6f87d120be12d2ec0a but is now: 8:e6146e5c37718adf0b9eb7bb715c54ae

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-02-07 13:38:10,881 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:38:10 MSK 2023
2023-02-07 13:38:11,330 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13172 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:38:11,331 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:38:11,332 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:38:11,334 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:38:12,060 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:38:12,061 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:38:12,092 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:38:12,094 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:38:12,095 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:38:12,103 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:38:12,104 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:38:12,134 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 13:38:12,664 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:38:12,673 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:38:12,673 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:38:12,674 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:38:12,776 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:38:12,777 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1401 ms
2023-02-07 13:38:12,832 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:38:13,003 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:38:13,284 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:38:13,623 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:38:13,836 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:38:13,849 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:38:13,978 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:38:13,980 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 13:38:14,001 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:38:14,003 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 13:38:14,022 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 13:38:14,024 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 14ms
2023-02-07 13:38:14,045 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:38:14,047 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-02-07 13:38:14,067 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 13:38:14,069 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 13ms
2023-02-07 13:38:14,083 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:38:14,170 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:38:14,209 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:38:14,341 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:38:14,426 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:38:14,970 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 13:38:14,981 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 13:38:15,459 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b91fb1cc-de04-4509-9fef-3c95dcdf206d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 13:38:15,569 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 13:38:15,801 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e6add8d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23974cac, org.springframework.security.web.context.SecurityContextPersistenceFilter@6347f9cc, org.springframework.security.web.header.HeaderWriterFilter@7e8f97dd, org.springframework.web.filter.CorsFilter@85104d6, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@467e7793, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e8995cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56e9126f, org.springframework.security.web.session.SessionManagementFilter@69862a1, org.springframework.security.web.access.ExceptionTranslationFilter@15ade272, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@713c8cbb]
2023-02-07 13:38:16,104 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 13:38:16,128 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 13:38:16,137 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.165 seconds (JVM running for 6.103)
2023-02-07 13:38:48,247 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 13:38:48,250 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:38:48,272 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:38:53,934 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:38:53 MSK 2023
2023-02-07 13:38:54,562 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:38:54,564 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14080 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:38:54,566 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:38:54,567 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:38:55,407 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:38:55,409 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:38:55,442 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:38:55,444 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:38:55,445 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:38:55,453 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:38:55,454 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:38:55,485 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 13:38:56,262 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:38:56,272 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:38:56,273 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:38:56,273 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:38:56,389 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:38:56,389 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1765 ms
2023-02-07 13:38:56,569 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:38:56,753 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:38:57,099 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:38:57,455 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:38:57,830 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:38:57,939 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:38:57,997 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 13:38:58,050 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 13:38:58,200 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 13:38:58,332 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 13:38:59,143 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 13:38:59,152 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 13:38:59,678 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 85ed6bbf-a2a0-4fe5-b597-5ea66498978c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 13:38:59,793 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 13:39:00,047 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d7f2719, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@685e5967, org.springframework.security.web.context.SecurityContextPersistenceFilter@52518ee1, org.springframework.security.web.header.HeaderWriterFilter@2d91147b, org.springframework.web.filter.CorsFilter@106387cf, maluevartem.cloud_storage_backend.security.JWTFilter@22dc59b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a4564a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@157267db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d3c14c3, org.springframework.security.web.session.SessionManagementFilter@1299fed3, org.springframework.security.web.access.ExceptionTranslationFilter@1a916120, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f461c9c]
2023-02-07 13:39:00,374 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 13:39:00,411 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 13:39:00,421 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.347 seconds (JVM running for 8.488)
2023-02-07 13:47:58,035 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 13:47:58,041 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 13:47:58,104 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 62 ms
2023-02-07 13:47:58,496 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 13:47:58,506 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 13:47:59,238 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2Njg3OSwibmJmIjoxNjc1NzY2ODc5LCJleHAiOjE2NzU3Njg2Nzl9.B8APovp7onSszGuBRYGEDCK-jB5sqsX2lsDQJSbRg3E добавлен в список активных токеннов
2023-02-07 13:47:59,239 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2Njg3OSwibmJmIjoxNjc1NzY2ODc5LCJleHAiOjE2NzU3Njg2Nzl9.B8APovp7onSszGuBRYGEDCK-jB5sqsX2lsDQJSbRg3E
2023-02-07 13:47:59,422 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2Njg3OSwibmJmIjoxNjc1NzY2ODc5LCJleHAiOjE2NzU3Njg2Nzl9.B8APovp7onSszGuBRYGEDCK-jB5sqsX2lsDQJSbRg3E
2023-02-07 13:48:50,678 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s446ms582µs).
2023-02-07 13:49:36,938 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=46s261ms307µs600ns).
2023-02-07 13:49:36,954 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 13:49:36,969 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2Njg3OSwibmJmIjoxNjc1NzY2ODc5LCJleHAiOjE2NzU3Njg2Nzl9.B8APovp7onSszGuBRYGEDCK-jB5sqsX2lsDQJSbRg3E
2023-02-07 13:49:36,972 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 13:49:36,974 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 13:49:37,646 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 13:49:37,655 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:49:37,696 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:52:26,319 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 13:52:26 MSK 2023
2023-02-07 13:52:26,833 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2680 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 13:52:26,833 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 13:52:26,834 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 13:52:26,834 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 13:52:27,887 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:52:27,888 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 13:52:27,916 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:52:27,918 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 13:52:27,919 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-07 13:52:27,925 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 13:52:27,926 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 13:52:27,955 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 13:52:28,509 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 13:52:28,519 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 13:52:28,520 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 13:52:28,520 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 13:52:28,643 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 13:52:28,644 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1769 ms
2023-02-07 13:52:28,701 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 13:52:28,895 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 13:52:29,249 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 13:52:29,617 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 13:52:29,973 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:52:29,990 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 13:52:30,136 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 13:52:30,137 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 13:52:30,159 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 13:52:30,161 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 13:52:30,192 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 13:52:30,198 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1 [Failed SQL: (1064) CREATE TABLE mysqlDataBase.user_entity_roles (id BIGINT AUTO_INCREMENT NOT NULL, roles INT DEFAULT ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_entity_id) REFERENCES mysqlDataBase.user_entity(id))]
2023-02-07 13:52:30,199 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 13:52:30,225 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 13:52:30,229 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 13:52:30,242 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 13:52:30,275 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1 [Failed SQL: (1064) CREATE TABLE mysqlDataBase.user_entity_roles (id BIGINT AUTO_INCREMENT NOT NULL, roles INT DEFAULT ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_entity_id) REFERENCES mysqlDataBase.user_entity(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1 [Failed SQL: (1064) CREATE TABLE mysqlDataBase.user_entity_roles (id BIGINT AUTO_INCREMENT NOT NULL, roles INT DEFAULT ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_entity_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1 [Failed SQL: (1064) CREATE TABLE mysqlDataBase.user_entity_roles (id BIGINT AUTO_INCREMENT NOT NULL, roles INT DEFAULT ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_entity_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1 [Failed SQL: (1064) CREATE TABLE mysqlDataBase.user_entity_roles (id BIGINT AUTO_INCREMENT NOT NULL, roles INT DEFAULT ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMARY KEY (id), CONSTRAINT user_roles_fk FOREIGN KEY (user_entity_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ROLE_USER NOT NULL, user_entity_id BIGINT NULL, CONSTRAINT roles_entity_pk PRIMA' at line 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-07 14:23:46,755 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:23:46 MSK 2023
2023-02-07 14:23:47,427 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:23:47,429 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3556 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:23:47,430 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:23:47,431 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:23:48,236 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:23:48,237 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:23:48,271 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:23:48,273 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:23:48,274 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:23:48,282 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:23:48,282 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:23:48,318 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2023-02-07 14:23:48,903 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:23:48,912 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:23:48,913 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:23:48,913 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:23:49,030 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:23:49,030 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1560 ms
2023-02-07 14:23:49,085 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:23:49,283 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:23:49,618 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:23:50,022 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:23:50,402 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:23:50,416 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:23:50,554 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 14:23:50,556 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 16ms
2023-02-07 14:23:50,579 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 14:23:50,581 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 14:23:50,602 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 14:23:50,604 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 15ms
2023-02-07 14:23:50,656 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 14:23:50,660 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 31ms
2023-02-07 14:23:50,688 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 14:23:50,690 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 16ms
2023-02-07 14:23:50,706 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:23:50,771 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:23:50,916 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:23:51,100 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:23:51,206 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:23:51,812 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_role]
2023-02-07 14:23:51,814 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_role]
2023-02-07 14:23:51,814 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:23:51,841 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:23:51,843 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 14:23:51,854 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 14:23:51,877 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_role]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_role]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing table [user_entity_role]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:129)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 14:24:36,092 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:24:36 MSK 2023
2023-02-07 14:24:36,675 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:24:36,676 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15408 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:24:36,678 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:24:36,678 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:24:37,617 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:24:37,618 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:24:37,651 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:24:37,653 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:24:37,654 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:24:37,661 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:24:37,662 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:24:37,692 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 14:24:38,296 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:24:38,306 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:24:38,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:24:38,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:24:38,426 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:24:38,427 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1707 ms
2023-02-07 14:24:38,485 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:24:38,683 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:24:39,030 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:24:39,383 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:24:39,842 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:24:39,963 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:24:40,026 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:24:40,089 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:24:40,247 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:24:40,368 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:24:40,965 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 14:24:40,971 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:24:41,443 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: be1b5d7c-4878-4f26-8e5d-c243e6b39e85

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 14:24:41,571 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 14:24:41,786 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79d3fb99, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4b2d13, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f510929, org.springframework.security.web.header.HeaderWriterFilter@75bbe39d, org.springframework.web.filter.CorsFilter@7154a248, maluevartem.cloud_storage_backend.security.JWTFilter@481558ce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6abca7a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12bb8943, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@435a4d2d, org.springframework.security.web.session.SessionManagementFilter@870413c, org.springframework.security.web.access.ExceptionTranslationFilter@6edb093f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@20e25bf7]
2023-02-07 14:24:42,089 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 14:24:42,110 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 14:24:42,120 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.917 seconds (JVM running for 7.148)
2023-02-07 14:25:02,936 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:25:02,947 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:25:03,058 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:25:08,020 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:25:08 MSK 2023
2023-02-07 14:25:08,583 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:25:08,584 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15256 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:25:08,585 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:25:08,586 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:25:09,445 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:25:09,446 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:25:09,479 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:25:09,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:25:09,483 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:25:09,491 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:25:09,491 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:25:09,531 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-02-07 14:25:10,213 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:25:10,222 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:25:10,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:25:10,223 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:25:10,357 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:25:10,358 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1725 ms
2023-02-07 14:25:10,463 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:25:10,658 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:25:11,064 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:25:11,457 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:25:11,807 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:25:11,922 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:25:11,992 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:25:12,059 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:25:12,225 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:25:12,381 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:25:13,100 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 14:25:13,110 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:25:13,669 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 54629ef2-12bd-4e20-993a-41a058f8ee03

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 14:25:13,809 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 14:25:14,079 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@36618b3b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7715d43c, org.springframework.security.web.context.SecurityContextPersistenceFilter@fe38d1e, org.springframework.security.web.header.HeaderWriterFilter@1930e8ef, org.springframework.web.filter.CorsFilter@3763aafd, maluevartem.cloud_storage_backend.security.JWTFilter@22dc59b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@157267db, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b8ac512, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16ca4532, org.springframework.security.web.session.SessionManagementFilter@69af938b, org.springframework.security.web.access.ExceptionTranslationFilter@2d732cda, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3d3c14c3]
2023-02-07 14:25:14,449 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 14:25:14,514 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 14:25:14,525 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.395 seconds (JVM running for 7.696)
2023-02-07 14:25:25,133 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 14:25:25,134 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 14:25:25,136 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 14:25:25,303 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 14:25:25,310 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 14:25:25,928 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTEyNSwibmJmIjoxNjc1NzY5MTI1LCJleHAiOjE2NzU3NzA5MjUsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.hHiJ3w2zvtG9U1iaa6WAod5yIBhFU9m8Qz07x_bKHZk добавлен в список активных токеннов
2023-02-07 14:25:25,929 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTEyNSwibmJmIjoxNjc1NzY5MTI1LCJleHAiOjE2NzU3NzA5MjUsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.hHiJ3w2zvtG9U1iaa6WAod5yIBhFU9m8Qz07x_bKHZk
2023-02-07 14:25:26,091 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTEyNSwibmJmIjoxNjc1NzY5MTI1LCJleHAiOjE2NzU3NzA5MjUsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.hHiJ3w2zvtG9U1iaa6WAod5yIBhFU9m8Qz07x_bKHZk
2023-02-07 14:25:56,894 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTEyNSwibmJmIjoxNjc1NzY5MTI1LCJleHAiOjE2NzU3NzA5MjUsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.hHiJ3w2zvtG9U1iaa6WAod5yIBhFU9m8Qz07x_bKHZk
2023-02-07 14:26:09,833 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:26:09,838 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 14:26:09,877 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:26:16,596 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:26:16,599 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:26:16,628 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:27:18,843 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:27:18 MSK 2023
2023-02-07 14:27:19,404 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9828 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:27:19,405 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:27:19,406 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:27:19,407 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:27:20,377 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:27:20,378 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:27:20,411 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:27:20,413 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:27:20,414 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:27:20,424 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:27:20,424 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:27:20,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 42 ms. Found 2 JPA repository interfaces.
2023-02-07 14:27:21,154 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:27:21,166 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:27:21,166 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:27:21,167 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:27:21,329 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:27:21,329 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1866 ms
2023-02-07 14:27:21,435 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:27:22,063 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:27:22,510 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:27:23,104 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:27:23,557 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:27:23,727 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:27:23,807 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:27:23,867 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:27:24,028 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:27:24,156 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:27:24,999 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 14:27:25,007 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:27:25,607 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 10943282-cb01-4740-841e-ae6e33226dff

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 14:27:25,780 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 14:27:26,006 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4628f386, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38224635, org.springframework.security.web.context.SecurityContextPersistenceFilter@4accc3de, org.springframework.security.web.header.HeaderWriterFilter@5b697993, org.springframework.web.filter.CorsFilter@7385a72f, maluevartem.cloud_storage_backend.security.JWTFilter@4215e133, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23a78d2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20724c21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ff12345, org.springframework.security.web.session.SessionManagementFilter@280f061e, org.springframework.security.web.access.ExceptionTranslationFilter@dffcf1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@495598c5]
2023-02-07 14:27:26,325 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 14:27:26,345 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 14:27:26,355 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.377 seconds (JVM running for 8.937)
2023-02-07 14:27:34,752 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 14:27:34,752 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 14:27:34,754 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 14:27:34,909 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=Admin, password=admin)
2023-02-07 14:27:34,914 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: Admin
2023-02-07 14:27:35,485 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs добавлен в список активных токеннов
2023-02-07 14:27:35,486 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=Admin, password=admin) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:27:35,600 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:27:35,607 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:27:35,632 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:27:35,636 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:27:35,666 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:28:15,631 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:28:15,638 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:28:15,642 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:28:15,642 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:28:15,651 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:29:03,968 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:29:03,990 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:29:04,013 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:29:04,017 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:29:04,047 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:30:42,886 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:30:42,914 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:30:42,931 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:30:42,935 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:30:42,970 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:31:15,157 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:31:15,163 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NjkyNTUsIm5iZiI6MTY3NTc2OTI1NSwiZXhwIjoxNjc1NzcxMDU1LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.1imA1RIX4WHzXG7JQTpOyRXX6Df-AcbUaNfewr5QJUs
2023-02-07 14:31:15,166 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:31:15,167 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:31:15,172 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:32:32,912 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=Admin, password=admin)
2023-02-07 14:32:32,913 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: Admin
2023-02-07 14:32:33,393 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk1NTMsIm5iZiI6MTY3NTc2OTU1MywiZXhwIjoxNjc1NzcxMzUzLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.AGNmIeGYFy1q2HU-Aql9oqTqUWFfGe4k5-c2Q1YHjLI добавлен в список активных токеннов
2023-02-07 14:32:33,394 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=Admin, password=admin) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk1NTMsIm5iZiI6MTY3NTc2OTU1MywiZXhwIjoxNjc1NzcxMzUzLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.AGNmIeGYFy1q2HU-Aql9oqTqUWFfGe4k5-c2Q1YHjLI
2023-02-07 14:35:58,530 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 14:35:58,535 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 14:35:58,984 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTc1OCwibmJmIjoxNjc1NzY5NzU4LCJleHAiOjE2NzU3NzE1NTgsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.n4bxFXL_6noSEzZGVv33WyzrlwCIDpp3G0jdhp8CdxA добавлен в список активных токеннов
2023-02-07 14:35:58,985 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTc1OCwibmJmIjoxNjc1NzY5NzU4LCJleHAiOjE2NzU3NzE1NTgsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.n4bxFXL_6noSEzZGVv33WyzrlwCIDpp3G0jdhp8CdxA
2023-02-07 14:36:20,772 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:36:20,796 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:36:20,836 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:36:27,989 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:36:27 MSK 2023
2023-02-07 14:36:28,492 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:36:28,493 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8444 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:36:28,494 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:36:28,495 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:36:29,663 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:36:29,664 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:36:29,697 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:36:29,698 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:36:29,700 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:36:29,716 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:36:29,716 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:36:29,749 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 14:36:30,298 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:36:30,306 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:36:30,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:36:30,307 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:36:30,426 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:36:30,427 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1889 ms
2023-02-07 14:36:30,481 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:36:30,663 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:36:30,998 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:36:31,342 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:36:31,790 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:36:31,888 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:36:31,943 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:36:31,990 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:36:32,130 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:36:32,232 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:36:32,829 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 14:36:32,836 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:36:33,258 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: ca43c8e3-0685-4bd9-8267-3136fd08bd01

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 14:36:33,354 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 14:36:33,559 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d7f2719, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@685e5967, org.springframework.security.web.context.SecurityContextPersistenceFilter@755fdfad, org.springframework.security.web.header.HeaderWriterFilter@57cc0333, org.springframework.web.filter.CorsFilter@106387cf, maluevartem.cloud_storage_backend.security.JWTFilter@7a687d8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d91147b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1930e8ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d3c14c3, org.springframework.security.web.session.SessionManagementFilter@5aa2758a, org.springframework.security.web.access.ExceptionTranslationFilter@69cc3370, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@f461c9c]
2023-02-07 14:36:33,849 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 14:36:33,868 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 14:36:33,878 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.777 seconds (JVM running for 7.002)
2023-02-07 14:36:46,175 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 14:36:46,175 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 14:36:46,176 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 14:36:46,284 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 14:36:46,289 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 14:36:46,862 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE добавлен в список активных токеннов
2023-02-07 14:36:46,862 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:36:46,981 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:36:46,986 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:36:47,005 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:36:47,009 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 14:36:47,037 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:37:01,482 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:01,488 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:01,574 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Презентация_по_дипломному_блоку.pdf
2023-02-07 14:37:01,581 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Презентация_по_дипломному_блоку.pdf и идентификатору 2
2023-02-07 14:37:01,615 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-07 14:37:01,617 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5
2023-02-07 14:37:01,618 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:2 и хэшу:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5
2023-02-07 14:37:01,626 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:2 и хэшу:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5 не существует
2023-02-07 14:37:01,626 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Презентация_по_дипломному_блоку.pdf, хэш: 962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5, Id пользователя: 2
2023-02-07 14:37:03,816 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:03,825 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:03,830 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:37:03,830 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 14:37:03,885 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: [FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}]
2023-02-07 14:37:11,079 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:11,084 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:11,106 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.AuthenticationService: Пользователь начал процедуру выхода из системы: UserEntity(id=2, login=User, password=$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq, roles=[ROLE_USER], fileList=[FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}])
2023-02-07 14:37:11,168 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.AuthenticationService: Токен пользователя: UserEntity(id=2, login=User, password=$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq, roles=[ROLE_USER], fileList=[FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}]) удален из списка активных токеннов. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:11,168 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: User успешно вышел из системы. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc2OTgwNiwibmJmIjoxNjc1NzY5ODA2LCJleHAiOjE2NzU3NzE2MDYsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.IWgl23n5B-8Afu0zZ1mDW6bE2frf6B542DrGhC0B9BE
2023-02-07 14:37:19,786 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=Admin, password=admin)
2023-02-07 14:37:19,786 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: Admin
2023-02-07 14:37:20,176 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24 добавлен в список активных токеннов
2023-02-07 14:37:20,176 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=Admin, password=admin) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:20,234 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:20,244 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:20,247 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:37:20,248 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:37:20,251 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 14:37:28,974 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:28,987 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:29,085 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Иерархия исключений Spring Security.jpg
2023-02-07 14:37:29,089 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Иерархия исключений Spring Security.jpg и идентификатору 1
2023-02-07 14:37:29,097 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-07 14:37:29,098 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e
2023-02-07 14:37:29,099 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e
2023-02-07 14:37:29,102 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e не существует
2023-02-07 14:37:29,103 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Иерархия исключений Spring Security.jpg, хэш: b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e, Id пользователя: 1
2023-02-07 14:37:31,161 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:31,169 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:37:31,175 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 14:37:31,176 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 14:37:31,192 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: [FileEntity{id=2, fileName='Иерархия исключений Spring Security.jpg', fileType='image/jpeg', hash='b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e', size=88777, userId=1}]
2023-02-07 14:40:53,247 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:40:53,264 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:40:53,311 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Пользователь начал процедуру выхода из системы: UserEntity(id=1, login=Admin, password=$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2, roles=[ROLE_ADMIN], fileList=[FileEntity{id=2, fileName='Иерархия исключений Spring Security.jpg', fileType='image/jpeg', hash='b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e', size=88777, userId=1}])
2023-02-07 14:40:53,334 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Токен пользователя: UserEntity(id=1, login=Admin, password=$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2, roles=[ROLE_ADMIN], fileList=[FileEntity{id=2, fileName='Иерархия исключений Spring Security.jpg', fileType='image/jpeg', hash='b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e', size=88777, userId=1}]) удален из списка активных токеннов. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:40:53,334 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: Admin успешно вышел из системы. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3Njk4NDAsIm5iZiI6MTY3NTc2OTg0MCwiZXhwIjoxNjc1NzcxNjQwLCJyb2xlcyI6WyJST0xFX0FETUlOIl19.214PcdNsmHVXKkdISG8-XgmZwOHSmcpmUfYUGMPM-24
2023-02-07 14:41:03,637 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=Admin, password=admin)
2023-02-07 14:41:03,637 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: Admin
2023-02-07 14:41:04,075 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzAwNjQsIm5iZiI6MTY3NTc3MDA2NCwiZXhwIjoxNjc1NzcxODY0LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.fmRkTb70ZhfVYEVjdB-3CDOjHz8M8erCzjrloc41NCM добавлен в список активных токеннов
2023-02-07 14:41:04,075 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=Admin, password=admin) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzAwNjQsIm5iZiI6MTY3NTc3MDA2NCwiZXhwIjoxNjc1NzcxODY0LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.fmRkTb70ZhfVYEVjdB-3CDOjHz8M8erCzjrloc41NCM
2023-02-07 14:55:46,076 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 14:55:46,105 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:55:46,154 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:57:05,872 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:57:05 MSK 2023
2023-02-07 14:57:06,348 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10884 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:57:06,348 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:57:06,348 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:57:06,349 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:57:07,351 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:57:07,352 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:57:07,381 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:57:07,382 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:57:07,384 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:57:07,391 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:57:07,392 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:57:07,423 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 14:57:08,076 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:57:08,085 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:57:08,086 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:57:08,087 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:57:08,217 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:57:08,218 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1831 ms
2023-02-07 14:57:08,283 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:57:08,475 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:57:08,825 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:57:09,192 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:57:09,638 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:57:09,749 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:57:09,817 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:57:09,880 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:57:10,010 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:57:10,104 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:57:10,729 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
2023-02-07 14:57:10,730 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
2023-02-07 14:57:10,730 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:57:10,755 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:57:10,757 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 14:57:10,768 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 14:57:10,790 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:144)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 14:59:33,013 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 14:59:33 MSK 2023
2023-02-07 14:59:33,527 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11600 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 14:59:33,527 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 14:59:33,528 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 14:59:33,529 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 14:59:34,437 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:59:34,438 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 14:59:34,474 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:59:34,476 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 14:59:34,478 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2023-02-07 14:59:34,488 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 14:59:34,488 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 14:59:34,525 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-07 14:59:35,189 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 14:59:35,201 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 14:59:35,201 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 14:59:35,201 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 14:59:35,324 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 14:59:35,325 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1754 ms
2023-02-07 14:59:35,386 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 14:59:35,596 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 14:59:35,944 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 14:59:36,306 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 14:59:36,519 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:59:36,535 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 14:59:36,664 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 14:59:36,665 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 11ms
2023-02-07 14:59:36,686 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 14:59:36,688 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 14:59:36,710 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 14:59:36,712 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 17ms
2023-02-07 14:59:36,733 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 14:59:36,813 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 14:59:36,882 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 14:59:37,024 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 14:59:37,123 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 14:59:37,800 ERROR [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
2023-02-07 14:59:37,802 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
2023-02-07 14:59:37,802 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 14:59:37,833 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 14:59:37,835 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 14:59:37,849 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 14:59:37,877 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 16 common frames omitted
Caused by: org.hibernate.tool.schema.spi.SchemaManagementException: Schema-validation: missing column [role] in table [user_entity]
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.validateTable(AbstractSchemaValidator.java:144)
	at org.hibernate.tool.schema.internal.GroupedSchemaValidatorImpl.validateTables(GroupedSchemaValidatorImpl.java:42)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.performValidation(AbstractSchemaValidator.java:97)
	at org.hibernate.tool.schema.internal.AbstractSchemaValidator.doValidation(AbstractSchemaValidator.java:76)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:204)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:335)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)
	... 20 common frames omitted
2023-02-07 15:00:37,268 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:00:37 MSK 2023
2023-02-07 15:00:37,866 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:00:37,869 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12344 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:00:37,870 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:00:37,871 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:00:38,736 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:00:38,738 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:00:38,772 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:00:38,774 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:00:38,775 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:00:38,785 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:00:38,786 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:00:38,823 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-02-07 15:00:39,532 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:00:39,542 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:00:39,542 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:00:39,542 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:00:39,664 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:00:39,664 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1751 ms
2023-02-07 15:00:39,737 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:00:40,166 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:00:41,146 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:00:41,554 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:00:41,919 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:00:42,055 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:00:42,061 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     2 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem was: 8:09f4205a72f0afc072e3605e3f474d79 but is now: 8:eb546c16c81694ed4ce9ca9d5e4ee05c
          /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll was: 8:bf0c57ffa5661f7efe01b528fe72c175 but is now: 8:cffab61cb3ff34032092cceb3312dd48

2023-02-07 15:00:42,062 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:00:42,093 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:00:42,097 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 15:00:42,108 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 15:00:42,135 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     2 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem was: 8:09f4205a72f0afc072e3605e3f474d79 but is now: 8:eb546c16c81694ed4ce9ca9d5e4ee05c
          /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll was: 8:bf0c57ffa5661f7efe01b528fe72c175 but is now: 8:cffab61cb3ff34032092cceb3312dd48

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     2 change sets check sum
          /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem was: 8:09f4205a72f0afc072e3605e3f474d79 but is now: 8:eb546c16c81694ed4ce9ca9d5e4ee05c
          /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll was: 8:bf0c57ffa5661f7efe01b528fe72c175 but is now: 8:cffab61cb3ff34032092cceb3312dd48

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-02-07 15:01:00,748 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:01:00 MSK 2023
2023-02-07 15:01:01,215 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8844 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:01:01,216 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:01:01,217 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:01:01,222 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:01:01,962 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:01:01,963 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:01:01,998 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:01:02,000 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:01:02,001 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:01:02,009 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:01:02,009 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:01:02,043 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-07 15:01:02,568 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:01:02,575 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:01:02,576 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:01:02,576 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:01:02,680 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:01:02,680 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1414 ms
2023-02-07 15:01:02,733 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:01:02,904 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:01:03,200 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:01:03,533 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:01:03,725 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:01:03,741 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:01:03,907 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 15:01:03,909 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 15:01:03,933 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 15:01:03,935 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 15:01:03,963 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:01:03,965 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 22ms
2023-02-07 15:01:03,983 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:01:04,068 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:01:04,127 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:01:04,288 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:01:04,388 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:01:04,939 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:01:04,947 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:01:05,384 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7aff88a0-e3c1-4903-b813-863719e639f4

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:01:05,497 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:01:05,716 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65528bcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bb4f09d, org.springframework.security.web.context.SecurityContextPersistenceFilter@c040c8d, org.springframework.security.web.header.HeaderWriterFilter@2ef3efcc, org.springframework.web.filter.CorsFilter@ee7a538, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f627a1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@655b9169, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c045627, org.springframework.security.web.session.SessionManagementFilter@5c7b504, org.springframework.security.web.access.ExceptionTranslationFilter@7be3a837, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@209f0986]
2023-02-07 15:01:06,019 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:01:06,040 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:01:06,050 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.205 seconds (JVM running for 6.189)
2023-02-07 15:01:42,222 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:01:42,222 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:01:42,224 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 15:01:42,372 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 15:01:42,378 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:01:42,974 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc добавлен в список активных токеннов
2023-02-07 15:01:42,975 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc
2023-02-07 15:01:43,150 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc
2023-02-07 15:01:43,158 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:01:43,162 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc
2023-02-07 15:01:43,163 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:01:43,164 ERROR [http-nio-8888-exec-4] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:02:10,750 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc
2023-02-07 15:02:10,756 ERROR [http-nio-8888-exec-6] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:02:10,762 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTMwMiwibmJmIjoxNjc1NzcxMzAyLCJleHAiOjE2NzU3NzMxMDIsInJvbGVzIjoiUk9MRV9VU0VSIn0.MFapCc4A-t8S9wIQ3__07REe35IlGjTcIpp9beO2arc
2023-02-07 15:02:10,771 ERROR [http-nio-8888-exec-6] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:02:10,772 ERROR [http-nio-8888-exec-6] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:02:16,202 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:02:16,206 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:02:16,314 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:04:15,141 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:04:15 MSK 2023
2023-02-07 15:04:15,917 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:04:15,921 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11408 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:04:15,923 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:04:15,924 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:04:16,994 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:04:16,996 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:04:17,037 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:04:17,039 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:04:17,040 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:04:17,050 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:04:17,050 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:04:17,093 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2023-02-07 15:04:17,839 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:04:17,853 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:04:17,853 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:04:17,854 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:04:18,094 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:04:18,094 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2109 ms
2023-02-07 15:04:18,207 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:04:18,499 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:04:18,904 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:04:19,347 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:04:19,780 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:04:19,887 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:04:19,978 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:04:20,054 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:04:20,219 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:04:20,348 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:04:21,091 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:04:21,099 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:04:21,639 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 15007b94-412b-413f-81b3-9f290f4513b8

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:04:21,768 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:04:22,064 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19f9287a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4924ad09, org.springframework.security.web.context.SecurityContextPersistenceFilter@554a2f3, org.springframework.security.web.header.HeaderWriterFilter@2703785e, org.springframework.web.filter.CorsFilter@7e9d171c, maluevartem.cloud_storage_backend.security.JWTFilter@1084ac45, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f7a7ce6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1de6689c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a1540be, org.springframework.security.web.session.SessionManagementFilter@5a2297d7, org.springframework.security.web.access.ExceptionTranslationFilter@3687b83c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@8929865]
2023-02-07 15:04:22,409 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:04:22,442 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:04:22,453 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 7.195 seconds (JVM running for 8.562)
2023-02-07 15:04:31,790 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:04:31,790 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:04:31,791 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 15:04:31,931 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 15:04:31,937 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:05:07,964 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=48s960ms878µs700ns).
2023-02-07 15:05:07,995 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w добавлен в список активных токеннов
2023-02-07 15:05:07,996 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w
2023-02-07 15:05:08,270 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w
2023-02-07 15:06:02,399 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:06:02,406 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w
2023-02-07 15:06:20,683 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:06:20,684 ERROR [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:56)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:38)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:12:53,681 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:12:53,744 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:12:53,794 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:15:47,336 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:15:47 MSK 2023
2023-02-07 15:15:47,968 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11384 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:15:47,968 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:15:47,969 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:15:47,970 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:15:48,943 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:15:48,944 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:15:48,978 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:15:48,980 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:15:48,981 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:15:48,989 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:15:48,989 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:15:49,029 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 2 JPA repository interfaces.
2023-02-07 15:15:49,707 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:15:49,716 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:15:49,717 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:15:49,717 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:15:49,833 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:15:49,834 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1816 ms
2023-02-07 15:15:49,903 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:15:50,125 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:15:50,489 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:15:50,865 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:15:51,262 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:15:51,381 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:15:51,444 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:15:51,513 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:15:51,662 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:15:51,795 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:15:52,439 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:15:52,447 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:15:52,966 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 2488c0ca-b588-4a18-976b-44ba17b838cc

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:15:53,079 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:15:53,319 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5352bc0e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49b73e6c, org.springframework.security.web.context.SecurityContextPersistenceFilter@4b8601a1, org.springframework.security.web.header.HeaderWriterFilter@3a7f382, org.springframework.web.filter.CorsFilter@1f138b74, maluevartem.cloud_storage_backend.security.JWTFilter@7ea2412c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1de6689c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d8512e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c682826, org.springframework.security.web.session.SessionManagementFilter@52e34db, org.springframework.security.web.access.ExceptionTranslationFilter@4cbd17b3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@122a6078]
2023-02-07 15:15:53,641 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:15:53,666 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:15:53,677 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.23 seconds (JVM running for 7.78)
2023-02-07 15:16:09,145 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:16:09,148 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:16:09,178 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:16:23,861 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:16:23 MSK 2023
2023-02-07 15:16:24,419 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:16:24,421 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 16308 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:16:24,423 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:16:24,424 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:16:25,235 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:16:25,236 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:16:25,273 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:16:25,276 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:16:25,278 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:16:25,287 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:16:25,287 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:16:25,326 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-02-07 15:16:26,047 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:16:26,055 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:16:26,056 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:16:26,056 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:16:26,170 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:16:26,171 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1702 ms
2023-02-07 15:16:26,259 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:16:26,443 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:16:26,761 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:16:27,108 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:16:27,451 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:16:27,558 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:16:27,618 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:16:27,667 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:16:27,806 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:16:27,915 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:16:28,590 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:16:28,599 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:16:29,126 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 55dfb68a-bf35-4866-a7cf-f0c404618740

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:16:29,243 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:16:29,492 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4733662d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25502b1c, org.springframework.security.web.context.SecurityContextPersistenceFilter@14f254f, org.springframework.security.web.header.HeaderWriterFilter@f5a680, org.springframework.web.filter.CorsFilter@5dabe7c8, maluevartem.cloud_storage_backend.security.JWTFilter@6435fa1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4df54c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@785477e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c427386, org.springframework.security.web.session.SessionManagementFilter@7bf997e0, org.springframework.security.web.access.ExceptionTranslationFilter@7364073b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3420547]
2023-02-07 15:16:29,823 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:16:29,845 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:16:29,855 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.885 seconds (JVM running for 7.088)
2023-02-07 15:16:39,460 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:16:39,461 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:16:39,464 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 15:16:39,676 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w
2023-02-07 15:16:44,263 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:16:44,269 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MTQ3MiwibmJmIjoxNjc1NzcxNDcyLCJleHAiOjE2NzU3NzMyNzIsInJvbGVzIjoiUk9MRV9VU0VSIn0.Ly_RgvZnKJ4IFGWpMp_7mN_lT9HvREASJJKMpxOrk3w
2023-02-07 15:16:44,272 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:16:44,273 ERROR [http-nio-8888-exec-3] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
io.jsonwebtoken.RequiredTypeException: Cannot convert existing claim value of type 'class java.lang.String' to desired type 'interface java.util.List'. JJWT only converts simple String, Date, Long, Integer, Short and Byte types automatically. Anything more complex is expected to be already converted to your desired type by the JSON Deserializer implementation. You may specify a custom Deserializer for a JwtParser with the desired conversion configuration via the JwtParserBuilder.deserializeJsonWith() method. See https://github.com/jwtk/jjwt#custom-json-processor for more information. If using Jackson, you can specify custom claim POJO types as described in https://github.com/jwtk/jjwt#json-jackson-custom-types
	at io.jsonwebtoken.impl.DefaultClaims.castClaimValue(DefaultClaims.java:169)
	at io.jsonwebtoken.impl.DefaultClaims.get(DefaultClaims.java:152)
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:57)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:16:44,731 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:16:44,734 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:16:44,760 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:16:49,543 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:16:49 MSK 2023
2023-02-07 15:16:50,100 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13476 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:16:50,100 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:16:50,101 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:16:50,102 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:16:50,956 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:16:50,957 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:16:50,992 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:16:50,994 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:16:50,996 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:16:51,004 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:16:51,005 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:16:51,042 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-07 15:16:51,679 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:16:51,689 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:16:51,690 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:16:51,690 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:16:51,805 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:16:51,806 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1656 ms
2023-02-07 15:16:51,884 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:16:52,077 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:16:52,410 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:16:52,750 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:16:53,078 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:16:53,230 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:16:53,303 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:16:53,358 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:16:53,505 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:16:53,623 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:16:54,283 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:16:54,291 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:16:54,818 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 8a2fdda2-9230-4487-80e1-c19d66a84f17

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:16:54,940 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:16:55,180 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44d36b56, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ce1cc03, org.springframework.security.web.context.SecurityContextPersistenceFilter@788fa91f, org.springframework.security.web.header.HeaderWriterFilter@2f83467, org.springframework.web.filter.CorsFilter@b1e63b5, maluevartem.cloud_storage_backend.security.JWTFilter@6435fa1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e8bc83e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c75c5e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@186537ac, org.springframework.security.web.session.SessionManagementFilter@62aefc75, org.springframework.security.web.access.ExceptionTranslationFilter@49c72fb7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@578ac0be]
2023-02-07 15:16:55,507 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:16:55,536 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:16:55,547 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.898 seconds (JVM running for 7.048)
2023-02-07 15:17:03,886 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:17:03,887 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:17:03,889 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-07 15:17:04,146 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 15:17:04,152 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:18:12,772 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m20s261ms932µs100ns).
2023-02-07 15:18:12,808 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MjIyNCwibmJmIjoxNjc1NzcyMjI0LCJleHAiOjE2NzU3NzQwMjR9.KdCEEUJb4O3RW9b6Tld7wot0L3NKunRb67woPcC5FfE добавлен в список активных токеннов
2023-02-07 15:18:12,809 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MjIyNCwibmJmIjoxNjc1NzcyMjI0LCJleHAiOjE2NzU3NzQwMjR9.KdCEEUJb4O3RW9b6Tld7wot0L3NKunRb67woPcC5FfE
2023-02-07 15:18:12,979 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MjIyNCwibmJmIjoxNjc1NzcyMjI0LCJleHAiOjE2NzU3NzQwMjR9.KdCEEUJb4O3RW9b6Tld7wot0L3NKunRb67woPcC5FfE
2023-02-07 15:19:02,393 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s620ms258µs500ns).
2023-02-07 15:20:31,662 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m29s269ms110µs100ns).
2023-02-07 15:20:31,671 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:58)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:20:31,680 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MjIyNCwibmJmIjoxNjc1NzcyMjI0LCJleHAiOjE2NzU3NzQwMjR9.KdCEEUJb4O3RW9b6Tld7wot0L3NKunRb67woPcC5FfE
2023-02-07 15:20:31,683 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] threw exception
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:58)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:20:31,684 ERROR [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Exception Processing ErrorPage[errorCode=0, location=/error]
java.lang.NullPointerException: null
	at maluevartem.cloud_storage_backend.security.JWTFilter.getRoles(JWTFilter.java:58)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.throwable(StandardHostValve.java:344)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-07 15:20:32,100 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:20:32,111 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:20:32,141 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:24:13,237 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:24:13 MSK 2023
2023-02-07 15:24:13,851 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9224 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:24:13,852 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:24:13,852 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:24:13,853 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:24:14,632 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:24:14,633 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:24:14,663 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:24:14,665 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:24:14,667 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:24:14,675 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:24:14,675 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:24:14,709 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 2 JPA repository interfaces.
2023-02-07 15:24:15,297 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:24:15,305 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:24:15,306 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:24:15,306 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:24:15,417 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:24:15,417 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1527 ms
2023-02-07 15:24:15,474 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:24:15,707 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:24:16,047 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:24:16,389 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:24:16,714 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:24:16,728 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:24:16,862 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 15:24:16,864 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 15:24:16,886 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 15:24:16,888 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-07 15:24:16,908 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 15:24:16,909 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 14ms
2023-02-07 15:24:16,932 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:24:16,934 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 18ms
2023-02-07 15:24:16,955 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:24:16,958 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 13ms
2023-02-07 15:24:16,973 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:24:17,061 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:24:17,110 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:24:17,261 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:24:17,359 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:24:17,956 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:24:17,963 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:24:18,394 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 2c5a7e35-761a-4ba8-a418-a2c3406b984f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:24:18,510 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:24:18,737 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e67a18, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37289e90, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fd7085d, org.springframework.security.web.header.HeaderWriterFilter@7a91027c, org.springframework.web.filter.CorsFilter@f461c9c, maluevartem.cloud_storage_backend.security.JWTFilter@32f5ecc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9120cb5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18419ab7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40477d52, org.springframework.security.web.session.SessionManagementFilter@2446597e, org.springframework.security.web.access.ExceptionTranslationFilter@2f0b5d79, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e2ad1f2]
2023-02-07 15:24:19,030 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:24:19,050 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:24:19,060 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.729 seconds (JVM running for 6.725)
2023-02-07 15:24:58,378 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:24:58,381 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:24:58,404 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:25:14,997 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:25:14 MSK 2023
2023-02-07 15:25:15,444 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1148 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:25:15,445 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:25:15,446 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:25:15,446 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:25:16,184 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:25:16,185 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:25:16,214 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:25:16,216 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:25:16,217 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:25:16,226 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:25:16,226 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:25:16,258 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-07 15:25:16,794 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:25:16,801 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:25:16,802 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:25:16,802 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:25:16,907 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:25:16,907 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1421 ms
2023-02-07 15:25:16,968 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:25:17,137 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:25:17,413 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:25:17,804 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:25:18,004 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:25:18,021 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:25:18,165 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 15:25:18,166 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 12ms
2023-02-07 15:25:18,184 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 15:25:18,186 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 12ms
2023-02-07 15:25:18,202 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 15:25:18,203 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 11ms
2023-02-07 15:25:18,225 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:25:18,227 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 18ms
2023-02-07 15:25:18,244 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:25:18,246 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 10ms
2023-02-07 15:25:18,258 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:25:18,344 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:25:18,381 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:25:18,518 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:25:18,606 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:25:19,131 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:25:19,139 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:25:19,557 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 316bfed2-a490-4728-982a-612311ebe56a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:25:19,662 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:25:19,876 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62ad5f35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e6ad84c, org.springframework.security.web.context.SecurityContextPersistenceFilter@969c2f9, org.springframework.security.web.header.HeaderWriterFilter@268f126f, org.springframework.web.filter.CorsFilter@4117e0c9, maluevartem.cloud_storage_backend.security.JWTFilter@63f6bed1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d741200, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36e11b60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@568e2d65, org.springframework.security.web.session.SessionManagementFilter@3e8995cc, org.springframework.security.web.access.ExceptionTranslationFilter@69862a1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55b5ce0f]
2023-02-07 15:25:20,171 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:25:20,192 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:25:20,201 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.116 seconds (JVM running for 6.085)
2023-02-07 15:25:25,832 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:25:25,835 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:25:25,858 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:25:29,552 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:25:29 MSK 2023
2023-02-07 15:25:30,134 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:25:30,136 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8628 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:25:30,138 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:25:30,139 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:25:30,964 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:25:30,966 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:25:30,999 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:25:31,001 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:25:31,002 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:25:31,011 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:25:31,011 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:25:31,048 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.
2023-02-07 15:25:31,668 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:25:31,678 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:25:31,679 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:25:31,679 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:25:31,798 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:25:31,798 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1611 ms
2023-02-07 15:25:31,889 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:25:32,076 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:25:32,395 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:25:32,783 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:25:33,127 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:25:33,235 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:25:33,289 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:25:33,347 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:25:33,672 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:25:33,922 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:25:36,080 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:25:36,096 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:25:37,074 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 450c894f-0a5b-4c22-9e3a-7fc036ad7a81

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:25:37,189 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:25:37,475 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56728f48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@281d3ce7, org.springframework.security.web.context.SecurityContextPersistenceFilter@9cdf13e, org.springframework.security.web.header.HeaderWriterFilter@7d741200, org.springframework.web.filter.CorsFilter@fdfd984, maluevartem.cloud_storage_backend.security.JWTFilter@6435fa1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@501956f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@299c86f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45e49d3d, org.springframework.security.web.session.SessionManagementFilter@71d8794f, org.springframework.security.web.access.ExceptionTranslationFilter@625c9248, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@62ad5f35]
2023-02-07 15:25:38,225 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:25:38,274 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:25:38,288 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 8.611 seconds (JVM running for 9.774)
2023-02-07 15:25:59,680 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:25:59,680 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:25:59,682 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 15:25:59,821 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 15:25:59,828 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:26:11,580 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3Mjc2MCwibmJmIjoxNjc1NzcyNzYwLCJleHAiOjE2NzU3NzQ1NjAsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ._m2t0FYqRbApZp_drEg07YrNZLL6FXzlNKww343YlVo добавлен в список активных токеннов
2023-02-07 15:26:11,580 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3Mjc2MCwibmJmIjoxNjc1NzcyNzYwLCJleHAiOjE2NzU3NzQ1NjAsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ._m2t0FYqRbApZp_drEg07YrNZLL6FXzlNKww343YlVo
2023-02-07 15:26:11,787 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3Mjc2MCwibmJmIjoxNjc1NzcyNzYwLCJleHAiOjE2NzU3NzQ1NjAsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ._m2t0FYqRbApZp_drEg07YrNZLL6FXzlNKww343YlVo
2023-02-07 15:27:19,440 WARN [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool$HouseKeeper: HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m7s905ms817µs900ns).
2023-02-07 15:27:31,663 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3Mjc2MCwibmJmIjoxNjc1NzcyNzYwLCJleHAiOjE2NzU3NzQ1NjAsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ._m2t0FYqRbApZp_drEg07YrNZLL6FXzlNKww343YlVo
2023-02-07 15:27:58,813 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:27:58,817 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 15:27:58,855 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 15:28:02,418 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:28:02,423 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:28:02,451 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:35:43,094 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest], using SpringBootContextLoader
2023-02-07 15:35:43,119 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 15:35:43,120 INFO [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: RegistrationServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-02-07 15:35:43,419 INFO [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration maluevartem.cloud_storage_backend.CloudStorageBackendApplication for test class maluevartem.cloud_storage_backend.service.RegistrationServiceTest
2023-02-07 15:35:43,559 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 15:35:43,581 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@56db847e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@740abb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@560cbf1a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5fe8b721, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@551a20d6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@578524c3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@64c2b546, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e094740, org.springframework.test.context.event.EventPublishingTestExecutionListener@7a11c4c7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4cc547a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7555b920, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4152d38d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3591009c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5398edd0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b5cc23a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5cc5b667, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@61edc883]
2023-02-07 15:35:44,124 INFO [main] org.springframework.boot.StartupInfoLogger: Starting RegistrationServiceTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 13044 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:35:44,125 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:35:44,126 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:35:44,149 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:35:45,521 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:45,523 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:35:45,576 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:45,578 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:45,580 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 49 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:35:45,591 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:45,594 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:35:45,645 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-02-07 15:35:47,346 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:35:48,136 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:35:48,948 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:35:49,627 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:35:49,721 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:35:49,725 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

2023-02-07 15:35:49,726 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:35:49,747 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:35:49,758 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 15:35:49,786 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:35:49,790 ERROR [main] org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@56db847e] to prepare test instance [maluevartem.cloud_storage_backend.service.RegistrationServiceTest@62a81453]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 71 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:35:49,951 INFO [main] org.springframework.boot.StartupInfoLogger: Starting RegistrationServiceTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 13044 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:35:49,951 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:35:49,951 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:35:50,498 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:50,499 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:35:50,512 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:50,513 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:50,514 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 14 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:35:50,518 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:50,518 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:35:50,532 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-02-07 15:35:50,716 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Starting...
2023-02-07 15:35:50,750 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Start completed.
2023-02-07 15:35:50,887 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:35:51,042 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:35:51,294 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:35:51,310 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

2023-02-07 15:35:51,311 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown initiated...
2023-02-07 15:35:51,364 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-2 - Shutdown completed.
2023-02-07 15:35:51,367 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 15:35:51,371 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:35:51,371 ERROR [main] org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@56db847e] to prepare test instance [maluevartem.cloud_storage_backend.service.RegistrationServiceTest@6edb2c7b]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 71 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:35:51,461 INFO [main] org.springframework.boot.StartupInfoLogger: Starting RegistrationServiceTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 13044 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:35:51,462 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:35:51,462 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:35:51,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:51,736 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:35:51,746 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:51,748 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:35:51,748 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:35:51,752 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:35:51,752 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:35:51,772 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 19 ms. Found 2 JPA repository interfaces.
2023-02-07 15:35:51,929 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Starting...
2023-02-07 15:35:51,994 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Start completed.
2023-02-07 15:35:52,095 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:35:52,261 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:35:52,404 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:35:52,410 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

2023-02-07 15:35:52,411 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown initiated...
2023-02-07 15:35:52,437 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-3 - Shutdown completed.
2023-02-07 15:35:52,440 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 15:35:52,444 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:35:52,445 ERROR [main] org.springframework.test.context.TestContextManager: Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@56db847e] to prepare test instance [maluevartem.cloud_storage_backend.service.RegistrationServiceTest@156eeff1]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:124)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:312)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:658)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)
	at java.base/java.util.Optional.orElseGet(Optional.java:369)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1541)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)
	at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:132)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:141)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:90)
	... 71 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 88 common frames omitted
2023-02-07 15:36:07,553 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest], using SpringBootContextLoader
2023-02-07 15:36:07,562 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 15:36:07,563 INFO [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: RegistrationServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-02-07 15:36:07,809 INFO [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration maluevartem.cloud_storage_backend.CloudStorageBackendApplication for test class maluevartem.cloud_storage_backend.service.RegistrationServiceTest
2023-02-07 15:36:07,931 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 15:36:07,952 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@551a20d6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@578524c3, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@64c2b546, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@7e094740, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7a11c4c7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4cc547a, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7555b920, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@4152d38d, org.springframework.test.context.event.EventPublishingTestExecutionListener@3591009c, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@5398edd0, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@b5cc23a, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@5cc5b667, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@61edc883, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@758f4f03, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@182f1e9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6928f576, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@660e9100]
2023-02-07 15:36:08,371 INFO [main] org.springframework.boot.StartupInfoLogger: Starting RegistrationServiceTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 3372 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:36:08,372 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:36:08,373 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:36:08,406 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:36:09,524 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:09,527 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:36:09,579 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:09,583 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:09,585 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 52 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:36:09,598 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:09,600 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:36:09,647 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2023-02-07 15:36:11,355 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:36:12,029 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:36:13,440 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

2023-02-07 15:36:13,440 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:36:13,463 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:36:18,621 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:36:18 MSK 2023
2023-02-07 15:36:19,077 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1432 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:36:19,078 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:36:19,079 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:36:19,079 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:36:19,799 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:19,800 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:36:19,829 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:19,831 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:19,832 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:36:19,840 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:19,840 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:36:19,870 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2023-02-07 15:36:20,377 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:36:20,386 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:36:20,386 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:36:20,387 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:36:20,488 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:36:20,489 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1369 ms
2023-02-07 15:36:20,545 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:36:20,719 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:36:20,993 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:36:21,290 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:36:21,566 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:36:21,660 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:36:21,665 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

2023-02-07 15:36:21,666 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:36:21,686 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:36:21,689 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 15:36:21,700 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 15:36:21,733 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll was: 8:02915e972a4ef2b9c7c1ea6025aba6c5 but is now: 8:d6d37f4bb9121df8fd150a01d47d7a5c

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-02-07 15:36:49,467 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:36:49 MSK 2023
2023-02-07 15:36:49,907 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14304 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:36:49,908 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:36:49,909 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:36:49,921 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:36:50,668 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:50,669 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:36:50,700 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:50,702 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:36:50,703 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:36:50,710 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:36:50,711 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:36:50,741 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 15:36:51,271 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:36:51,279 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:36:51,279 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:36:51,279 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:36:51,384 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:36:51,385 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1433 ms
2023-02-07 15:36:51,436 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:36:51,599 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:36:51,883 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:36:52,245 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:36:52,440 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:36:52,456 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:36:52,594 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 15:36:52,596 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 15:36:52,619 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 15:36:52,620 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 15:36:52,640 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 15:36:52,642 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 14ms
2023-02-07 15:36:52,662 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:36:52,664 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-02-07 15:36:52,703 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 15:36:52,706 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 16ms
2023-02-07 15:36:52,734 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:36:52,803 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:36:52,856 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:36:53,003 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:36:53,103 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:36:53,678 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:36:53,686 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:36:54,115 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 10bc1da5-9b95-442a-82ab-6f0e464a596c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:36:54,230 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:36:54,466 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62818ab0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39f5eba4, org.springframework.security.web.context.SecurityContextPersistenceFilter@627cb3ed, org.springframework.security.web.header.HeaderWriterFilter@7afac89a, org.springframework.web.filter.CorsFilter@3c070ade, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c4697fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@90b9695, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@bb3487c, org.springframework.security.web.session.SessionManagementFilter@276eafad, org.springframework.security.web.access.ExceptionTranslationFilter@4ccf1d3e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30a99b85]
2023-02-07 15:36:54,745 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:36:54,766 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:36:54,775 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.22 seconds (JVM running for 6.142)
2023-02-07 15:37:03,798 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest], using SpringBootContextLoader
2023-02-07 15:37:03,806 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 15:37:03,807 INFO [main] org.springframework.test.context.support.AnnotationConfigContextLoaderUtils: Could not detect default configuration classes for test class [maluevartem.cloud_storage_backend.service.RegistrationServiceTest]: RegistrationServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-02-07 15:37:03,982 INFO [main] org.springframework.boot.test.context.SpringBootTestContextBootstrapper: Found @SpringBootConfiguration maluevartem.cloud_storage_backend.CloudStorageBackendApplication for test class maluevartem.cloud_storage_backend.service.RegistrationServiceTest
2023-02-07 15:37:04,131 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 15:37:04,151 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@56db847e, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@740abb5, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@560cbf1a, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@5fe8b721, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@551a20d6, org.springframework.test.context.support.DirtiesContextTestExecutionListener@578524c3, org.springframework.test.context.transaction.TransactionalTestExecutionListener@64c2b546, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7e094740, org.springframework.test.context.event.EventPublishingTestExecutionListener@7a11c4c7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4cc547a, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@7555b920, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4152d38d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3591009c, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5398edd0, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@b5cc23a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@5cc5b667, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@61edc883]
2023-02-07 15:37:04,666 INFO [main] org.springframework.boot.StartupInfoLogger: Starting RegistrationServiceTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 256 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:37:04,667 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:37:04,669 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:37:04,689 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:37:05,909 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:37:05,911 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:37:05,957 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:37:05,959 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:37:05,960 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 41 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:37:05,972 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:37:05,974 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:37:06,023 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-02-07 15:37:07,786 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:37:08,482 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:37:09,160 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:37:09,793 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:37:09,960 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:37:10,087 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:37:10,149 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:37:10,220 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:37:10,389 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:37:11,002 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:37:11,015 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:37:12,031 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 3063e0fd-bb00-49b6-aa80-b34631d59d42

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:37:12,223 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:37:12,737 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@652855c4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@619dc070, org.springframework.security.web.context.SecurityContextPersistenceFilter@106e6dfe, org.springframework.security.web.header.HeaderWriterFilter@78c34153, org.springframework.web.filter.CorsFilter@22ab3e3b, maluevartem.cloud_storage_backend.security.JWTFilter@379df603, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31b827a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@525aadf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@311819e8, org.springframework.security.web.session.SessionManagementFilter@2387e60b, org.springframework.security.web.access.ExceptionTranslationFilter@39cf7f3c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d9bcf19]
2023-02-07 15:37:13,478 INFO [main] org.springframework.boot.StartupInfoLogger: Started RegistrationServiceTest in 9.252 seconds (JVM running for 11.431)
2023-02-07 15:37:13,551 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Поиск пользователя в базе данных по Id: 1
2023-02-07 15:37:13,556 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Пользователь в базе данных найден. ID: 1, логин: UserEntity(id=1, login=LoginTest, password=PasswordTest, role=null, roles=[ROLE_USER], fileList=null)
2023-02-07 15:37:13,609 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Поиск пользователя в базе данных по Id: 1
2023-02-07 15:37:13,609 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Пользователь в базе данных найден. ID: 1, логин: UserEntity(id=1, login=LoginTest, password=PasswordTest, role=null, roles=[ROLE_USER], fileList=null)
2023-02-07 15:37:13,610 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Пользователь удален. ID: 1, логин: UserEntity(id=1, login=LoginTest, password=PasswordTest, role=null, roles=[ROLE_USER], fileList=null)
2023-02-07 15:37:13,620 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Проверка свободности логина: UserEntity(id=1, login=LoginTest, password=PasswordTest, role=null, roles=[ROLE_USER], fileList=null)
2023-02-07 15:37:14,016 INFO [main] maluevartem.cloud_storage_backend.service.RegistrationService: Новый пользователь зарегистрирован: UserEntity(id=1, login=LoginTest, password=$2a$12$LR/C9puUx8u1514vW7QbNedOy8N4UQjoj6mMsRJGWDYsHojQsVB8i, role=ROLE_USER, roles=[ROLE_USER], fileList=null)
2023-02-07 15:37:14,029 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:37:14,032 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:37:14,066 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:38:57,135 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:38:57,142 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:38:57,172 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 15:39:10,843 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 15:39:10 MSK 2023
2023-02-07 15:39:11,294 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2288 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 15:39:11,295 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 15:39:11,296 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 15:39:11,296 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 15:39:12,015 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:39:12,016 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 15:39:12,045 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:39:12,048 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 15:39:12,049 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 15:39:12,057 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 15:39:12,058 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 15:39:12,088 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 15:39:12,632 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 15:39:12,640 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 15:39:12,641 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 15:39:12,641 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 15:39:12,740 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 15:39:12,740 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1402 ms
2023-02-07 15:39:12,793 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 15:39:12,955 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 15:39:13,232 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 15:39:13,576 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 15:39:13,848 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 15:39:13,985 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 15:39:14,034 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 15:39:14,104 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 15:39:14,219 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 15:39:14,307 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 15:39:14,832 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 15:39:14,840 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:39:15,262 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 0dc764f6-90f3-43f7-8a76-0b39aff3e689

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 15:39:15,366 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 15:39:15,581 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37c49a55, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13e6ab86, org.springframework.security.web.context.SecurityContextPersistenceFilter@c10f7a8, org.springframework.security.web.header.HeaderWriterFilter@54faa040, org.springframework.web.filter.CorsFilter@4f5d7091, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33de9d85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f6352a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18b88f7, org.springframework.security.web.session.SessionManagementFilter@22195d06, org.springframework.security.web.access.ExceptionTranslationFilter@51d41b97, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6418075c]
2023-02-07 15:39:15,854 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 15:39:15,874 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 15:39:15,883 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.954 seconds (JVM running for 5.964)
2023-02-07 15:39:23,345 INFO [http-nio-8888-exec-2] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-07 15:39:23,346 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-07 15:39:23,348 INFO [http-nio-8888-exec-2] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-07 15:39:23,551 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user)
2023-02-07 15:39:23,566 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:39:24,127 ERROR [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Неправильный пароль, id: 0
2023-02-07 15:39:41,699 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-07 15:39:41,700 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-07 15:39:42,192 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk добавлен в список активных токеннов
2023-02-07 15:39:42,192 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:42,434 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:42,440 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:42,465 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:39:42,469 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 15:39:42,506 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 15:39:51,637 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:51,644 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:51,689 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Презентация_по_дипломному_блоку.pdf
2023-02-07 15:39:51,697 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Презентация_по_дипломному_блоку.pdf и идентификатору 2
2023-02-07 15:39:51,730 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-07 15:39:51,733 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5
2023-02-07 15:39:51,733 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:2 и хэшу:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5
2023-02-07 15:39:51,741 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:2 и хэшу:962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5 не существует
2023-02-07 15:39:51,741 INFO [http-nio-8888-exec-10] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Презентация_по_дипломному_блоку.pdf, хэш: 962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5, Id пользователя: 2
2023-02-07 15:39:53,980 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:53,991 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:39:53,996 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:39:53,997 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 2 и лимиту вывода: 3
2023-02-07 15:39:54,048 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 2 и лимиту вывода: 3 найдены | Список файлов: [FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}]
2023-02-07 15:40:03,883 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:03,893 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:03,923 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:21,497 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:21,502 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:21,509 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Запрос файла для скачивания с сервера: Презентация_по_дипломному_блоку.pdf
2023-02-07 15:40:21,514 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в базе данных по имени файла: Презентация_по_дипломному_блоку.pdf и Id пользователя: 2
2023-02-07 15:40:21,558 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Загрузка файла: Презентация_по_дипломному_блоку.pdf из базы данных. Id пользователя: 2
2023-02-07 15:40:28,129 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:28,134 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:28,148 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Пользователь начал процедуру выхода из системы: UserEntity(id=2, login=User, password=$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq, role=ROLE_USER, roles=[ROLE_USER], fileList=[FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}])
2023-02-07 15:40:28,196 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Токен пользователя: UserEntity(id=2, login=User, password=$2a$12$L/60e15uj8ZFqTldPHFJo.v3Tlyf4MXtTmPesF0rvWCRnrpiE5ggq, role=ROLE_USER, roles=[ROLE_USER], fileList=[FileEntity{id=1, fileName='Презентация_по_дипломному_блоку.pdf', fileType='application/pdf', hash='962b3cb27efac9c4633e4b5f349802834d9d4e8423e26517544c5b08025e43f5', size=525399, userId=2}]) удален из списка активных токеннов. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:28,196 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: User успешно вышел из системы. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIyIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTc3MzU4MiwibmJmIjoxNjc1NzczNTgyLCJleHAiOjE2NzU3NzUzODIsInJvbGVzIjpbIlJPTEVfVVNFUiJdfQ.Rzk28f-sV3fy4rG21HAwWtPdN7OM3yvcCvkjywTNjgk
2023-02-07 15:40:39,009 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=Admin, password=admin)
2023-02-07 15:40:39,010 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: Admin
2023-02-07 15:40:39,404 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc добавлен в список активных токеннов
2023-02-07 15:40:39,404 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=Admin, password=admin) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:39,463 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:39,467 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:39,473 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:40:39,475 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 15:40:39,480 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 15:40:46,268 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:46,276 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:46,298 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Иерархия исключений Spring Security.jpg
2023-02-07 15:40:46,300 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Иерархия исключений Spring Security.jpg и идентификатору 1
2023-02-07 15:40:46,307 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-07 15:40:46,309 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e
2023-02-07 15:40:46,311 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e
2023-02-07 15:40:46,315 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e не существует
2023-02-07 15:40:46,315 INFO [http-nio-8888-exec-7] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Иерархия исключений Spring Security.jpg, хэш: b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e, Id пользователя: 1
2023-02-07 15:40:48,366 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:48,373 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:48,378 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:40:48,379 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 15:40:48,392 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: [FileEntity{id=2, fileName='Иерархия исключений Spring Security.jpg', fileType='image/jpeg', hash='b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e', size=88777, userId=1}]
2023-02-07 15:40:56,500 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:56,505 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:56,509 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.FileController: Запрос файла для удаления на сервере: Иерархия исключений Spring Security.jpg
2023-02-07 15:40:56,511 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Поиск файла для удаления в базе данных по имени файла: Иерархия исключений Spring Security.jpg и Id пользователя: 1
2023-02-07 15:40:56,528 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.FileService: Удаление файла из базы данных по имени файла: FileEntity{id=2, fileName='Иерархия исключений Spring Security.jpg', fileType='image/jpeg', hash='b97d195c9c5783758f2d539b6a0b13464585a7e38a571bc31fa8f93a71755a5e', size=88777, userId=1} и Id пользователя: 1
2023-02-07 15:40:58,608 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:58,615 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:40:58,622 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-07 15:40:58,623 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-07 15:40:58,632 INFO [http-nio-8888-exec-3] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-07 15:41:01,538 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:41:01,543 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:41:01,555 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.AuthenticationService: Пользователь начал процедуру выхода из системы: UserEntity(id=1, login=Admin, password=$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2, role=ROLE_ADMIN, roles=[ROLE_ADMIN], fileList=[])
2023-02-07 15:41:01,564 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.AuthenticationService: Токен пользователя: UserEntity(id=1, login=Admin, password=$2a$12$r7xMVd69qrcro2y08lCfcuGCcALKFwpM11Y8CTslU6excYVc24eE2, role=ROLE_ADMIN, roles=[ROLE_ADMIN], fileList=[]) удален из списка активных токеннов. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:41:01,564 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: Admin успешно вышел из системы. Auth-token: Bearer eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiQWRtaW4iLCJpYXQiOjE2NzU3NzM2MzksIm5iZiI6MTY3NTc3MzYzOSwiZXhwIjoxNjc1Nzc1NDM5LCJyb2xlcyI6WyJST0xFX0FETUlOIl19.4LeQYM6t5EN_JWuc9dxiOe2JgLtz2YnCYPGPWTJs0Hc
2023-02-07 15:41:12,899 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 15:41:12,902 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 15:41:12,925 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 16:17:49,485 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 16:17:49 MSK 2023
2023-02-07 16:17:49,951 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1492 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 16:17:49,952 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 16:17:49,953 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 16:17:49,953 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 16:17:50,655 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:17:50,656 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 16:17:50,685 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:17:50,687 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:17:50,688 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-07 16:17:50,696 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:17:50,697 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 16:17:50,736 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.
2023-02-07 16:17:51,240 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 16:17:51,248 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 16:17:51,248 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 16:17:51,248 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 16:17:51,351 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 16:17:51,352 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1358 ms
2023-02-07 16:17:51,403 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 16:17:51,566 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 16:17:51,902 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 16:17:52,239 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 16:17:52,463 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 16:17:52,479 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 16:17:52,614 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 16:17:52,616 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-07 16:17:52,848 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 16:17:52,851 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 134ms
2023-02-07 16:17:52,874 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 16:17:52,877 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 16ms
2023-02-07 16:17:52,898 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 16:17:52,900 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-02-07 16:17:52,918 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 16:17:52,920 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 11ms
2023-02-07 16:17:52,935 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 16:17:53,005 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 16:17:53,045 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 16:17:53,176 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 16:17:53,260 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 16:17:53,805 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 16:17:53,813 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:17:54,215 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 961b0e91-f935-43a3-8bab-ed9aab4a189f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 16:17:54,307 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 16:17:54,510 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d60aa4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30942f54, org.springframework.security.web.context.SecurityContextPersistenceFilter@585718dd, org.springframework.security.web.header.HeaderWriterFilter@d426e01, org.springframework.web.filter.CorsFilter@11d557a5, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6347f9cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@268f126f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b5ce0f, org.springframework.security.web.session.SessionManagementFilter@7e8f97dd, org.springframework.security.web.access.ExceptionTranslationFilter@4b8c9729, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@282079b9]
2023-02-07 16:17:54,795 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 16:17:54,814 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 16:17:54,824 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.248 seconds (JVM running for 6.211)
2023-02-07 16:18:22,018 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:18:22,021 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 16:18:22,050 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 16:24:25,992 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 16:24:26,055 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 16:24:26,857 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 16:24:26,859 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 16:24:26,885 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 16:24:26,934 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 16:24:27,210 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T13:24:27.044629500Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 16:24:27,423 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 2dcfe6e6f311a950f063d666e8ba7b1f3d895c157c80930fd7417d726d4f08fc
2023-02-07 16:24:28,536 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.6361971S
2023-02-07 16:24:28,544 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 16:24:28,546 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 16:24:28,546 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 16:24:28,585 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 16:24:28,998 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: ddf6191cff1f8d783a700d680d44ac4886ecba6348bbf1f3ce232d9c394b8899
2023-02-07 16:24:29,610 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:56810/mysqlDataBase using query 'SELECT 1'
2023-02-07 16:24:47,832 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:56810/mysqlDataBase)
2023-02-07 16:24:47,833 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.2834109S
2023-02-07 16:24:47,836 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 16:24:47,885 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 1b6d6adaa60404d63e219eb3492afa68a715bc5ff8d39e3cd0bf89494f379cce
2023-02-07 16:24:56,000 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 16:24:56,002 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT8.1656174S
2023-02-07 16:24:56,124 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 16:24:56,140 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 16:24:56,473 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 16:24:56,501 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@2f4ba1ae, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1391af3b, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3762c4fc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@77ab22be, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@59fbb34, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1b6924cb, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3a8d467e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@141d3d43, org.springframework.test.context.event.EventPublishingTestExecutionListener@6ca372ef, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3ebe4ccc, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6ed043d3, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@135a8c6f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6419a0e1, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@280d4882, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@44af588b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@3d19d85, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@2ae62bb6]
2023-02-07 16:24:57,077 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 16:24:57,098 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 16064 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 16:24:57,100 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 16:24:57,101 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 16:24:58,464 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:24:58,466 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 16:24:58,516 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:24:58,518 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:24:58,520 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 0 JDBC repository interfaces.
2023-02-07 16:24:58,531 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:24:58,534 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 16:24:58,584 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 44 ms. Found 2 JPA repository interfaces.
2023-02-07 16:24:59,643 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 16:24:59,657 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 16:24:59,658 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 16:24:59,659 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 16:24:59,828 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 16:24:59,828 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2703 ms
2023-02-07 16:25:00,118 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 16:25:00,570 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 16:25:00,816 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 16:25:01,465 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 16:25:02,025 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 16:25:02,145 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 16:25:02,259 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 16:25:02,341 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 16:25:02,569 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 16:25:02,706 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 16:25:03,592 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 16:25:03,602 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:25:04,525 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 74abc638-778e-434b-8bb6-659a4b067b54

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 16:25:04,772 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 16:25:05,193 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30d4d6fb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fb8e8cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@5973d3ec, org.springframework.security.web.header.HeaderWriterFilter@6b886e86, org.springframework.web.filter.CorsFilter@4483e237, maluevartem.cloud_storage_backend.security.JWTFilter@686e7513, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57bd0b3c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10164e94, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6466e599, org.springframework.security.web.session.SessionManagementFilter@43c73b5c, org.springframework.security.web.access.ExceptionTranslationFilter@2a59a8fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@411c5fa2]
2023-02-07 16:25:05,834 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 16:25:05,877 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 56983 (http) with context path ''
2023-02-07 16:25:05,890 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.336 seconds (JVM running for 41.412)
2023-02-07 16:25:07,020 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@35ab67d4 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@591e3e5e, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f1720f8 testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@77b919a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7100dea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e642b88, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@784abd3e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@70972170, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1b68b9a4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@7e09bee]; rollback [true]
2023-02-07 16:25:07,642 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@35ab67d4 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@591e3e5e, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@6f1720f8 testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@77b919a3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7100dea, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7e642b88, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@784abd3e, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@70972170, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1b68b9a4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 16:25:08,097 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:25:08,100 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 16:25:08,130 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 16:36:00,792 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 16:36:00,857 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 16:36:01,598 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 16:36:01,601 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 16:36:01,625 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 16:36:01,659 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 16:36:01,935 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T13:36:01.767765000Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 16:36:02,136 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: fa4ada26fe5a04abee104dc11492d435e63b0ee7c1c1871e31cd70fe9a5a6dd0
2023-02-07 16:36:03,163 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.5250888S
2023-02-07 16:36:03,172 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 16:36:03,172 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 16:36:03,174 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 16:36:03,205 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 16:36:03,645 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: fd8c83fbf4290017556fffa511118d1b9acfe53e49d65c6524c9763a305b5846
2023-02-07 16:36:04,215 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:57164/mysqlDataBase using query 'SELECT 1'
2023-02-07 16:36:22,014 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:57164/mysqlDataBase)
2023-02-07 16:36:22,015 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT18.8386808S
2023-02-07 16:36:22,020 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 16:36:22,079 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 5bc91a41de9ceecfd3209b37ac67ffc9d2e4e33a51d590c2a2c2b66d8bf295aa
2023-02-07 16:36:28,959 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
)
2023-02-07 16:36:28,961 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT6.9419695S
2023-02-07 16:36:29,070 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 16:36:29,078 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 16:36:29,348 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 16:36:29,374 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@141d3d43, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@6ca372ef, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3ebe4ccc, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6ed043d3, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@135a8c6f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6419a0e1, org.springframework.test.context.transaction.TransactionalTestExecutionListener@280d4882, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@44af588b, org.springframework.test.context.event.EventPublishingTestExecutionListener@3d19d85, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2ae62bb6, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@68ed3f30, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@56b859a6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@590adb41, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@42aae04d, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@43bf5397, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@575e572f, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@58015e56]
2023-02-07 16:36:30,126 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 16:36:30,143 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 10480 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 16:36:30,147 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 16:36:30,148 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 16:36:31,526 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:36:31,529 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 16:36:31,579 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:36:31,581 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 16:36:31,583 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 46 ms. Found 0 JDBC repository interfaces.
2023-02-07 16:36:31,598 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 16:36:31,606 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 16:36:31,662 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2023-02-07 16:36:32,674 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 16:36:32,714 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 16:36:32,716 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 16:36:32,716 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 16:36:32,884 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 16:36:32,884 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2705 ms
2023-02-07 16:36:33,074 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 16:36:33,409 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 16:36:33,679 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 16:36:34,356 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 16:36:34,951 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 16:36:35,072 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 16:36:35,191 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 16:36:35,266 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 16:36:35,501 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 16:36:35,646 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 16:36:36,434 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 16:36:36,444 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:36:37,167 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 4045fd68-4635-4a8c-84f6-03c44ad38965

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 16:36:37,365 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 16:36:37,826 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dfe4788, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d1ef2fc, org.springframework.security.web.context.SecurityContextPersistenceFilter@3237522b, org.springframework.security.web.header.HeaderWriterFilter@53fd061d, org.springframework.web.filter.CorsFilter@4095ebff, maluevartem.cloud_storage_backend.security.JWTFilter@42ffbab6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@eb7d4ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@699794d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b2f8cf, org.springframework.security.web.session.SessionManagementFilter@473048f9, org.springframework.security.web.access.ExceptionTranslationFilter@4e885b9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@441e789e]
2023-02-07 16:36:38,405 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 16:36:38,433 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 57367 (http) with context path ''
2023-02-07 16:36:38,443 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.021 seconds (JVM running for 40.099)
2023-02-07 16:36:39,331 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@68fbad62 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@18bec5eb, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@7f2a5d5f testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@32e54a9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@151bf776, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f4c1e6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@bc042d5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@698fee9a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1b68b9a4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@4dbf902]; rollback [true]
2023-02-07 16:36:39,717 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@68fbad62 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@18bec5eb, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = org.springframework.web.client.HttpServerErrorException$InternalServerError: 500 : "{"timestamp":"2023-02-07T13:36:39.658+00:00","status":500,"error":"Internal Server Error","path":"/user/register"}", mergedContextConfiguration = [WebMergedContextConfiguration@7f2a5d5f testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@32e54a9d, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@151bf776, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@53f4c1e6, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@bc042d5, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@698fee9a, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@1b68b9a4], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 16:36:40,133 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 16:36:40,138 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 16:36:40,191 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 17:25:25,809 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 17:25:25,862 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 17:25:26,632 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 17:25:26,634 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 17:25:26,659 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 17:25:26,695 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 17:25:26,978 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T14:25:26.802244000Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 17:25:27,175 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 7a08f7039f2aafce2f1a1653767082745c70bb74a518d05529304280fa7603d7
2023-02-07 17:25:28,131 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.4599935S
2023-02-07 17:25:28,142 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 17:25:28,142 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 17:25:28,143 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 17:25:28,201 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 17:25:28,565 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 244187d8f83c81de73b94be5b1b704db2208668a269d2f4f9f76519db7d9dc44
2023-02-07 17:25:29,148 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:60962/mysqlDataBase using query 'SELECT 1'
2023-02-07 17:25:41,332 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 17:25:41 MSK 2023
2023-02-07 17:25:41,902 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 17:25:41,905 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 12948 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 17:25:41,907 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 17:25:41,907 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 17:25:42,811 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:25:42,812 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 17:25:42,848 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:25:42,850 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:25:42,851 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 34 ms. Found 0 JDBC repository interfaces.
2023-02-07 17:25:42,859 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:25:42,860 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 17:25:42,908 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-02-07 17:25:43,519 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 17:25:43,529 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 17:25:43,530 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 17:25:43,530 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 17:25:43,667 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 17:25:43,667 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1708 ms
2023-02-07 17:25:43,748 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 17:25:43,990 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 17:25:44,446 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 17:25:45,076 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 17:25:45,358 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:25:45,379 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:25:45,510 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 17:25:45,512 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-07 17:25:45,534 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 17:25:45,536 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 17:25:45,556 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 17:25:45,558 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 14ms
2023-02-07 17:25:45,586 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 17:25:45,589 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 23ms
2023-02-07 17:25:45,609 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 17:25:45,612 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 14ms
2023-02-07 17:25:45,813 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 17:25:45,879 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 17:25:45,928 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 17:25:46,064 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 17:25:46,161 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 17:25:46,773 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 17:25:46,781 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:25:47,244 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 9c682d23-6b70-4ff9-8695-ec92f77f905c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 17:25:47,357 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 17:25:47,582 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5471342, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e1003d9, org.springframework.security.web.context.SecurityContextPersistenceFilter@29dcad7e, org.springframework.security.web.header.HeaderWriterFilter@20a7ce0, org.springframework.web.filter.CorsFilter@4e9d1119, maluevartem.cloud_storage_backend.security.JWTFilter@22dc59b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@627cb3ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30bd6bc8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d1907fb, org.springframework.security.web.session.SessionManagementFilter@7afac89a, org.springframework.security.web.access.ExceptionTranslationFilter@1b1d93e9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@53bc6492]
2023-02-07 17:25:47,865 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 17:25:47,887 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 17:25:47,899 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.413 seconds (JVM running for 7.563)
2023-02-07 17:26:18,059 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:26:18,064 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 17:26:18,091 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 17:28:32,327 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 17:28:32,398 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 17:28:33,232 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 17:28:33,235 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 17:28:33,265 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 17:28:33,326 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 17:28:33,623 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T14:28:33.457720800Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 17:28:33,790 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 77bd577a4a778dc1ae48400a0c77936145ee08c5e20f2078f26d92cef8ad5ac1
2023-02-07 17:28:34,655 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.3781197S
2023-02-07 17:28:34,666 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 17:28:34,666 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 17:28:34,667 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 17:28:34,717 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 17:28:35,102 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 83068f9a651ec4c5c8fc1471e50b3a04096b40aec0a40354fd7a9ae552aac9a2
2023-02-07 17:28:35,722 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:61381/mysqlDataBase using query 'SELECT 1'
2023-02-07 17:28:54,585 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:61381/mysqlDataBase)
2023-02-07 17:28:54,586 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.915862S
2023-02-07 17:28:54,590 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 17:28:54,645 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: e0e8719b07519031aaf99e093e98d509cd49b58468f623e9066f53b7624a50cc
2023-02-07 17:29:03,054 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 17:29:03,057 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT8.4670298S
2023-02-07 17:29:03,164 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 17:29:03,171 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 17:29:03,453 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 17:29:03,481 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4483d35, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@204abeff, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4b4ee511, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1f67761b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@5a034157, org.springframework.test.context.support.DirtiesContextTestExecutionListener@2f4ba1ae, org.springframework.test.context.transaction.TransactionalTestExecutionListener@1391af3b, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@3762c4fc, org.springframework.test.context.event.EventPublishingTestExecutionListener@77ab22be, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@59fbb34, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@1b6924cb, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@3a8d467e, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@141d3d43, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@6ca372ef, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@3ebe4ccc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@6ed043d3, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@135a8c6f]
2023-02-07 17:29:04,027 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 17:29:04,035 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 7972 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 17:29:04,036 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 17:29:04,037 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 17:29:05,730 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:29:05,733 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 17:29:05,785 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:29:05,787 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:29:05,788 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 49 ms. Found 0 JDBC repository interfaces.
2023-02-07 17:29:05,801 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:29:05,804 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 17:29:05,848 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-02-07 17:29:06,874 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 17:29:06,890 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:29:06,891 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 17:29:06,892 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 17:29:07,317 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 17:29:07,317 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3252 ms
2023-02-07 17:29:07,510 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 17:29:07,844 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 17:29:08,082 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 17:29:08,852 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 17:29:09,319 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:29:09,473 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 17:29:09,593 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 17:29:09,679 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 17:29:09,902 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 17:29:10,036 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 17:29:10,871 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 17:29:10,883 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:29:11,606 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: ff3c3dce-2df9-4306-8edf-f16b4ba52425

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 17:29:11,819 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 17:29:12,484 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27dfd939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ec9d826, org.springframework.security.web.context.SecurityContextPersistenceFilter@53fd061d, org.springframework.security.web.header.HeaderWriterFilter@17d13926, org.springframework.web.filter.CorsFilter@6c1a9613, maluevartem.cloud_storage_backend.security.JWTFilter@3bdbf8d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@473048f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c4663ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dd17c0c, org.springframework.security.web.session.SessionManagementFilter@4e885b9, org.springframework.security.web.access.ExceptionTranslationFilter@1e7f312, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45b63133]
2023-02-07 17:29:13,249 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:29:13,290 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 61619 (http) with context path ''
2023-02-07 17:29:13,300 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.766 seconds (JVM running for 43.041)
2023-02-07 17:29:16,103 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:29:16,107 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 17:29:16,181 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 17:54:00,455 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 17:54:00,508 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 17:54:01,249 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 17:54:01,252 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 17:54:01,277 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 17:54:01,328 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 17:54:01,654 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T14:54:01.488070000Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 17:54:01,828 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 0cead52739429cbe8b0ad52a9f06e712899bbb9a415fffcfe581984c92d156b7
2023-02-07 17:54:02,992 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.6976085S
2023-02-07 17:54:03,011 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 17:54:03,012 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 17:54:03,013 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 17:54:03,151 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 17:54:03,618 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 36e87cc4574fdca022bdd4a87614062e66fb66c15034f1dbd71794870997b416
2023-02-07 17:54:04,547 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:63238/mysqlDataBase using query 'SELECT 1'
2023-02-07 17:54:24,016 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:63238/mysqlDataBase)
2023-02-07 17:54:24,018 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT20.9957933S
2023-02-07 17:54:24,021 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 17:54:24,064 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 44242c4176954622f9ae4465a86263918180f211f00dfbcbe8c01d9bc91f9ccd
2023-02-07 17:54:30,648 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 17:54:30,650 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT6.6298706S
2023-02-07 17:54:30,784 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 17:54:30,789 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 17:54:31,148 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 17:54:31,182 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@590adb41, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@42aae04d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@43bf5397, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@575e572f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58015e56, org.springframework.test.context.support.DirtiesContextTestExecutionListener@4d3c6593, org.springframework.test.context.transaction.TransactionalTestExecutionListener@7426a448, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@516462cc, org.springframework.test.context.event.EventPublishingTestExecutionListener@3456558, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@2dfb885e, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6cbe7d4d, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@1e3e1014, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3679d92e, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@47b11ec7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@58fa5769, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@36aa52d2, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4ee25d80]
2023-02-07 17:54:31,731 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 17:54:31,741 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 2740 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 17:54:31,743 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 17:54:31,744 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 17:54:32,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:54:32,737 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 17:54:32,783 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:54:32,785 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:54:32,786 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 43 ms. Found 0 JDBC repository interfaces.
2023-02-07 17:54:32,801 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:54:32,804 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 17:54:32,847 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-02-07 17:54:33,844 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 17:54:33,857 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:54:33,858 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 17:54:33,859 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 17:54:34,009 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 17:54:34,010 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2238 ms
2023-02-07 17:54:34,236 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 17:54:34,532 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 17:54:34,766 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 17:54:35,431 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 17:54:35,848 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:54:35,865 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:54:36,036 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 17:54:36,039 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-07 17:54:36,079 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 17:54:36,081 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 29ms
2023-02-07 17:54:36,117 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 17:54:36,120 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 22ms
2023-02-07 17:54:36,145 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 17:54:36,147 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 19ms
2023-02-07 17:54:36,163 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 17:54:36,165 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 10ms
2023-02-07 17:54:36,177 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 17:54:36,293 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 17:54:36,392 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 17:54:36,623 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 17:54:36,779 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 17:54:37,662 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 17:54:37,673 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:54:38,396 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 1f8646a1-4e8a-4a65-89c8-bef9f4bbf727

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 17:54:38,582 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 17:54:38,996 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4cb42a5a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a131edc, org.springframework.security.web.context.SecurityContextPersistenceFilter@1f94e1, org.springframework.security.web.header.HeaderWriterFilter@319e02e7, org.springframework.web.filter.CorsFilter@6dfe4788, maluevartem.cloud_storage_backend.security.JWTFilter@5cbe72b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@49a2e86e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3566d527, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d1ef2fc, org.springframework.security.web.session.SessionManagementFilter@3237522b, org.springframework.security.web.access.ExceptionTranslationFilter@53fd061d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6c1a9613]
2023-02-07 17:54:39,583 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:54:39,617 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 63441 (http) with context path ''
2023-02-07 17:54:39,626 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 8.399 seconds (JVM running for 40.836)
2023-02-07 17:54:39,659 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@74eebb25 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@6a636c62, testMethod = loginAppTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c1e7bea testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@56da7487, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2f2bff16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7efb53af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@36480b2d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@715b886f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d5822bc]; rollback [true]
2023-02-07 17:54:39,897 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@74eebb25 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@6a636c62, testMethod = loginAppTest@CloudStorageBackendApplicationContainerTest, testException = org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8888/login": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect, mergedContextConfiguration = [WebMergedContextConfiguration@c1e7bea testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@56da7487, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2f2bff16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7efb53af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@36480b2d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@715b886f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 17:54:40,026 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@74eebb25 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@3a7f9efc, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@c1e7bea testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@56da7487, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2f2bff16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7efb53af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@36480b2d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@715b886f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@5d5822bc]; rollback [true]
2023-02-07 17:54:40,123 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@74eebb25 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@3a7f9efc, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8888/user/register": Connection refused: connect; nested exception is java.net.ConnectException: Connection refused: connect, mergedContextConfiguration = [WebMergedContextConfiguration@c1e7bea testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@56da7487, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2f2bff16, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@7efb53af, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@36480b2d, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@715b886f, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 17:54:40,673 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:54:40,676 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 17:54:40,718 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 17:54:47,300 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 17:54:47 MSK 2023
2023-02-07 17:54:47,792 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 4044 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 17:54:47,793 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 17:54:47,794 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 17:54:47,794 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 17:54:48,539 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:54:48,540 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 17:54:48,567 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:54:48,569 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:54:48,570 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-02-07 17:54:48,577 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:54:48,577 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 17:54:48,608 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 17:54:49,163 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 17:54:49,172 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 17:54:49,173 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 17:54:49,173 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 17:54:49,291 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 17:54:49,291 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1459 ms
2023-02-07 17:54:49,367 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 17:54:49,564 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 17:54:49,904 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 17:54:50,312 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 17:54:50,699 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:54:50,807 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 17:54:50,865 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 17:54:50,918 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 17:54:51,058 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 17:54:51,199 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 17:54:51,994 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 17:54:52,003 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:54:52,557 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: d4f9ed57-8716-4bef-aded-07932be73436

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 17:54:52,774 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 17:54:52,987 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59e67a18, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37289e90, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c98eaa9, org.springframework.security.web.header.HeaderWriterFilter@4e22dadb, org.springframework.web.filter.CorsFilter@f461c9c, maluevartem.cloud_storage_backend.security.JWTFilter@32f5ecc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1930e8ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1299fed3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40477d52, org.springframework.security.web.session.SessionManagementFilter@1a916120, org.springframework.security.web.access.ExceptionTranslationFilter@7aad7df5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4e2ad1f2]
2023-02-07 17:54:53,297 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 17:54:53,318 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 17:54:53,329 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.931 seconds (JVM running for 7.106)
2023-02-07 17:56:46,143 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:56:46,157 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 17:56:46,192 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 17:57:58,300 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 17:57:58,390 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 17:57:59,166 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 17:57:59,168 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 17:57:59,192 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 17:57:59,229 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 17:57:59,495 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T14:57:59.320783100Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 17:57:59,641 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 8ceea4d6c2bf2cf2c6bf5f6abfeaa0037af4e3fe89772faee4787e79eaf58e34
2023-02-07 17:58:00,586 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.3809013S
2023-02-07 17:58:00,615 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 17:58:00,615 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 17:58:00,616 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 17:58:00,974 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 17:58:01,207 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 9827e696e50014b9d801690832745e445899822de6fac0db7a2f7a69ffed4941
2023-02-07 17:58:01,853 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:63689/mysqlDataBase using query 'SELECT 1'
2023-02-07 17:58:24,510 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:63689/mysqlDataBase)
2023-02-07 17:58:24,513 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT23.891006S
2023-02-07 17:58:24,517 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 17:58:24,580 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 17e9cbe41441f3d0a87ff597fabb9c36eb32dc6366e112fac31d3dd796fabc7d
2023-02-07 17:58:32,818 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 17:58:32,822 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT8.3051588S
2023-02-07 17:58:32,962 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 17:58:32,982 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 17:58:33,361 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 17:58:33,396 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@56b859a6, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@590adb41, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@42aae04d, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@43bf5397, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@575e572f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@58015e56, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4d3c6593, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@7426a448, org.springframework.test.context.event.EventPublishingTestExecutionListener@516462cc, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@3456558, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@2dfb885e, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6cbe7d4d, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1e3e1014, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@3679d92e, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@47b11ec7, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@58fa5769, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@36aa52d2]
2023-02-07 17:58:34,047 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 17:58:34,071 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 16240 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 17:58:34,072 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 17:58:34,073 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 17:58:36,431 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:58:36,434 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 17:58:36,503 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:58:36,506 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 17:58:36,508 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 65 ms. Found 0 JDBC repository interfaces.
2023-02-07 17:58:36,527 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 17:58:36,530 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 17:58:36,591 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 51 ms. Found 2 JPA repository interfaces.
2023-02-07 17:58:37,838 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 17:58:37,895 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:58:37,897 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 17:58:37,898 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 17:58:38,115 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 17:58:38,116 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 4016 ms
2023-02-07 17:58:38,365 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 17:58:39,051 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 17:58:39,883 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 17:58:40,719 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 17:58:41,497 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 17:58:41,660 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 17:58:41,790 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 17:58:41,878 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 17:58:42,205 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 17:58:42,447 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 17:58:43,383 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 17:58:43,394 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:58:44,164 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7ccb59c6-351a-47b9-b006-494448fec518

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 17:58:44,453 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 17:58:44,888 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32089590, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45b63133, org.springframework.security.web.context.SecurityContextPersistenceFilter@7fb539df, org.springframework.security.web.header.HeaderWriterFilter@32b273c1, org.springframework.web.filter.CorsFilter@2c1eba2e, maluevartem.cloud_storage_backend.security.JWTFilter@5ec6a1b6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@417c9b17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17d13926, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25c6f0fc, org.springframework.security.web.session.SessionManagementFilter@420307f9, org.springframework.security.web.access.ExceptionTranslationFilter@52ebacbf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5a41183b]
2023-02-07 17:58:45,586 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 17:58:45,625 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 63933 (http) with context path ''
2023-02-07 17:58:45,637 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 12.185 seconds (JVM running for 49.068)
2023-02-07 17:58:45,695 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@4b0a6c53 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@2108d503, testMethod = loginAppTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@15beb40b testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70887727, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4745e9c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37df14d1, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@53b7ce6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@56dfab87, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@418f3cde]; rollback [true]
2023-02-07 17:58:46,642 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@4b0a6c53 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@2108d503, testMethod = loginAppTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@15beb40b testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70887727, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4745e9c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37df14d1, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@53b7ce6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@56dfab87, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 17:58:46,657 INFO [main] org.springframework.test.context.transaction.TransactionContext: Began transaction (1) for test context [DefaultTestContext@4b0a6c53 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@645f3e8b, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@15beb40b testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70887727, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4745e9c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37df14d1, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@53b7ce6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@56dfab87, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@418f3cde]; rollback [true]
2023-02-07 17:58:47,306 INFO [main] org.springframework.test.context.transaction.TransactionContext: Rolled back transaction for test: [DefaultTestContext@4b0a6c53 testClass = CloudStorageBackendApplicationContainerTest, testInstance = maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest@645f3e8b, testMethod = registerUserTest@CloudStorageBackendApplicationContainerTest, testException = [null], mergedContextConfiguration = [WebMergedContextConfiguration@15beb40b testClass = CloudStorageBackendApplicationContainerTest, locations = '{}', classes = '{class maluevartem.cloud_storage_backend.CloudStorageBackendApplication}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true, server.port=0}', contextCustomizers = set[org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70887727, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4745e9c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@37df14d1, org.springframework.boot.test.autoconfigure.actuate.metrics.MetricsExportContextCustomizerFactory$DisableMetricExportContextCustomizer@53b7ce6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@56dfab87, org.springframework.boot.test.context.SpringBootTestArgs@1, org.springframework.boot.test.context.SpringBootTestWebEnvironment@448ff1a8], resourceBasePath = 'src/main/webapp', contextLoader = 'org.springframework.boot.test.context.SpringBootContextLoader', parent = [null]], attributes = map['org.springframework.test.context.web.ServletTestExecutionListener.activateListener' -> false, 'org.springframework.test.context.event.ApplicationEventsTestExecutionListener.recordApplicationEvents' -> false]]
2023-02-07 17:58:47,710 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 17:58:47,714 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 17:58:47,769 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 18:11:42,134 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 18:11:42,203 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 18:11:42,950 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 18:11:42,952 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 18:11:42,977 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 18:11:43,018 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 18:11:43,319 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T15:11:43.137257600Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 18:11:43,497 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: c54e72d448fb4601192404749bfcd510bd73336eca86db591bc0e98e263fd7f0
2023-02-07 18:11:44,385 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.3892207S
2023-02-07 18:11:44,394 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 18:11:44,394 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 18:11:44,396 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 18:11:44,429 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 18:11:44,790 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: b15a502d633a7046567383076c01b42c9797cea2619805bfb242c68e04e97cb4
2023-02-07 18:11:45,425 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:64768/mysqlDataBase using query 'SELECT 1'
2023-02-07 18:12:04,991 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:64768/mysqlDataBase)
2023-02-07 18:12:04,992 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT20.5920342S
2023-02-07 18:12:05,002 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 18:12:05,253 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 01acb84761058d8f03e3647e27d24d697b3fb6c97ffbb3caa97a572a57baee8e
2023-02-07 18:12:13,929 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 18:12:13,931 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT8.9299046S
2023-02-07 18:12:14,037 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 18:12:14,059 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 18:12:14,344 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 18:12:14,370 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@77ab22be, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@59fbb34, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@1b6924cb, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@3a8d467e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@141d3d43, org.springframework.test.context.support.DirtiesContextTestExecutionListener@6ca372ef, org.springframework.test.context.transaction.TransactionalTestExecutionListener@3ebe4ccc, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6ed043d3, org.springframework.test.context.event.EventPublishingTestExecutionListener@135a8c6f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6419a0e1, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@280d4882, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@44af588b, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@3d19d85, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@2ae62bb6, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@68ed3f30, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@56b859a6, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@590adb41]
2023-02-07 18:12:14,850 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 18:12:14,869 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 9572 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 18:12:14,871 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 18:12:14,872 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 18:12:16,398 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:12:16,401 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 18:12:16,582 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:12:16,598 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:12:16,637 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 220 ms. Found 0 JDBC repository interfaces.
2023-02-07 18:12:16,665 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:12:16,668 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 18:12:16,721 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2023-02-07 18:12:17,858 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 18:12:17,874 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:12:17,875 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 18:12:17,875 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 18:12:18,021 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 18:12:18,021 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3118 ms
2023-02-07 18:12:18,279 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 18:12:18,635 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 18:12:18,892 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 18:12:19,569 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 18:12:20,056 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 18:12:20,286 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 18:12:20,464 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 18:12:20,565 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 18:12:20,787 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 18:12:20,960 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 18:12:21,803 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 18:12:21,814 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:12:22,597 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 9e8190e2-ccf1-451b-b95e-65e476acc9e5

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 18:12:22,835 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 18:12:23,289 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ec9d826, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c1a9613, org.springframework.security.web.context.SecurityContextPersistenceFilter@4e885b9, org.springframework.security.web.header.HeaderWriterFilter@1e7f312, org.springframework.web.filter.CorsFilter@1dd17c0c, maluevartem.cloud_storage_backend.security.JWTFilter@a63643e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4447c594, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c255e8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@441e789e, org.springframework.security.web.session.SessionManagementFilter@2c3d46d6, org.springframework.security.web.access.ExceptionTranslationFilter@745d399a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2c1eba2e]
2023-02-07 18:12:23,934 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:12:23,971 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 64989 (http) with context path ''
2023-02-07 18:12:23,981 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.562 seconds (JVM running for 43.41)
2023-02-07 18:12:25,833 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:12:25,838 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 18:12:25,871 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 18:14:24,672 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 18:14:24,735 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 18:14:25,537 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 18:14:25,540 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 18:14:25,568 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 18:14:25,609 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 18:14:25,912 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T15:14:25.739494500Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 18:14:26,062 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 42bae71242ee3aaa5da997dbde897ef500c65538d1054cdf4238a736a0c01e99
2023-02-07 18:14:26,909 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.3283532S
2023-02-07 18:14:26,920 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 18:14:26,921 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 18:14:26,922 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 18:14:26,960 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 18:14:27,492 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: bb9e15ff693c716a7b6272fbb2df35b1c6ff54727311d24192577422935adb42
2023-02-07 18:14:28,067 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:65123/mysqlDataBase using query 'SELECT 1'
2023-02-07 18:14:54,107 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:65123/mysqlDataBase)
2023-02-07 18:14:54,108 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT27.1808771S
2023-02-07 18:14:54,111 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 18:14:54,158 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 06888dd9d9b30ec55b63bba736f3ecf8f6a6f01bee8143d6a1459b8dc78bd5b3
2023-02-07 18:15:01,546 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 18:15:01,548 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.4366477S
2023-02-07 18:15:01,659 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 18:15:01,665 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 18:15:02,003 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 18:15:02,115 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@1e1b061, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@38f77cd9, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4a8e6e89, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@6fbb4061, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@63d5874f, org.springframework.test.context.support.DirtiesContextTestExecutionListener@60c73e58, org.springframework.test.context.transaction.TransactionalTestExecutionListener@5984feef, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6c0905f6, org.springframework.test.context.event.EventPublishingTestExecutionListener@23a918c7, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@7a45d714, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@4483d35, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@204abeff, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@4b4ee511, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@1f67761b, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@5a034157, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2f4ba1ae, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1391af3b]
2023-02-07 18:15:02,571 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 18:15:02,589 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 5400 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 18:15:02,591 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 18:15:02,592 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 18:15:04,124 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:15:04,127 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 18:15:04,184 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:15:04,188 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:15:04,190 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 54 ms. Found 0 JDBC repository interfaces.
2023-02-07 18:15:04,215 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:15:04,218 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 18:15:04,289 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2023-02-07 18:15:05,523 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 18:15:05,544 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:15:05,546 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 18:15:05,548 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 18:15:05,739 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 18:15:05,740 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 3122 ms
2023-02-07 18:15:05,937 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 18:15:06,352 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 18:15:06,599 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 18:15:07,274 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 18:15:07,850 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 18:15:08,049 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 18:15:08,188 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 18:15:08,305 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 18:15:08,603 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 18:15:08,744 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 18:15:09,590 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 18:15:09,601 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:15:10,292 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7647f03d-3b95-407f-bf2b-200e49f76e3d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 18:15:10,525 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 18:15:11,102 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f43c73a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@19d483dc, org.springframework.security.web.context.SecurityContextPersistenceFilter@69959ea5, org.springframework.security.web.header.HeaderWriterFilter@60dd53e9, org.springframework.web.filter.CorsFilter@18a693de, maluevartem.cloud_storage_backend.security.JWTFilter@43294e9b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5796ae15, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@123372f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71120f9a, org.springframework.security.web.session.SessionManagementFilter@ad7cc49, org.springframework.security.web.access.ExceptionTranslationFilter@35f79e6d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@61defefb]
2023-02-07 18:15:11,957 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:15:12,014 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 65406 (http) with context path ''
2023-02-07 18:15:12,082 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.923 seconds (JVM running for 48.902)
2023-02-07 18:15:13,770 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:15:13,777 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 18:15:13,833 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 18:16:38,443 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 18:16:38,504 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 18:16:39,229 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 18:16:39,231 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 18:16:39,258 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 18:16:39,292 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 18:16:39,568 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T15:16:39.397030300Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 18:16:39,725 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: df6a2e7cb0cd72c7e6b38598afa5b1897d2e70a3befd4bddcaa38037f0d03cb9
2023-02-07 18:16:40,538 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.2676856S
2023-02-07 18:16:40,557 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 18:16:40,558 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 18:16:40,559 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 18:16:41,555 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 18:16:41,734 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 9bbca32702256ad944c3c1fadb50b0ba7454bb6dd8b79ffd2f806743613351cb
2023-02-07 18:16:42,353 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:65509/mysqlDataBase using query 'SELECT 1'
2023-02-07 18:17:01,446 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:65509/mysqlDataBase)
2023-02-07 18:17:01,447 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT20.8840647S
2023-02-07 18:17:01,450 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 18:17:01,495 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: a2d1ef85765a8c2103c6db2d4cb61968040dc2a0c94db91235bfd621ec21b721
2023-02-07 18:17:08,903 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 18:17:08,905 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.4563975S
2023-02-07 18:17:09,009 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 18:17:09,016 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 18:17:09,348 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 18:17:09,374 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38f77cd9, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@4a8e6e89, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@6fbb4061, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@63d5874f, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@60c73e58, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5984feef, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6c0905f6, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@23a918c7, org.springframework.test.context.event.EventPublishingTestExecutionListener@7a45d714, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4483d35, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@204abeff, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@4b4ee511, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@1f67761b, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5a034157, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2f4ba1ae, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@1391af3b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@3762c4fc]
2023-02-07 18:17:09,802 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 18:17:09,817 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 14552 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 18:17:09,819 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 18:17:09,821 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 18:17:11,167 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:17:11,171 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 18:17:11,243 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:17:11,246 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:17:11,248 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 69 ms. Found 0 JDBC repository interfaces.
2023-02-07 18:17:11,261 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:17:11,263 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 18:17:11,315 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2023-02-07 18:17:12,584 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 18:17:12,610 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:17:12,611 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 18:17:12,613 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 18:17:12,830 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 18:17:12,831 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2977 ms
2023-02-07 18:17:13,029 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 18:17:13,377 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 18:17:13,663 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 18:17:14,399 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 18:17:14,929 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 18:17:15,089 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 18:17:15,223 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 18:17:15,305 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 18:17:15,577 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 18:17:15,734 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 18:17:16,792 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 18:17:16,801 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:17:17,688 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 977cbe85-f780-4c33-98b9-b1454ee2ba9c

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 18:17:18,155 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 18:17:18,775 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1dd17c0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@441e789e, org.springframework.security.web.context.SecurityContextPersistenceFilter@296c0293, org.springframework.security.web.header.HeaderWriterFilter@511cc6fc, org.springframework.web.filter.CorsFilter@74a680d3, maluevartem.cloud_storage_backend.security.JWTFilter@6143b2b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c4663ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35f79e6d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cb42a5a, org.springframework.security.web.session.SessionManagementFilter@1a6e940b, org.springframework.security.web.access.ExceptionTranslationFilter@10387d6d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@531455c1]
2023-02-07 18:17:19,440 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:17:19,481 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 49335 (http) with context path ''
2023-02-07 18:17:19,491 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 10.072 seconds (JVM running for 42.445)
2023-02-07 18:17:20,803 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:17:20,805 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 18:17:20,825 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 18:19:01,366 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 18:19:01,414 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 18:19:02,152 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 18:19:02,155 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 18:19:02,177 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 18:19:02,210 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 18:19:02,477 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T15:19:02.307725800Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 18:19:02,625 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 8063035de51c49935f24741bb3a2a9e574768daf2d820b0cf1ff71ba56c2fbe2
2023-02-07 18:19:03,493 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.3026938S
2023-02-07 18:19:03,503 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 18:19:03,503 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 18:19:03,504 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 18:19:03,536 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 18:19:03,749 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: d15a2d6bea40939f9fa7ebbc25eecc175572cc510b8b8214fc460972f854ce6a
2023-02-07 18:19:04,475 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:49457/mysqlDataBase using query 'SELECT 1'
2023-02-07 18:19:23,154 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:49457/mysqlDataBase)
2023-02-07 18:19:23,156 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.6484088S
2023-02-07 18:19:23,160 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 18:19:23,243 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: d35022e08470d38aadaee11a3118c2ddfe86f4759edde7a7df30f1fade714b8f
2023-02-07 18:19:30,608 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 18:19:30,610 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.4497979S
2023-02-07 18:19:30,719 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 18:19:30,729 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 18:19:30,995 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 18:19:31,019 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@38830ea, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@3b705be7, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3a790e40, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@43acd79e, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@1e1b061, org.springframework.test.context.support.DirtiesContextTestExecutionListener@38f77cd9, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4a8e6e89, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@6fbb4061, org.springframework.test.context.event.EventPublishingTestExecutionListener@63d5874f, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@60c73e58, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@5984feef, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@6c0905f6, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@23a918c7, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@7a45d714, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@4483d35, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@204abeff, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@4b4ee511]
2023-02-07 18:19:31,469 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 18:19:31,472 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 13856 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 18:19:31,473 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 18:19:31,478 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 18:19:32,610 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:19:32,612 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 18:19:32,665 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:19:32,668 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 18:19:32,669 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 49 ms. Found 0 JDBC repository interfaces.
2023-02-07 18:19:32,682 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 18:19:32,684 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 18:19:32,742 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 52 ms. Found 2 JPA repository interfaces.
2023-02-07 18:19:34,253 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 18:19:34,270 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:19:34,271 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 18:19:34,272 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 18:19:34,453 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 18:19:34,453 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2948 ms
2023-02-07 18:19:34,670 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 18:19:35,064 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 18:19:35,285 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 18:19:35,831 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 18:19:36,366 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 18:19:36,495 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 18:19:36,618 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 18:19:36,687 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 18:19:36,999 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 18:19:37,137 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 18:19:37,945 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 18:19:37,955 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:19:38,705 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7d4b060c-e37d-423d-8684-53064e5ea937

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 18:19:38,992 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 18:19:39,439 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@627a1c77, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1acfb04c, org.springframework.security.web.context.SecurityContextPersistenceFilter@7887e1f3, org.springframework.security.web.header.HeaderWriterFilter@340fd670, org.springframework.web.filter.CorsFilter@a683f92, maluevartem.cloud_storage_backend.security.JWTFilter@6143b2b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@745d399a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3392d69b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fb9dab6, org.springframework.security.web.session.SessionManagementFilter@7153995c, org.springframework.security.web.access.ExceptionTranslationFilter@e30573c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@798ac54d]
2023-02-07 18:19:40,165 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 18:19:40,195 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 49673 (http) with context path ''
2023-02-07 18:19:40,205 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.142 seconds (JVM running for 40.253)
2023-02-07 18:19:41,693 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 18:19:41,698 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 18:19:41,736 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:26:38,795 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:26:38,860 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:26:39,665 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:26:39,667 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:26:39,726 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:26:39,785 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:26:40,092 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:26:39.928802900Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:26:40,250 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: da90f62dabf97d790bd50bc51ee76daf3ce29c099909d4910157902ef8af8baf
2023-02-07 19:26:41,994 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT2.249264S
2023-02-07 19:26:42,004 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:26:42,005 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:26:42,006 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:26:42,043 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:26:42,519 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: f516c1d69322f326cf75b7868e8ec29dba089dcd83a0dbe5fe2ae59a9bc2c42e
2023-02-07 19:26:43,044 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:53393/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:27:01,577 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:53393/mysqlDataBase)
2023-02-07 19:27:01,578 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.5668589S
2023-02-07 19:27:01,581 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:27:01,649 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: d852feb0897cc2a2043b0832ecf5e571cfdf2737035855f9002b4cff74da026a
2023-02-07 19:27:11,666 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 19:27:11,758 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT10.1763792S
2023-02-07 19:27:11,900 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 19:27:11,924 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 19:27:12,193 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 19:27:12,218 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@6cbe7d4d, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1e3e1014, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@3679d92e, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@47b11ec7, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@58fa5769, org.springframework.test.context.support.DirtiesContextTestExecutionListener@36aa52d2, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4ee25d80, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@16a35bd, org.springframework.test.context.event.EventPublishingTestExecutionListener@ba17be6, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@6f798482, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@332bcab0, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@633cc6b5, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@6342ff7f, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@403c3a01, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@2daf06fc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@28237492, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@5ceecfee]
2023-02-07 19:27:12,722 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:27:12,734 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 2296 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:27:12,735 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:27:12,736 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:27:14,017 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:27:14,019 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:27:14,073 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:27:14,075 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:27:14,076 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 50 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:27:14,088 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:27:14,092 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:27:14,133 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-02-07 19:27:15,393 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 19:27:15,407 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:27:15,408 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:27:15,409 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:27:15,581 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:27:15,582 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2817 ms
2023-02-07 19:27:15,803 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:27:16,118 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:27:16,354 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:27:16,944 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:27:17,562 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:27:17,691 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:27:17,814 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:27:17,917 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:27:18,173 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:27:18,349 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:27:19,241 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:27:19,255 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:27:19,978 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 4ba9282b-afb1-4f5e-98b6-db5b505bd7f0

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:27:20,209 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:27:20,659 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4115b8a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39889671, org.springframework.security.web.context.SecurityContextPersistenceFilter@10387d6d, org.springframework.security.web.header.HeaderWriterFilter@199d1fb7, org.springframework.web.filter.CorsFilter@6b5ad1bb, maluevartem.cloud_storage_backend.security.JWTFilter@5fb514c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@127c5f20, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@417c9b17, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b4e5982, org.springframework.security.web.session.SessionManagementFilter@3392d69b, org.springframework.security.web.access.ExceptionTranslationFilter@3b256d50, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@18e7b33e]
2023-02-07 19:27:21,281 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:27:21,331 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 53877 (http) with context path ''
2023-02-07 19:27:21,340 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.075 seconds (JVM running for 44.059)
2023-02-07 19:27:22,501 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:27:22,504 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:27:22,537 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:33:29,005 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 19:33:29 MSK 2023
2023-02-07 19:33:29,699 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:33:29,700 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1096 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:33:29,701 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:33:29,702 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:33:30,480 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:33:30,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:33:30,511 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:33:30,513 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:33:30,514 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:33:30,521 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:33:30,521 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:33:30,551 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 19:33:31,484 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 19:33:31,494 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 19:33:31,495 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:33:31,495 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:33:31,637 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:33:31,637 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1896 ms
2023-02-07 19:33:31,702 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:33:32,291 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:33:32,674 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:33:33,020 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:33:33,216 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:33:33,240 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:33:33,400 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 19:33:33,403 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 22ms
2023-02-07 19:33:33,430 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 19:33:33,432 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 18ms
2023-02-07 19:33:33,463 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 19:33:33,466 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 24ms
2023-02-07 19:33:33,511 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 19:33:33,514 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 37ms
2023-02-07 19:33:33,539 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 19:33:33,540 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 11ms
2023-02-07 19:33:33,554 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:33:33,607 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:33:33,652 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:33:33,805 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:33:33,894 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:33:34,484 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:33:34,493 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:33:34,986 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 7fdeaf0e-1a33-4a58-8a64-541e7a08e87a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:33:35,101 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:33:35,335 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f2a0909, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34947355, org.springframework.security.web.context.SecurityContextPersistenceFilter@5a644d75, org.springframework.security.web.header.HeaderWriterFilter@44b5b54, org.springframework.web.filter.CorsFilter@62ad5f35, maluevartem.cloud_storage_backend.security.JWTFilter@7bc6935c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@268f126f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@467e7793, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e6ad84c, org.springframework.security.web.session.SessionManagementFilter@183435c0, org.springframework.security.web.access.ExceptionTranslationFilter@1ae26c59, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@30942f54]
2023-02-07 19:33:35,661 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 19:33:35,683 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 19:33:35,695 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.481 seconds (JVM running for 7.589)
2023-02-07 19:34:07,499 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:34:07,505 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:34:07,557 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:36:01,155 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:36:01,232 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:36:02,026 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:36:02,028 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:36:02,053 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:36:02,093 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:36:02,471 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:36:02.232725200Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:36:02,636 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 2b8dd60d360c79251c31a5be12b0492e9b60d5b509ec17eeee483e31627d29bc
2023-02-07 19:36:03,790 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.7216972S
2023-02-07 19:36:03,816 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:36:03,817 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:36:03,818 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:36:03,866 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:36:04,765 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: d8fb25c4671aadb050d1031e453120203dd240b7f10ed11b79506c6b8c2ae3ff
2023-02-07 19:36:05,528 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:56074/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:36:24,504 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:56074/mysqlDataBase)
2023-02-07 19:36:24,505 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT20.6821256S
2023-02-07 19:36:24,509 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:36:25,220 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 4bb6aaddc4bd18e10477763456e12fd30f08002db2840bdba2a463342c40a617
2023-02-07 19:36:33,124 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 19:36:33,223 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT8.7136998S
2023-02-07 19:37:51,845 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:37:51,887 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:37:52,564 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:37:52,566 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:37:52,590 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:37:52,627 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:37:52,873 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:37:52.714171400Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:37:53,009 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 77e38321a8e7400b29968bb619e150f3d92e2ee4f10c941ca95cf510c1250a64
2023-02-07 19:37:53,776 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.172135S
2023-02-07 19:37:53,847 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:37:53,847 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:37:53,848 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:37:53,882 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:37:54,229 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: de2c426a552ace97e2d2f4bd2a009a614a868a6530aa37d4f0b0fdf6ece1390b
2023-02-07 19:37:54,820 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:56629/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:38:14,154 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:56629/mysqlDataBase)
2023-02-07 19:38:14,155 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT20.3025449S
2023-02-07 19:38:14,158 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:38:14,215 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 323555d9e5ec00937017abf6cbebdf6e94bf04a5a33ae686c6acb81dc756f09a
2023-02-07 19:38:21,207 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 19:38:21,209 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.0510249S
2023-02-07 19:38:35,481 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:38:35,524 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:38:36,210 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:38:36,212 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:38:36,235 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:38:36,279 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:38:36,543 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:38:36.375288900Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:38:36,694 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 3fef2298409deab6a00d30576b411780a53d357ac4acac4ca9f56251ba764a4e
2023-02-07 19:38:37,484 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.2376266S
2023-02-07 19:38:37,496 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:38:37,496 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:38:37,497 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:38:37,533 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:38:37,783 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 0217cfd46bb12c29022bc2ad3434b48ea7616d9e576e0c6238a2339795c6ee32
2023-02-07 19:38:38,416 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:56971/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:38:56,776 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:56971/mysqlDataBase)
2023-02-07 19:38:56,777 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.2763884S
2023-02-07 19:38:56,782 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:38:56,867 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 4282728b236bdd89d93c6dbf000f97f3a4b1660d6f2e04d4c24284977da5016d
2023-02-07 19:39:03,130 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
)
2023-02-07 19:39:03,229 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT6.4471547S
2023-02-07 19:39:03,338 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 19:39:03,344 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 19:39:03,617 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 19:39:03,640 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@485e13d7, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@43984213, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@2ff7a73, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@38830ea, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@3b705be7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@3a790e40, org.springframework.test.context.transaction.TransactionalTestExecutionListener@43acd79e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1e1b061, org.springframework.test.context.event.EventPublishingTestExecutionListener@38f77cd9, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4a8e6e89, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@6fbb4061, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@63d5874f, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@60c73e58, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@5984feef, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@6c0905f6, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@23a918c7, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@7a45d714]
2023-02-07 19:39:04,144 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:39:04,162 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 7612 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:39:04,164 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:39:04,165 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:39:05,433 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:39:05,435 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:39:05,499 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:39:05,504 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:39:05,505 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 62 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:39:05,551 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:39:05,558 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:39:05,739 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 167 ms. Found 2 JPA repository interfaces.
2023-02-07 19:39:06,920 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 19:39:06,934 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:39:06,935 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:39:06,935 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:39:07,087 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:39:07,088 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2893 ms
2023-02-07 19:39:07,307 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:39:07,629 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:39:07,959 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:39:08,856 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:39:09,428 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:39:09,578 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:39:09,698 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:39:09,772 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:39:10,021 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:39:10,167 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:39:10,970 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:39:10,980 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:39:11,702 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 4506fcea-3be7-4c8b-95fa-394e2e42484e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:39:11,918 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:39:12,398 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ab4215d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57dee2b9, org.springframework.security.web.context.SecurityContextPersistenceFilter@5b810b54, org.springframework.security.web.header.HeaderWriterFilter@770635f8, org.springframework.web.filter.CorsFilter@5ed52389, maluevartem.cloud_storage_backend.security.JWTFilter@6143b2b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fb539df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c3d46d6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59960ae9, org.springframework.security.web.session.SessionManagementFilter@32b273c1, org.springframework.security.web.access.ExceptionTranslationFilter@118932fe, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@39889671]
2023-02-07 19:39:13,046 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:39:13,073 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 57273 (http) with context path ''
2023-02-07 19:39:13,084 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.402 seconds (JVM running for 38.893)
2023-02-07 19:39:16,667 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:39:16,670 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:39:16,751 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:44:43,133 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:44:43,283 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:44:44,140 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:44:44,142 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:44:44,167 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:44:44,198 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:44:44,450 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:44:44.306310500Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:44:44,604 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 1a2409afcb163d972bc8c6e4bc0612f0f511426283868a5b7ed1c3e17fddfa50
2023-02-07 19:44:45,393 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.2142613S
2023-02-07 19:44:45,402 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:44:45,403 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:44:45,405 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:44:45,438 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:44:45,745 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 3c0e1bfdaae3eb9a95c305e564dd0fac59e286ddef892504b803ea865e1d1017
2023-02-07 19:44:46,291 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:58516/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:45:11,222 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:45:11,264 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:45:12,219 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:45:12,242 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:45:12,317 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:45:12,364 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:45:12,794 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:45:12.539582500Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:45:13,209 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: 2e6505fafefa9bfa0a60e1cb0a762bff96f0200680f6c3fba825ea928dfb7d53
2023-02-07 19:45:14,272 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.9384894S
2023-02-07 19:45:14,280 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:45:14,281 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:45:14,283 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:45:14,317 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:45:14,600 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 79103c6b7a3a89bb57b13285f8df8fd25fe5a27a59b4cb1e0bada29f44ef1f53
2023-02-07 19:45:15,135 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:58758/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:45:33,586 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:58758/mysqlDataBase)
2023-02-07 19:45:33,587 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.2995696S
2023-02-07 19:45:33,591 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:45:33,886 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 7426723e57bd24a21ccbdb07764563517ae8ba6836270a1b394fce5a7121d02d
2023-02-07 19:45:48,853 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:45:48,899 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:45:49,569 INFO [main] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:45:49,571 INFO [main] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:45:49,594 INFO [main] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:45:49,626 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:45:49,879 INFO [main] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:45:49.710112400Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:45:50,043 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: f2390d209497b5a02a6f448bdc8c50ff1cd9469cafd2321036d187705d1e42f7
2023-02-07 19:45:53,009 INFO [main] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT3.4026643S
2023-02-07 19:45:53,017 INFO [main] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:45:53,017 INFO [main] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:45:53,018 INFO [main] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:45:53,049 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:latest
2023-02-07 19:45:53,271 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest is starting: 6353bc86165bb36c2c1bcc2e149804525f0ac5be8f3f751b8e2da843305f1b0b
2023-02-07 19:45:53,838 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:59064/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:46:12,982 INFO [main] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:59064/mysqlDataBase)
2023-02-07 19:46:12,983 INFO [main] org.testcontainers.containers.GenericContainer: Container mysql:latest started in PT19.9611253S
2023-02-07 19:46:12,986 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:46:13,041 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 6b4b51f93c55fa312a5ce0657ea54341c587c6cf03aa77f3961d8e84dc04bbce
2023-02-07 19:46:20,439 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 19:46:20,531 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.5451153S
2023-02-07 19:46:20,651 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 19:46:20,655 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 19:46:20,910 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 19:46:20,934 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@559cedee, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@18371d89, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@4f3faa70, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@4832f03b, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@7af3874e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5a8816cc, org.springframework.test.context.transaction.TransactionalTestExecutionListener@68565bc7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@37baddde, org.springframework.test.context.event.EventPublishingTestExecutionListener@5115f590, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@4b31a708, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@11e355ca, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@70d63e05, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@e11ecfa, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@485e13d7, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@43984213, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@2ff7a73, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@38830ea]
2023-02-07 19:46:21,438 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:46:21,456 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 14752 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:46:21,458 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:46:21,460 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:46:22,674 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:46:22,677 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:46:22,739 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:46:22,744 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:46:22,746 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 61 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:46:22,765 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:46:22,771 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:46:22,829 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.
2023-02-07 19:46:24,129 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 19:46:24,144 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:46:24,145 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:46:24,146 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:46:24,304 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:46:24,305 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2815 ms
2023-02-07 19:46:24,498 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:46:24,856 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:46:25,137 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:46:26,078 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:46:26,555 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:46:26,810 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:46:26,998 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:46:27,079 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:46:27,316 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:46:27,482 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:46:28,365 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:46:28,376 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:46:29,090 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b709538b-3a73-4cc2-8412-63d40df77d55

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:46:29,285 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:46:29,725 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2461b519, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5216e43c, org.springframework.security.web.context.SecurityContextPersistenceFilter@e30573c, org.springframework.security.web.header.HeaderWriterFilter@4fb53b76, org.springframework.web.filter.CorsFilter@e620893, maluevartem.cloud_storage_backend.security.JWTFilter@25df2014, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52a9c251, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eace68f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@411c5fa2, org.springframework.security.web.session.SessionManagementFilter@7b59f3aa, org.springframework.security.web.access.ExceptionTranslationFilter@f758e05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@57ae3c0e]
2023-02-07 19:46:30,403 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:46:30,438 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 59349 (http) with context path ''
2023-02-07 19:46:30,448 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.471 seconds (JVM running for 42.978)
2023-02-07 19:46:31,753 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:46:31,756 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:46:31,787 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:53:22,912 INFO [main] org.testcontainers.utility.ImageNameSubstitutor: Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-02-07 19:53:23,073 INFO [testcontainers-lifecycle-0] org.testcontainers.dockerclient.DockerClientProviderStrategy: Loaded org.testcontainers.dockerclient.NpipeSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-02-07 19:53:23,812 INFO [testcontainers-lifecycle-0] org.testcontainers.dockerclient.DockerClientProviderStrategy: Found Docker environment with local Npipe socket (npipe:////./pipe/docker_engine)
2023-02-07 19:53:23,814 INFO [testcontainers-lifecycle-0] org.testcontainers.DockerClientFactory: Docker host IP address is localhost
2023-02-07 19:53:23,838 INFO [testcontainers-lifecycle-0] org.testcontainers.DockerClientFactory: Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 1953 MB
2023-02-07 19:53:23,880 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Creating container for image: testcontainers/ryuk:0.3.4
2023-02-07 19:53:24,163 INFO [testcontainers-lifecycle-0] org.testcontainers.utility.RegistryAuthLocator: Failure when attempting to lookup auth config. Please ignore if you don't have images in an authenticated registry. Details: (dockerImageName: testcontainers/ryuk:0.3.4, configFile: C:\Users\Пользователь\.docker\config.json. Falling back to docker-java default behaviour. Exception message: Unexpected exit value: 1, allowed exit values: [0], executed command [cmd, /c, docker-credential-desktop, get], output was 188 bytes:
[2023-02-07T16:53:23.986411600Z][docker-credential-desktop][W] Windows version might not be up-to-date: The system cannot find the file specified.
credentials not found in native keychain
2023-02-07 19:53:24,314 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 is starting: fa1204e5e055ba9f9c299cdf9d5de6ca06ea08f38a3e8223d4b61165008b6e29
2023-02-07 19:53:25,750 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Container testcontainers/ryuk:0.3.4 started in PT1.8962203S
2023-02-07 19:53:25,758 INFO [testcontainers-lifecycle-0] org.testcontainers.utility.RyukResourceReaper: Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-02-07 19:53:25,759 INFO [testcontainers-lifecycle-0] org.testcontainers.DockerClientFactory: Checking the system...
2023-02-07 19:53:25,760 INFO [testcontainers-lifecycle-0] org.testcontainers.DockerClientFactory: ?? Docker server version should be at least 1.6.0
2023-02-07 19:53:25,776 INFO [testcontainers-lifecycle-0] org.testcontainers.images.RemoteDockerImage: Pulling docker image: mysql:8. Please be patient; this may take some time but only needs to be done once.
2023-02-07 19:53:27,916 INFO [docker-java-stream--396250288] org.testcontainers.images.LoggedPullImageResultCallback: Starting to pull image
2023-02-07 19:53:27,955 INFO [docker-java-stream--396250288] org.testcontainers.images.LoggedPullImageResultCallback: Pulling image layers:  0 pending,  0 downloaded,  0 extracted, (0 bytes/0 bytes)
2023-02-07 19:53:27,989 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Creating container for image: mysql:8
2023-02-07 19:53:28,296 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Container mysql:8 is starting: 70c65a8c5db2b9e66418bba1a4e86850a222fcbec55af738cbcdcd593c50085b
2023-02-07 19:53:28,853 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.JdbcDatabaseContainer: Waiting for database connection to become available at jdbc:mysql://localhost:60903/mysqlDataBase using query 'SELECT 1'
2023-02-07 19:53:46,775 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.JdbcDatabaseContainer: Container is started (JDBC URL: jdbc:mysql://localhost:60903/mysqlDataBase)
2023-02-07 19:53:46,776 INFO [testcontainers-lifecycle-0] org.testcontainers.containers.GenericContainer: Container mysql:8 started in PT21.0117965S
2023-02-07 19:53:46,777 INFO [main] org.testcontainers.containers.GenericContainer: Creating container for image: app-cloud-storage-back:latest
2023-02-07 19:53:46,828 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest is starting: 2286a5f92914f69554ce5a0b12a06b4bfef45d5756ee30b69a6f69b644070336
2023-02-07 19:53:54,317 WARN [testcontainers-wait-0] org.testcontainers.containers.wait.internal.InternalCommandPortListeningCheck: An exception while executing the internal check: Container.ExecResult(exitCode=137, stdout=, stderr=/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
/bin/sh: 1: nc: not found
/bin/bash: connect: Cannot assign requested address
/bin/bash: line 1: /dev/tcp/localhost/8888: Cannot assign requested address
)
2023-02-07 19:53:54,408 INFO [main] org.testcontainers.containers.GenericContainer: Container app-cloud-storage-back:latest started in PT7.6317331S
2023-02-07 19:53:54,532 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Neither @ContextConfiguration nor @ContextHierarchy found for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest], using SpringBootContextLoader
2023-02-07 19:53:54,537 INFO [main] org.springframework.test.context.support.AbstractContextLoader: Could not detect default resource locations for test class [maluevartem.cloud_storage_backend.testcontainer.CloudStorageBackendApplicationContainerTest]: no resource found for suffixes {-context.xml, Context.groovy}.
2023-02-07 19:53:54,768 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener, org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener, org.springframework.security.test.context.support.ReactorContextTestExecutionListener]
2023-02-07 19:53:54,794 INFO [main] org.springframework.test.context.support.AbstractTestContextBootstrapper: Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@bc57b40, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1b5bc39d, org.springframework.test.context.event.ApplicationEventsTestExecutionListener@655a5d9c, org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener@1494b84d, org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener@34abdee4, org.springframework.test.context.support.DirtiesContextTestExecutionListener@71a9b4c7, org.springframework.test.context.transaction.TransactionalTestExecutionListener@4628b1d3, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@77cf3f8b, org.springframework.test.context.event.EventPublishingTestExecutionListener@1df98368, org.springframework.security.test.context.support.WithSecurityContextTestExecutionListener@21ca139c, org.springframework.security.test.context.support.ReactorContextTestExecutionListener@226f885f, org.springframework.boot.test.mock.mockito.ResetMocksTestExecutionListener@2cd2c8fe, org.springframework.boot.test.autoconfigure.restdocs.RestDocsTestExecutionListener@7d61eccf, org.springframework.boot.test.autoconfigure.web.client.MockRestServiceServerResetTestExecutionListener@cc6460c, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcPrintOnlyOnFailureTestExecutionListener@52350abb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverTestExecutionListener@681aad3b, org.springframework.boot.test.autoconfigure.webservices.client.MockWebServiceServerTestExecutionListener@1a6f2363]
2023-02-07 19:53:55,419 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplicationContainerTest using Java 11.0.14.1 on Jgeleziaka-13 with PID 15584 (started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:53:55,421 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:53:55,424 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:53:55,459 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:53:56,887 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:53:56,890 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:53:56,943 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:53:57,019 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:53:57,020 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 122 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:53:57,038 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:53:57,041 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:53:57,180 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 132 ms. Found 2 JPA repository interfaces.
2023-02-07 19:53:58,289 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 0 (http)
2023-02-07 19:53:58,302 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:53:58,303 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:53:58,304 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:53:58,458 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:53:58,459 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2960 ms
2023-02-07 19:53:58,657 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:53:58,978 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:53:59,419 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:54:00,110 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:54:00,565 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:54:00,781 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:54:00,895 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:54:00,974 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:54:01,212 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:54:01,372 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:54:02,193 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:54:02,202 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:54:03,011 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 41d5d4f5-3456-45ce-882b-7e2529baf27e

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:54:03,210 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:54:03,687 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14f8fdae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4414ee28, org.springframework.security.web.context.SecurityContextPersistenceFilter@282d1023, org.springframework.security.web.header.HeaderWriterFilter@5dc90de7, org.springframework.web.filter.CorsFilter@3533b614, maluevartem.cloud_storage_backend.security.JWTFilter@747f6c5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@394a7390, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7926d092, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1caa1866, org.springframework.security.web.session.SessionManagementFilter@52d9a150, org.springframework.security.web.access.ExceptionTranslationFilter@33ac7934, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@834529e]
2023-02-07 19:54:04,396 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-auto-1"]
2023-02-07 19:54:04,444 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 61209 (http) with context path ''
2023-02-07 19:54:04,468 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplicationContainerTest in 9.631 seconds (JVM running for 42.915)
2023-02-07 19:54:05,520 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:54:05,523 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:54:05,551 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:56:03,416 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 19:56:03 MSK 2023
2023-02-07 19:56:04,103 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 996 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:56:04,103 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:56:04,105 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:56:04,105 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:56:04,839 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:56:04,840 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:56:04,867 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:56:04,869 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:56:04,871 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:56:04,878 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:56:04,879 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:56:04,909 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-07 19:56:05,426 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 19:56:05,434 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:05,435 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:56:05,435 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:56:05,548 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:56:05,548 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1403 ms
2023-02-07 19:56:05,606 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:56:05,772 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:56:06,088 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:56:06,465 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:56:06,668 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:56:06,685 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:56:06,843 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-07 19:56:06,845 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-07 19:56:06,869 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-07 19:56:06,871 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-07 19:56:06,897 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity_roles created
2023-02-07 19:56:06,901 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity_roles.yaml::create-table-user_entity_roles::Maluev Artem ran successfully in 20ms
2023-02-07 19:56:06,932 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 19:56:06,934 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 22ms
2023-02-07 19:56:06,953 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-07 19:56:06,954 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity_roles.sql::raw::includeAll ran successfully in 9ms
2023-02-07 19:56:06,967 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:56:07,019 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:56:07,067 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:56:07,223 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:56:07,307 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:56:07,865 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:56:07,872 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:56:08,302 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: f50bfc9f-a941-46a2-99c2-7943fd72ae14

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:56:08,409 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:56:08,611 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@37f75ebf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@569b3009, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ce1ec7, org.springframework.security.web.header.HeaderWriterFilter@4ee80a94, org.springframework.web.filter.CorsFilter@23d0f6be, maluevartem.cloud_storage_backend.security.JWTFilter@7bc6935c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30bd6bc8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c4697fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48cebb78, org.springframework.security.web.session.SessionManagementFilter@76d220eb, org.springframework.security.web.access.ExceptionTranslationFilter@129b0ed, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@281d3ce7]
2023-02-07 19:56:08,884 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:08,891 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8888 is already in use
2023-02-07 19:56:08,893 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:56:08,894 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:56:08,920 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-07 19:56:08,922 INFO [main] org.apache.juli.logging.DirectJDKLog: Pausing ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:08,922 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-07 19:56:08,926 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:08,926 INFO [main] org.apache.juli.logging.DirectJDKLog: Destroying ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:08,933 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-07 19:56:08,949 ERROR [main] org.springframework.boot.diagnostics.LoggingFailureAnalysisReporter: 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8888 was already in use.

Action:

Identify and stop the process that's listening on port 8888 or configure this application to listen on another port.

2023-02-07 19:56:43,722 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Tue Feb 07 19:56:43 MSK 2023
2023-02-07 19:56:44,169 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11592 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_diplom)
2023-02-07 19:56:44,170 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-07 19:56:44,170 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-07 19:56:44,171 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-07 19:56:44,873 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:56:44,874 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-07 19:56:44,901 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:56:44,903 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-07 19:56:44,904 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-07 19:56:44,912 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-07 19:56:44,913 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-07 19:56:44,944 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-07 19:56:45,527 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-07 19:56:45,536 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:45,537 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-07 19:56:45,537 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-07 19:56:45,643 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-07 19:56:45,643 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1432 ms
2023-02-07 19:56:45,699 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-07 19:56:45,857 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-07 19:56:46,406 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-07 19:56:46,722 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-07 19:56:47,021 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-07 19:56:47,146 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-07 19:56:47,198 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-07 19:56:47,242 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-07 19:56:47,365 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-07 19:56:47,450 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-07 19:56:47,977 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-07 19:56:47,985 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:56:48,389 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: ccecd818-3377-4ce9-953e-58824fa3c16d

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-07 19:56:48,486 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-07 19:56:48,680 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bdef8ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@345d4ecb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5da41d02, org.springframework.security.web.header.HeaderWriterFilter@7fb2645b, org.springframework.web.filter.CorsFilter@66e44f9f, maluevartem.cloud_storage_backend.security.JWTFilter@1ba467c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e77f29e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a598e30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79f82fc4, org.springframework.security.web.session.SessionManagementFilter@380e470a, org.springframework.security.web.access.ExceptionTranslationFilter@6ad4ef13, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2fda92e0]
2023-02-07 19:56:48,953 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-07 19:56:48,973 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-07 19:56:48,983 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.174 seconds (JVM running for 6.15)
2023-02-07 19:57:14,640 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-07 19:57:14,643 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-07 19:57:14,683 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
