2023-02-01 19:15:10,892 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 19:15:10 MSK 2023
2023-02-01 19:15:11,420 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 4968 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 19:15:11,422 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 19:15:11,423 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 19:15:11,426 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 19:15:12,494 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:15:12,496 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 19:15:12,535 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:15:12,538 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:15:12,539 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 0 JDBC repository interfaces.
2023-02-01 19:15:12,547 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:15:12,548 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 19:15:12,584 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-02-01 19:15:13,257 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 19:15:13,267 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 19:15:13,267 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 19:15:13,268 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 19:15:13,419 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 19:15:13,419 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1954 ms
2023-02-01 19:15:13,531 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 19:15:13,613 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 19:15:14,100 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 19:15:14,145 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 19:15:14,196 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 19:15:14,424 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 19:15:14,554 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 19:15:15,259 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 19:15:15,268 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 19:15:15,747 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 35485987-a7a6-4fde-9b8b-67d133059f5b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 19:15:15,878 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 19:15:16,146 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61d24347, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@347f8029, org.springframework.security.web.context.SecurityContextPersistenceFilter@742dbac8, org.springframework.security.web.header.HeaderWriterFilter@43e30f15, org.springframework.web.filter.CorsFilter@3f78a5ed, maluevartem.cloud_storage_backend.security.JWTFilter@5b39a3e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3538a129, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@766db6f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@630e5010, org.springframework.security.web.session.SessionManagementFilter@3c9c91e3, org.springframework.security.web.access.ExceptionTranslationFilter@848d9bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@46051269]
2023-02-01 19:15:16,483 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 19:15:16,513 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 19:15:16,525 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.498 seconds (JVM running for 15.818)
2023-02-01 19:19:12,680 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 19:19:12,691 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 19:19:12,732 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 19:19:20,398 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 19:19:20 MSK 2023
2023-02-01 19:19:20,901 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11028 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 19:19:20,902 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 19:19:20,902 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 19:19:20,903 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 19:19:21,625 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:19:21,626 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 19:19:21,655 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:19:21,657 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:19:21,658 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 19:19:21,667 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:19:21,667 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 19:19:21,699 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 19:19:22,264 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 19:19:22,272 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 19:19:22,273 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 19:19:22,273 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 19:19:22,386 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 19:19:22,386 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1443 ms
2023-02-01 19:19:22,442 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 19:19:22,653 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 19:19:22,975 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 19:19:23,347 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 19:19:23,405 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 19:19:23,637 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 19:19:23,649 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 19:19:23,677 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 19:19:23,690 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 19:19:23,824 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 19:19:23,826 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-01 19:19:23,873 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 19:19:23,877 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 42ms
2023-02-01 19:19:23,929 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 19:19:23,930 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 22ms
2023-02-01 19:19:23,940 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 19:19:24,003 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 19:19:24,061 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 19:19:24,207 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 19:19:24,294 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 19:19:24,795 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 19:19:24,804 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 19:19:25,229 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: e71abeb3-5f36-43b5-ba88-81ea93af98de

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 19:19:25,338 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 19:19:25,567 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1eda853f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f0751b0, org.springframework.security.web.context.SecurityContextPersistenceFilter@5f1dadf4, org.springframework.security.web.header.HeaderWriterFilter@711fbcef, org.springframework.web.filter.CorsFilter@3984e2b3, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45dfb6a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@202ba60a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35bb3fea, org.springframework.security.web.session.SessionManagementFilter@8bb5c2a, org.springframework.security.web.access.ExceptionTranslationFilter@2f70d78c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4b6942a0]
2023-02-01 19:19:25,847 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 19:19:25,866 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 19:19:25,875 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.378 seconds (JVM running for 6.486)
2023-02-01 19:26:46,895 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 19:26:46,898 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 19:26:46,919 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 19:26:57,589 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 19:26:57 MSK 2023
2023-02-01 19:26:58,082 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 19:26:58,084 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3668 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 19:26:58,085 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 19:26:58,086 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 19:26:58,893 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:26:58,894 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 19:26:58,922 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:26:58,923 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:26:58,925 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-01 19:26:58,932 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:26:58,932 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 19:26:58,963 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 19:26:59,514 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 19:26:59,522 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 19:26:59,523 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 19:26:59,523 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 19:26:59,635 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 19:26:59,635 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1509 ms
2023-02-01 19:26:59,685 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 19:26:59,841 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 19:27:00,173 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 19:27:00,572 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 19:27:00,633 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreignKey.yaml
2023-02-01 19:27:00,764 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 19:27:00,775 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-01 19:27:00,775 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 19:27:00,809 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 19:27:00,813 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 19:27:00,823 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 19:27:00,847 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: Error parsing db/changelog/migrations/script-v1.0-add-foreignKey.yaml
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:553)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:409)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: Error parsing db/changelog/migrations/script-v1.0-add-foreignKey.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:550)
	... 34 common frames omitted
Caused by: liquibase.parser.core.ParsedNodeException: Unexpected node: addForeignKeyConstraint
	at liquibase.change.ColumnConfig.load(ColumnConfig.java:784)
	at liquibase.change.AbstractChange.load(AbstractChange.java:637)
	at liquibase.changelog.ChangeSet.toChange(ChangeSet.java:517)
	at liquibase.changelog.ChangeSet.handleChildNode(ChangeSet.java:450)
	at liquibase.changelog.ChangeSet.handleChildNode(ChangeSet.java:446)
	at liquibase.changelog.ChangeSet.load(ChangeSet.java:374)
	at liquibase.changelog.DatabaseChangeLog.createChangeSet(DatabaseChangeLog.java:628)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:350)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 36 common frames omitted
2023-02-01 19:29:02,713 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 19:29:02 MSK 2023
2023-02-01 19:29:03,171 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11428 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 19:29:03,172 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 19:29:03,172 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 19:29:03,188 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 19:29:03,892 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:29:03,893 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 19:29:03,922 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:29:03,924 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 19:29:03,926 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 19:29:03,934 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 19:29:03,934 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 19:29:03,966 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 19:29:04,489 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 19:29:04,496 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 19:29:04,497 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 19:29:04,497 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 19:29:04,596 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 19:29:04,596 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1374 ms
2023-02-01 19:29:04,651 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 19:29:04,819 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 19:29:05,104 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 19:29:05,472 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 19:29:05,524 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreignKey.yaml
2023-02-01 19:29:05,673 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 19:29:05,689 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-01 19:29:05,690 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 19:29:05,711 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 19:29:05,715 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 19:29:05,725 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 19:29:05,748 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: Error parsing db/changelog/migrations/script-v1.0-add-foreignKey.yaml
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:553)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:409)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: Error parsing db/changelog/migrations/script-v1.0-add-foreignKey.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:550)
	... 34 common frames omitted
Caused by: liquibase.parser.core.ParsedNodeException: Unexpected node: addForeignKeyConstraint
	at liquibase.change.ColumnConfig.load(ColumnConfig.java:784)
	at liquibase.change.AbstractChange.load(AbstractChange.java:637)
	at liquibase.changelog.ChangeSet.toChange(ChangeSet.java:517)
	at liquibase.changelog.ChangeSet.handleChildNode(ChangeSet.java:450)
	at liquibase.changelog.ChangeSet.handleChildNode(ChangeSet.java:446)
	at liquibase.changelog.ChangeSet.load(ChangeSet.java:374)
	at liquibase.changelog.DatabaseChangeLog.createChangeSet(DatabaseChangeLog.java:628)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:350)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 36 common frames omitted
2023-02-01 20:02:40,654 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 20:02:40 MSK 2023
2023-02-01 20:02:41,247 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 11364 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 20:02:41,248 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 20:02:41,248 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 20:02:41,249 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 20:02:42,027 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 20:02:42,028 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 20:02:42,061 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 20:02:42,062 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 20:02:42,064 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-01 20:02:42,071 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 20:02:42,072 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 20:02:42,105 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-02-01 20:02:42,678 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 20:02:42,687 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 20:02:42,688 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 20:02:42,688 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 20:02:42,803 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 20:02:42,804 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1516 ms
2023-02-01 20:02:42,860 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 20:02:43,056 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 20:02:43,378 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 20:02:43,773 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 20:02:43,830 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreignKey.yaml
2023-02-01 20:02:43,968 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 20:02:43,973 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 20:02:43,977 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 20:02:44,016 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 20:02:44,033 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 20:02:44,213 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 20:02:44,218 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
2023-02-01 20:02:44,219 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 20:02:44,247 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 20:02:44,249 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 20:02:44,271 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 20:02:44,296 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.file_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:03:12,955 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:03:12 MSK 2023
2023-02-01 21:03:13,658 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9416 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:03:13,658 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:03:13,659 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:03:13,661 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:03:14,734 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:03:14,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:03:14,765 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:03:14,767 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:03:14,768 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:03:14,775 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:03:14,775 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:03:14,807 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 21:03:15,368 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:03:15,377 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:03:15,377 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:03:15,378 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:03:15,489 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:03:15,490 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1782 ms
2023-02-01 21:03:15,543 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:03:15,739 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:03:16,091 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:03:16,507 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:03:16,562 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreignKey.yaml
2023-02-01 21:03:16,702 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:03:16,706 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:03:16,803 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:03:16,833 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:03:16,850 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:03:16,949 WARN [main] liquibase.logging.core.JavaLogger: Executing classpath:/db/changelog/db.changelog-master.yaml despite precondition failure due to onFail='WARN':
      1 preconditions failed
     classpath:/db/changelog/db.changelog-master.yaml : Primary Key does not exist on file_entity

2023-02-01 21:03:17,060 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:03:17,068 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
2023-02-01 21:03:17,068 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:03:17,095 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:03:17,099 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:03:17,112 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:03:17,135 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.file_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:04:14,886 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:04:14 MSK 2023
2023-02-01 21:04:15,337 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10656 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:04:15,338 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:04:15,339 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:04:15,339 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:04:16,051 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:04:16,052 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:04:16,078 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:04:16,080 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:04:16,081 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:04:16,089 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:04:16,089 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:04:16,120 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-01 21:04:16,616 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:04:16,623 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:04:16,624 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:04:16,624 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:04:16,723 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:04:16,723 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1345 ms
2023-02-01 21:04:16,775 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:04:16,932 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:04:17,202 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:04:17,497 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:04:17,549 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreignKey.yaml
2023-02-01 21:04:17,713 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:04:17,721 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:04:17,728 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:04:17,831 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:04:17,898 WARN [main] liquibase.logging.core.JavaLogger: Executing classpath:/db/changelog/db.changelog-master.yaml despite precondition failure due to onFail='WARN':
      1 preconditions failed
     classpath:/db/changelog/db.changelog-master.yaml : Primary Key does not exist on file_entity

2023-02-01 21:04:18,024 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:04:18,029 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
2023-02-01 21:04:18,030 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:04:18,051 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:04:18,053 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:04:18,063 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:04:18,085 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreignKey.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.file_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:11:21,869 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:11:21 MSK 2023
2023-02-01 21:11:22,316 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 9636 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:11:22,317 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:11:22,318 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:11:22,318 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:11:23,051 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:11:23,052 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:11:23,081 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:11:23,083 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:11:23,084 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:11:23,092 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:11:23,093 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:11:23,124 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 21:11:23,712 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:11:23,721 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:11:23,721 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:11:23,722 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:11:23,837 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:11:23,837 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1478 ms
2023-02-01 21:11:23,913 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:11:24,107 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:11:24,472 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:11:24,844 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:11:24,901 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:11:25,057 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:11:25,160 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:11:25,198 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:11:25,212 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:11:25,349 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:11:25,353 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
2023-02-01 21:11:25,354 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:11:25,377 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:11:25,380 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:11:25,390 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:11:25,415 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to open the referenced table 'user_entity'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:17:05,736 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:17:05 MSK 2023
2023-02-01 21:17:06,645 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14184 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:17:06,645 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:17:06,646 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:17:06,651 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:17:07,931 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:17:07,932 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:17:07,964 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:17:07,966 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:17:07,967 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:17:07,975 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:17:07,975 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:17:08,007 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 21:17:08,680 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:17:08,690 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:17:08,691 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:17:08,691 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:17:08,828 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:17:08,829 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 2142 ms
2023-02-01 21:17:08,918 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:17:09,114 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:17:09,463 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:17:09,823 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:17:09,887 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:17:10,031 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:17:10,036 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:17:10,088 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:17:10,103 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:17:10,257 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:17:10,265 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
2023-02-01 21:17:10,266 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:17:10,297 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:17:10,301 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:17:10,314 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:17:10,338 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to open the referenced table 'user_entity'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:46:18,847 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:46:18 MSK 2023
2023-02-01 21:46:19,653 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 5964 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:46:19,654 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:46:19,655 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:46:19,657 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:46:20,545 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:46:20,546 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:46:20,575 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:46:20,577 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:46:20,578 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:46:20,585 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:46:20,585 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:46:20,616 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 21:46:21,283 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:46:21,292 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:46:21,293 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:46:21,293 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:46:21,405 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:46:21,406 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1697 ms
2023-02-01 21:46:21,466 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:46:21,878 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:46:22,242 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:46:22,816 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:46:22,878 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreign_key.yaml
2023-02-01 21:46:23,147 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:46:23,158 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:46:23,161 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:46:23,172 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:46:23,183 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-01 21:46:23,183 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:46:23,206 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:46:23,209 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:46:23,221 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:46:23,243 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: /db/changelog/script-v1.0-create-table-user_entity.yaml does not exist
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: /db/changelog/script-v1.0-create-table-user_entity.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:27)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-01 21:53:58,798 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:53:58 MSK 2023
2023-02-01 21:53:59,324 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 13912 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:53:59,325 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:53:59,325 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:53:59,326 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:54:00,151 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:54:00,151 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:54:00,181 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:54:00,184 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:54:00,184 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:54:00,193 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:54:00,193 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:54:00,224 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 21:54:00,792 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:54:00,803 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:54:00,804 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:54:00,804 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:54:00,918 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:54:00,918 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1550 ms
2023-02-01 21:54:00,980 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:54:01,167 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:54:01,506 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:54:01,832 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:54:01,887 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreign_key.yaml
2023-02-01 21:54:02,013 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 21:54:02,018 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 21:54:02,022 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 21:54:02,167 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:54:02,334 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:54:02,340 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
2023-02-01 21:54:02,340 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 21:54:02,365 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 21:54:02,368 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 21:54:02,380 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 21:54:02,407 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Table 'mysqlDataBase.file_entity' doesn't exist [Failed SQL: (1146) ALTER TABLE mysqlDataBase.file_entity ADD user_id BIGINT NOT NULL]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'mysqlDataBase.file_entity' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 21:56:08,176 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 21:56:08 MSK 2023
2023-02-01 21:56:08,662 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 10488 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 21:56:08,662 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 21:56:08,663 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 21:56:08,668 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 21:56:09,521 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:56:09,522 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 21:56:09,551 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:56:09,553 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 21:56:09,554 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 21:56:09,562 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 21:56:09,563 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 21:56:09,594 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-01 21:56:10,210 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 21:56:10,218 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 21:56:10,219 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 21:56:10,219 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 21:56:10,329 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 21:56:10,329 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1626 ms
2023-02-01 21:56:10,387 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 21:56:10,579 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 21:56:10,849 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 21:56:11,155 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 21:56:11,435 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 21:56:11,600 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 21:56:11,602 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 13ms
2023-02-01 21:56:11,621 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 21:56:11,623 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 12ms
2023-02-01 21:56:11,662 INFO [main] liquibase.logging.core.JavaLogger: Columns user_id(BIGINT) added to file_entity
2023-02-01 21:56:11,696 INFO [main] liquibase.logging.core.JavaLogger: Foreign key constraint added to file_entity (user_id)
2023-02-01 21:56:11,700 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem ran successfully in 70ms
2023-02-01 21:56:11,732 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 21:56:11,734 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 18ms
2023-02-01 21:56:11,748 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 21:56:11,817 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 21:56:11,868 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 21:56:12,026 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 21:56:12,136 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 21:56:12,697 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 21:56:12,705 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 21:56:13,128 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 65f7badb-942e-44b9-ae11-6403548c09fa

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 21:56:13,243 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 21:56:13,476 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14cc1f5c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3100b5cf, org.springframework.security.web.context.SecurityContextPersistenceFilter@53fb3e1b, org.springframework.security.web.header.HeaderWriterFilter@5e3a5f0c, org.springframework.web.filter.CorsFilter@7baea18b, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48a2b492, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bf997e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ad13be4, org.springframework.security.web.session.SessionManagementFilter@7364073b, org.springframework.security.web.access.ExceptionTranslationFilter@1e9d6c78, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58ec3e8b]
2023-02-01 21:56:13,784 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 21:56:13,804 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 21:56:13,815 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.548 seconds (JVM running for 6.474)
2023-02-01 21:57:30,047 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-01 21:57:30,048 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-01 21:57:30,051 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-01 21:57:30,298 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-01 21:57:30,304 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-01 21:57:31,209 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-02-01 21:57:31,209 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 21:57:31,379 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 21:57:31,444 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 21:57:31,455 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 21:57:31,464 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 21:57:31,504 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 21:57:39,798 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 21:57:39,806 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 21:57:39,851 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-02-01 21:57:39,858 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-02-01 21:57:39,876 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-01 21:57:39,877 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 21:57:39,879 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 21:57:39,885 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-02-01 21:57:39,885 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-02-01 21:57:39,938 WARN [http-nio-8888-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: SQL Error: 1048, SQLState: 23000
2023-02-01 21:57:39,939 ERROR [http-nio-8888-exec-8] org.hibernate.engine.jdbc.spi.SqlExceptionHelper: Column 'user_id' cannot be null
2023-02-01 21:57:39,971 ERROR [http-nio-8888-exec-8] org.apache.juli.logging.DirectJDKLog: Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [null]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement] with root cause
java.sql.SQLIntegrityConstraintViolationException: Column 'user_id' cannot be null
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:916)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1061)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1009)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1320)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:994)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:58)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3279)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3885)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:756)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:742)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy115.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy115.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:666)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:81)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy125.save(Unknown Source)
	at maluevartem.cloud_storage_backend.service.FileService.addFile(FileService.java:68)
	at maluevartem.cloud_storage_backend.service.FileService$$FastClassBySpringCGLIB$$fdbffb67.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at maluevartem.cloud_storage_backend.service.FileService$$EnhancerBySpringCGLIB$$d6d58a0d.addFile(<generated>)
	at maluevartem.cloud_storage_backend.controller.FileController.addFile(FileController.java:35)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1071)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:964)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:696)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:779)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:337)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:39)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-01 21:57:39,980 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3Nzg1MSwibmJmIjoxNjc1Mjc3ODUxLCJleHAiOjE2NzUyNzk2NTF9.f3CiSUELVqSq98VqtlRt_qwlbg3EClqH_E5RDYNoWKo
2023-02-01 22:00:11,425 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:00:11,430 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:00:11,465 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:00:27,042 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:00:27 MSK 2023
2023-02-01 22:00:27,526 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:00:27,533 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 4848 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:00:27,534 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:00:27,535 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:00:28,410 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:00:28,411 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:00:28,439 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:00:28,441 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:00:28,442 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:00:28,449 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:00:28,450 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:00:28,481 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-02-01 22:00:29,026 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:00:29,035 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:00:29,035 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:00:29,036 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:00:29,148 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:00:29,148 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1573 ms
2023-02-01 22:00:29,202 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:00:29,401 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:00:29,740 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:00:30,087 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:00:30,470 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:00:30,554 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:00:30,559 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem was: 8:07ea13b8bbb2b46721e941bcae3c81a3 but is now: 8:7b31d9b0335b29e10ebe3d746d422aa5

2023-02-01 22:00:30,560 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:00:30,579 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:00:30,582 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 22:00:30,592 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 22:00:30,616 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem was: 8:07ea13b8bbb2b46721e941bcae3c81a3 but is now: 8:7b31d9b0335b29e10ebe3d746d422aa5

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 change sets check sum
          /db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem was: 8:07ea13b8bbb2b46721e941bcae3c81a3 but is now: 8:7b31d9b0335b29e10ebe3d746d422aa5

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:296)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:231)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
2023-02-01 22:00:48,938 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:00:48 MSK 2023
2023-02-01 22:00:49,395 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2184 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:00:49,396 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:00:49,397 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:00:49,412 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:00:50,114 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:00:50,115 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:00:50,143 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:00:50,145 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:00:50,146 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:00:50,154 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:00:50,154 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:00:50,184 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 2 JPA repository interfaces.
2023-02-01 22:00:50,712 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:00:50,719 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:00:50,720 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:00:50,720 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:00:50,818 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:00:50,819 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1377 ms
2023-02-01 22:00:50,872 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:00:51,035 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:00:51,315 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:00:51,654 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:00:51,845 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:00:51,862 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:00:52,058 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 22:00:52,059 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 20ms
2023-02-01 22:00:52,083 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 22:00:52,088 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-02-01 22:00:52,110 INFO [main] liquibase.logging.core.JavaLogger: Columns user_id(BIGINT) added to file_entity
2023-02-01 22:00:52,127 INFO [main] liquibase.logging.core.JavaLogger: Foreign key constraint added to file_entity (user_id)
2023-02-01 22:00:52,128 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-add-foreign_key.yaml::add-foreign-key::Maluev Artem ran successfully in 30ms
2023-02-01 22:00:52,150 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 22:00:52,152 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 14ms
2023-02-01 22:00:52,163 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:00:52,219 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 22:00:52,271 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 22:00:52,447 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 22:00:52,538 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 22:00:53,065 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 22:00:53,074 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:00:53,506 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 5a2a76e1-19b9-4421-a9cc-caa8b7b164ec

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 22:00:53,606 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 22:00:53,819 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c2d124e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@602e7a9e, org.springframework.security.web.context.SecurityContextPersistenceFilter@31beb0d0, org.springframework.security.web.header.HeaderWriterFilter@9da386c, org.springframework.web.filter.CorsFilter@59f5a376, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e8fb390, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4131f6db, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19c6e821, org.springframework.security.web.session.SessionManagementFilter@5f5fb335, org.springframework.security.web.access.ExceptionTranslationFilter@cbea0df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5ae6119b]
2023-02-01 22:00:54,174 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 22:00:54,194 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 22:00:54,204 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.176 seconds (JVM running for 6.13)
2023-02-01 22:01:22,490 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-01 22:01:22,491 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-01 22:01:22,492 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-01 22:01:22,643 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-01 22:01:22,647 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-01 22:01:23,202 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-02-01 22:01:23,202 INFO [http-nio-8888-exec-1] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:23,324 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:23,328 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:23,335 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 22:01:23,341 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 22:01:23,372 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 22:01:28,932 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:28,948 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:29,003 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-02-01 22:01:29,016 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-02-01 22:01:29,035 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-01 22:01:29,036 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 22:01:29,037 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 22:01:29,047 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-02-01 22:01:29,047 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-02-01 22:01:31,120 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:31,127 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:01:31,131 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 22:01:31,131 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 22:01:31,138 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 22:03:47,553 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:03:47,556 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:03:47,581 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:03:59,573 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:03:59 MSK 2023
2023-02-01 22:04:00,020 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 1808 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:04:00,021 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:04:00,021 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:04:00,022 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:04:00,735 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:04:00,736 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:04:00,763 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:04:00,765 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:04:00,766 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 25 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:04:00,774 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:04:00,775 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:04:00,805 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 22:04:01,352 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:04:01,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:04:01,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:04:01,360 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:04:01,459 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:04:01,459 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1399 ms
2023-02-01 22:04:01,512 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:04:01,669 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:04:01,946 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:04:02,305 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:04:02,483 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:04:02,492 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-01 22:04:02,493 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:04:02,523 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:04:02,528 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 22:04:02,540 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 22:04:02,575 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: migrations/script-v1.0-add-foreign_key.yaml does not exist
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:371)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: migrations/script-v1.0-add-foreign_key.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:27)
	at liquibase.changelog.DatabaseChangeLog.include(DatabaseChangeLog.java:587)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:363)
	... 33 common frames omitted
2023-02-01 22:04:59,996 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:04:59 MSK 2023
2023-02-01 22:05:00,445 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 14524 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:05:00,446 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:05:00,447 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:05:00,448 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:05:01,177 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:05:01,178 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:05:01,205 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:05:01,207 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:05:01,208 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:05:01,216 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:05:01,217 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:05:01,247 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 22:05:01,758 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:05:01,766 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:05:01,766 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:05:01,767 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:05:01,867 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:05:01,867 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1363 ms
2023-02-01 22:05:01,919 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:05:02,083 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:05:02,366 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:05:02,684 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:05:02,899 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:05:02,914 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:05:03,046 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 22:05:03,047 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-01 22:05:03,070 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 22:05:03,072 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-01 22:05:03,092 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 22:05:03,094 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 16ms
2023-02-01 22:05:03,108 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:05:03,186 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 22:05:03,232 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 22:05:03,348 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 22:05:03,429 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 22:05:03,944 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 22:05:03,953 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:05:04,345 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: e452059b-b5a3-481e-8fe2-f2b825053353

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 22:05:04,444 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 22:05:04,666 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@65192f16, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ab8c972, org.springframework.security.web.context.SecurityContextPersistenceFilter@1002c49e, org.springframework.security.web.header.HeaderWriterFilter@3ce4eb42, org.springframework.web.filter.CorsFilter@76cad511, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21a462ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37e28b20, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ff52a71, org.springframework.security.web.session.SessionManagementFilter@3054cdd3, org.springframework.security.web.access.ExceptionTranslationFilter@25134e01, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@15c8b75c]
2023-02-01 22:05:04,942 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 22:05:04,961 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 22:05:04,971 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.884 seconds (JVM running for 5.795)
2023-02-01 22:05:39,953 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-01 22:05:39,954 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-01 22:05:39,956 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 2 ms
2023-02-01 22:05:40,070 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:05:40,082 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODA4MywibmJmIjoxNjc1Mjc4MDgzLCJleHAiOjE2NzUyNzk4ODN9.mv1wleOR7PPEoILxJB6mf_TxnPOLjimXMGQ50VYbC5I
2023-02-01 22:05:40,305 ERROR [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.exception.advice.ExceptionHandlerAdvice: (ERROR) Ошибка: Пользователь не найден, id: 0
2023-02-01 22:05:50,238 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-01 22:05:50,244 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-01 22:05:50,677 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-02-01 22:05:50,677 INFO [http-nio-8888-exec-5] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:50,745 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:50,755 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:50,766 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 22:05:50,776 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 22:05:50,810 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 22:05:56,301 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:56,312 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:56,355 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-02-01 22:05:56,367 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-02-01 22:05:56,382 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-01 22:05:56,384 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 22:05:56,384 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 22:05:56,389 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-02-01 22:05:56,390 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-02-01 22:05:58,470 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:58,483 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI3ODM1MCwibmJmIjoxNjc1Mjc4MzUwLCJleHAiOjE2NzUyODAxNTB9.yzN4p1OIjrPdwmZv6-8Hk9LN7zbDaYlVyI4PeUaH8x4
2023-02-01 22:05:58,487 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 22:05:58,488 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 22:05:58,495 INFO [http-nio-8888-exec-9] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 22:06:20,782 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:06:20,785 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:06:20,810 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:07:36,296 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:07:36 MSK 2023
2023-02-01 22:07:36,882 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8648 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:07:36,883 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:07:36,884 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:07:36,898 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:07:37,679 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:07:37,680 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:07:37,709 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:07:37,711 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:07:37,712 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:07:37,720 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:07:37,721 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:07:37,752 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-01 22:07:38,337 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:07:38,346 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:07:38,347 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:07:38,347 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:07:38,460 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:07:38,460 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1528 ms
2023-02-01 22:07:38,520 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:07:38,686 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:07:38,964 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:07:39,302 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:07:39,503 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:07:39,520 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:07:39,666 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 22:07:39,668 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-01 22:07:39,693 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 22:07:39,695 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 17ms
2023-02-01 22:07:39,717 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 22:07:39,720 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 17ms
2023-02-01 22:07:39,736 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:07:39,814 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 22:07:39,871 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 22:07:39,995 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 22:07:40,082 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 22:07:40,634 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 22:07:40,642 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:07:41,061 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: b65eb204-d447-49ce-b63a-256a9b95a310

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 22:07:41,188 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 22:07:41,468 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c8f7d6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77331437, org.springframework.security.web.context.SecurityContextPersistenceFilter@33b4c775, org.springframework.security.web.header.HeaderWriterFilter@ae85aad, org.springframework.web.filter.CorsFilter@98a0842, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45689582, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73db1a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56f569e, org.springframework.security.web.session.SessionManagementFilter@7a05cdc8, org.springframework.security.web.access.ExceptionTranslationFilter@38dc1c50, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3894d1b1]
2023-02-01 22:07:41,744 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 22:07:41,764 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 22:07:41,774 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.391 seconds (JVM running for 6.339)
2023-02-01 22:10:33,202 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:10:33,205 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:10:33,226 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:10:51,306 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:10:51 MSK 2023
2023-02-01 22:10:51,752 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 3228 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:10:51,752 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:10:51,753 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:10:51,753 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:10:52,467 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:10:52,468 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:10:52,496 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:10:52,498 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:10:52,499 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:10:52,507 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:10:52,507 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:10:52,538 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 22:10:53,089 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:10:53,098 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:10:53,098 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:10:53,098 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:10:53,199 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:10:53,199 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1407 ms
2023-02-01 22:10:53,251 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:10:53,410 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:10:53,695 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:10:54,033 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:10:54,086 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:10:54,096 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
2023-02-01 22:10:54,097 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:10:54,123 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:10:54,126 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 22:10:54,136 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 22:10:54,159 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.ChangeLogParseException: Error parsing classpath:/db/changelog/db.changelog-master.yaml
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:89)
	at liquibase.Liquibase.getDatabaseChangeLog(Liquibase.java:369)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:224)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.SetupException: Could not find directory or directory was empty for includeAll 'db/changelog/changeset/'
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:553)
	at liquibase.changelog.DatabaseChangeLog.handleChildNode(DatabaseChangeLog.java:409)
	at liquibase.changelog.DatabaseChangeLog.load(DatabaseChangeLog.java:318)
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:83)
	... 31 common frames omitted
Caused by: liquibase.exception.SetupException: Could not find directory or directory was empty for includeAll 'db/changelog/changeset/'
	at liquibase.changelog.DatabaseChangeLog.includeAll(DatabaseChangeLog.java:544)
	... 34 common frames omitted
2023-02-01 22:11:07,846 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:11:07 MSK 2023
2023-02-01 22:11:08,293 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 6732 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:11:08,293 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:11:08,294 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:11:08,298 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:11:09,030 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:11:09,031 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:11:09,059 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:11:09,061 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:11:09,062 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:11:09,070 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:11:09,070 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:11:09,101 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-01 22:11:09,656 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:11:09,665 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:11:09,665 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:11:09,665 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:11:09,765 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:11:09,765 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1433 ms
2023-02-01 22:11:09,816 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:11:09,977 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:11:10,334 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:11:10,852 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:11:10,911 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-add-foreign_key.yaml111
2023-02-01 22:11:10,912 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-file_entity.yaml
2023-02-01 22:11:11,144 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-create-table-user_entity.yaml
2023-02-01 22:11:11,147 INFO [main] liquibase.logging.core.JavaLogger: Reading resource: db/changelog/migrations/script-v1.0-fill-table-user_entity.sql
2023-02-01 22:11:11,174 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:11:11,190 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:11:11,336 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:11:11,341 WARN [main] org.springframework.context.support.AbstractApplicationContext: Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
2023-02-01 22:11:11,341 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:11:11,413 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:11:11,417 INFO [main] org.apache.juli.logging.DirectJDKLog: Stopping service [Tomcat]
2023-02-01 22:11:11,441 INFO [main] org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener: 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-02-01 22:11:11,486 ERROR [main] org.springframework.boot.SpringApplication: Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)
	at maluevartem.cloud_storage_backend.CloudStorageBackendApplication.main(CloudStorageBackendApplication.java:18)
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:126)
	at liquibase.Liquibase.lambda$null$0(Liquibase.java:265)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Liquibase.lambda$update$1(Liquibase.java:264)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Liquibase.runInScope(Liquibase.java:2405)
	at liquibase.Liquibase.update(Liquibase.java:211)
	at liquibase.Liquibase.update(Liquibase.java:197)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:314)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:269)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)
	... 18 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for change set db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem:
     Reason: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:696)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:56)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:113)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:112)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:93)
	at liquibase.Scope.lambda$child$0(Scope.java:180)
	at liquibase.Scope.child(Scope.java:189)
	at liquibase.Scope.child(Scope.java:179)
	at liquibase.Scope.child(Scope.java:158)
	at liquibase.Scope.child(Scope.java:243)
	at liquibase.Scope.child(Scope.java:247)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:65)
	... 36 common frames omitted
Caused by: liquibase.exception.DatabaseException: Failed to open the referenced table 'user_entity' [Failed SQL: (1824) CREATE TABLE mysqlDataBase.file_entity (id BIGINT AUTO_INCREMENT NOT NULL, file_name VARCHAR(128) NOT NULL, file_type VARCHAR(128) NOT NULL, file_data MEDIUMBLOB NOT NULL, hash VARCHAR(255) NOT NULL, size BIGINT NOT NULL, user_id BIGINT NULL, CONSTRAINT file_entity_pk PRIMARY KEY (id), CONSTRAINT file_user_fk FOREIGN KEY (user_id) REFERENCES mysqlDataBase.user_entity(id))]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:397)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:83)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:151)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1279)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1261)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:661)
	... 56 common frames omitted
Caused by: java.sql.SQLException: Failed to open the referenced table 'user_entity'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:393)
	... 61 common frames omitted
2023-02-01 22:12:04,542 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:12:04 MSK 2023
2023-02-01 22:12:04,997 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 2456 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:12:04,998 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:12:04,999 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:12:04,999 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:12:05,708 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:12:05,709 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:12:05,738 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:12:05,740 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:12:05,741 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:12:05,749 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:12:05,750 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:12:05,780 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-02-01 22:12:06,293 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:12:06,300 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:12:06,301 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:12:06,301 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:12:06,406 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:12:06,406 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1369 ms
2023-02-01 22:12:06,459 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:12:06,636 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:12:06,909 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:12:07,192 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:12:07,466 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:12:07,572 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 22:12:07,574 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 14ms
2023-02-01 22:12:07,597 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 22:12:07,599 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 14ms
2023-02-01 22:12:07,610 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:12:07,680 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 22:12:07,740 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 22:12:07,854 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 22:12:07,946 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 22:12:08,447 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 22:12:08,455 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:12:08,862 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: bf6aa60a-bf94-4fb7-97d9-8e0530551a2a

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 22:12:08,958 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 22:12:09,177 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@623be2a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b44ed3c, org.springframework.security.web.context.SecurityContextPersistenceFilter@29f86630, org.springframework.security.web.header.HeaderWriterFilter@68423388, org.springframework.web.filter.CorsFilter@1df83569, maluevartem.cloud_storage_backend.security.JWTFilter@12e12ac9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c51fc9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@425376cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@439047ef, org.springframework.security.web.session.SessionManagementFilter@85fd4b, org.springframework.security.web.access.ExceptionTranslationFilter@40ef385f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7da59f6e]
2023-02-01 22:12:09,450 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 22:12:09,470 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 22:12:09,480 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 4.848 seconds (JVM running for 5.761)
2023-02-01 22:12:28,421 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:12:28,424 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:12:28,442 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 22:12:34,012 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 22:12:34 MSK 2023
2023-02-01 22:12:34,621 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 15124 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 22:12:34,623 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 22:12:34,624 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 22:12:34,624 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 22:12:35,444 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:12:35,444 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 22:12:35,474 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:12:35,476 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 22:12:35,477 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 29 ms. Found 0 JDBC repository interfaces.
2023-02-01 22:12:35,485 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 22:12:35,485 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 22:12:35,515 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 26 ms. Found 2 JPA repository interfaces.
2023-02-01 22:12:36,096 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 22:12:36,106 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 22:12:36,106 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 22:12:36,106 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 22:12:36,210 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 22:12:36,210 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1546 ms
2023-02-01 22:12:36,267 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 22:12:36,436 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 22:12:36,704 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 22:12:37,081 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 22:12:37,351 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 22:12:37,459 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 22:12:37,460 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 13ms
2023-02-01 22:12:37,473 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 22:12:37,523 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 22:12:37,578 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 22:12:37,695 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 22:12:37,776 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 22:12:38,304 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 22:12:38,313 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:12:38,841 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: 72200919-f65a-48e6-a950-f090190ff615

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 22:12:38,985 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 22:12:39,222 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8318808, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b97f195, org.springframework.security.web.context.SecurityContextPersistenceFilter@514c6ca0, org.springframework.security.web.header.HeaderWriterFilter@1a865ebf, org.springframework.web.filter.CorsFilter@408bb173, maluevartem.cloud_storage_backend.security.JWTFilter@32f5ecc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40ef385f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a4c6e74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@360d0c7a, org.springframework.security.web.session.SessionManagementFilter@15251cc2, org.springframework.security.web.access.ExceptionTranslationFilter@4981b83, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2e76ade9]
2023-02-01 22:12:39,503 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 22:12:39,523 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 22:12:39,532 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 5.425 seconds (JVM running for 6.651)
2023-02-01 22:14:07,646 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 22:14:07,650 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 22:14:07,683 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
2023-02-01 23:45:32,692 INFO [main] maluevartem.cloud_storage_backend.CloudStorageBackendApplication: Сервер запущен: Wed Feb 01 23:45:32 MSK 2023
2023-02-01 23:45:33,622 INFO [main] org.springframework.boot.StartupInfoLogger: Starting CloudStorageBackendApplication using Java 11.0.14.1 on Jgeleziaka-13 with PID 8548 (D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend\target\classes started by Пользователь in D:\JavaCourse\DiplomaWork_CloudStorage\cloud_storage_backend)
2023-02-01 23:45:33,623 DEBUG [main] org.springframework.boot.StartupInfoLogger: Running with Spring Boot v2.7.5, Spring v5.3.23
2023-02-01 23:45:33,624 INFO [main] org.springframework.boot.SpringApplication: No active profile set, falling back to 1 default profile: "default"
2023-02-01 23:45:33,626 INFO [background-preinit] org.hibernate.validator.internal.util.Version: HV000001: Hibernate Validator 6.2.5.Final
2023-02-01 23:45:34,591 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 23:45:34,592 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2023-02-01 23:45:34,622 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.FileRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 23:45:34,624 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationExtensionSupport: Spring Data JDBC - Could not safely identify store assignment for repository candidate interface maluevartem.cloud_storage_backend.repository.UserRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2023-02-01 23:45:34,625 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.
2023-02-01 23:45:34,632 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Multiple Spring Data modules found, entering strict repository configuration mode
2023-02-01 23:45:34,632 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-02-01 23:45:34,673 INFO [main] org.springframework.data.repository.config.RepositoryConfigurationDelegate: Finished Spring Data repository scanning in 37 ms. Found 2 JPA repository interfaces.
2023-02-01 23:45:35,263 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat initialized with port(s): 8888 (http)
2023-02-01 23:45:35,274 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing ProtocolHandler ["http-nio-8888"]
2023-02-01 23:45:35,275 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting service [Tomcat]
2023-02-01 23:45:35,275 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting Servlet engine: [Apache Tomcat/9.0.68]
2023-02-01 23:45:35,416 INFO [main] org.apache.juli.logging.DirectJDKLog: Initializing Spring embedded WebApplicationContext
2023-02-01 23:45:35,416 INFO [main] org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext: Root WebApplicationContext: initialization completed in 1736 ms
2023-02-01 23:45:35,511 DEBUG [main] org.springframework.web.filter.GenericFilterBean: Filter 'JWTFilter' configured for use
2023-02-01 23:45:35,723 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Starting...
2023-02-01 23:45:36,058 INFO [main] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Start completed.
2023-02-01 23:45:36,490 INFO [main] liquibase.logging.core.JavaLogger: Successfully acquired change log lock
2023-02-01 23:45:36,848 INFO [main] liquibase.logging.core.JavaLogger: Creating database history table with name: mysqlDataBase.DATABASECHANGELOG
2023-02-01 23:45:36,864 INFO [main] liquibase.logging.core.JavaLogger: Reading from mysqlDataBase.DATABASECHANGELOG
2023-02-01 23:45:36,985 INFO [main] liquibase.logging.core.JavaLogger: Table user_entity created
2023-02-01 23:45:36,987 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-user_entity.yaml::create-table-user_entity::Maluev Artem ran successfully in 15ms
2023-02-01 23:45:37,010 INFO [main] liquibase.logging.core.JavaLogger: Table file_entity created
2023-02-01 23:45:37,012 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-create-table-file_entity.yaml::create-table-file_entity::Maluev Artem ran successfully in 15ms
2023-02-01 23:45:37,034 INFO [main] liquibase.logging.core.JavaLogger: Custom SQL executed
2023-02-01 23:45:37,035 INFO [main] liquibase.logging.core.JavaLogger: ChangeSet /db/changelog/migrations/script-v1.0-fill-table-user_entity.sql::raw::includeAll ran successfully in 15ms
2023-02-01 23:45:37,047 INFO [main] liquibase.logging.core.JavaLogger: Successfully released change log lock
2023-02-01 23:45:37,154 INFO [main] org.hibernate.jpa.internal.util.LogHelper: HHH000204: Processing PersistenceUnitInfo [name: default]
2023-02-01 23:45:37,211 INFO [main] org.hibernate.Version: HHH000412: Hibernate ORM core version 5.6.12.Final
2023-02-01 23:45:37,341 INFO [main] org.hibernate.annotations.common.reflection.java.JavaReflectionManager: HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2023-02-01 23:45:37,455 INFO [main] org.hibernate.dialect.Dialect: HHH000400: Using dialect: org.hibernate.dialect.MySQL5Dialect
2023-02-01 23:45:38,018 INFO [main] org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator: HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-02-01 23:45:38,026 INFO [main] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 23:45:38,457 WARN [main] org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration: 

Using generated security password: bc678c77-4ce0-42fb-98ba-33382bd43e0b

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-02-01 23:45:38,582 WARN [main] org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration$JpaWebConfiguration: spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-02-01 23:45:38,793 INFO [main] org.springframework.security.web.DefaultSecurityFilterChain: Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb8d720, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21b792c2, org.springframework.security.web.context.SecurityContextPersistenceFilter@737ae41a, org.springframework.security.web.header.HeaderWriterFilter@38dc1c50, org.springframework.web.filter.CorsFilter@6202f8bf, maluevartem.cloud_storage_backend.security.JWTFilter@474179fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f3fafca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@174aabb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@330d557e, org.springframework.security.web.session.SessionManagementFilter@40f931ec, org.springframework.security.web.access.ExceptionTranslationFilter@1c3400df, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32eeef08]
2023-02-01 23:45:39,079 INFO [main] org.apache.juli.logging.DirectJDKLog: Starting ProtocolHandler ["http-nio-8888"]
2023-02-01 23:45:39,105 INFO [main] org.springframework.boot.web.embedded.tomcat.TomcatWebServer: Tomcat started on port(s): 8888 (http) with context path ''
2023-02-01 23:45:39,118 INFO [main] org.springframework.boot.StartupInfoLogger: Started CloudStorageBackendApplication in 6.31 seconds (JVM running for 7.435)
2023-02-01 23:45:46,870 INFO [http-nio-8888-exec-1] org.apache.juli.logging.DirectJDKLog: Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-02-01 23:45:46,871 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Initializing Servlet 'dispatcherServlet'
2023-02-01 23:45:46,873 INFO [http-nio-8888-exec-1] org.springframework.web.servlet.FrameworkServlet: Completed initialization in 1 ms
2023-02-01 23:45:46,995 ERROR [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Срок действия токена истек (Token expired)
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2023-02-01T19:35:50Z. Current time: 2023-02-01T20:45:46Z, a difference of 4196992 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at maluevartem.cloud_storage_backend.security.JWTToken.validateToken(JWTToken.java:74)
	at maluevartem.cloud_storage_backend.security.JWTToken.validateAccessToken(JWTToken.java:66)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:29)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-01 23:45:47,011 ERROR [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTToken: Срок действия токена истек (Token expired)
io.jsonwebtoken.ExpiredJwtException: JWT expired at 2023-02-01T19:35:50Z. Current time: 2023-02-01T20:45:47Z, a difference of 4197010 milliseconds.  Allowed clock skew: 0 milliseconds.
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:427)
	at io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:529)
	at io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:589)
	at io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)
	at maluevartem.cloud_storage_backend.security.JWTToken.validateToken(JWTToken.java:74)
	at maluevartem.cloud_storage_backend.security.JWTToken.validateAccessToken(JWTToken.java:66)
	at maluevartem.cloud_storage_backend.security.JWTFilter.doFilter(JWTFilter.java:29)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:346)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:221)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:186)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)
	at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)
	at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)
	at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)
	at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)
	at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1789)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
2023-02-01 23:45:57,942 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь пытается войти в систему: UserDto(login=User, password=user1234)
2023-02-01 23:45:57,947 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.service.AuthenticationService: Поиск пользователя в базе данных по логину: User
2023-02-01 23:45:58,473 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.security.JWTToken: Auth-token добавлен в список активных токеннов
2023-02-01 23:45:58,473 INFO [http-nio-8888-exec-6] maluevartem.cloud_storage_backend.controller.AuthenticationController: Пользователь: UserDto(login=User, password=user1234) успешно вошел в систему. Auth-token: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:45:58,583 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:45:58,594 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:45:58,603 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 23:45:58,613 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 23:45:58,645 INFO [http-nio-8888-exec-8] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 23:46:04,917 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:46:04,925 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:46:05,023 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.controller.FileController: Файл для загрузки на сервер: Регистрация БПЛА.pdf
2023-02-01 23:46:05,378 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Поиск файла в хранилище по имени файла Регистрация БПЛА.pdf и идентификатору 1
2023-02-01 23:46:05,422 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Контрольная сумма успешно сгенерирована для файла: file
2023-02-01 23:46:05,423 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Получен массив байтов файла и сгенерирован хэш файла:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 23:46:05,424 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Проверка наличия файла в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0
2023-02-01 23:46:05,603 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Файл в базе данных по Id пользователя:1 и хэшу:0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0 не существует
2023-02-01 23:46:05,604 INFO [http-nio-8888-exec-2] maluevartem.cloud_storage_backend.service.FileService: Файл создан и сохранен в базе данных. Имя файла: Регистрация БПЛА.pdf, хэш: 0127a5d609ce715877b3f1815a6def2ab3dc21e0e81bb04d22a4e8909f3408c0, Id пользователя: 1
2023-02-01 23:46:08,110 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:46:08,115 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.security.JWTFilter: Токен действителен: eyJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxIiwic3ViIjoiVXNlciIsImlhdCI6MTY3NTI4NDM1OCwibmJmIjoxNjc1Mjg0MzU4LCJleHAiOjE2NzUyODYxNTh9.HIjvJD4Q6F7FiXFgJRzMMN1B5eus1xK8qCJ2xm5j5GE
2023-02-01 23:46:08,118 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.controller.FileController: Запрос для получения списка файлов. Лимит: 3
2023-02-01 23:46:08,119 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Поиск всех файлов в базе данных по Id пользователя: 1 и лимиту вывода: 3
2023-02-01 23:46:08,126 INFO [http-nio-8888-exec-4] maluevartem.cloud_storage_backend.service.FileService: Все файлы в базе данных по Id пользователя: 1 и лимиту вывода: 3 найдены | Список файлов: []
2023-02-01 23:54:18,666 INFO [SpringApplicationShutdownHook] org.springframework.orm.jpa.AbstractEntityManagerFactoryBean: Closing JPA EntityManagerFactory for persistence unit 'default'
2023-02-01 23:54:18,673 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown initiated...
2023-02-01 23:54:18,756 INFO [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource: HikariPool-1 - Shutdown completed.
